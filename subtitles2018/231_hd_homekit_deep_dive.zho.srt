1
00:00:07,516 --> 0:00:16,500
[ 音乐 ]

2
00:00:23,516 --> 0:00:30,656
[ 掌声 ]

3
00:00:31,156 --> 0:00:31,696
&gt;&gt; 早上好

4
00:00:32,836 --> 0:00:34,026
我的名字是 Keith Rauenbuehler

5
00:00:34,186 --> 0:00:35,796
我来自 HomeKit Engineering 团队

6
00:00:36,666 --> 0:00:37,906
现在 我们要重点谈一谈

7
00:00:37,906 --> 0:00:40,936
HomeKit 的三个具体领域

8
00:00:42,276 --> 0:00:44,156
首先 我们将概述一下

9
00:00:44,156 --> 0:00:47,086
HomeKit 和 Home App

10
00:00:47,086 --> 0:00:48,686
然后我们会讲讲

11
00:00:48,686 --> 0:00:50,796
如何设置 HomeKit 配件

12
00:00:51,946 --> 0:00:53,686
最后 我们会谈谈 

13
00:00:53,686 --> 0:00:56,016
HomeKit API 以及如何使用它们

14
00:00:56,936 --> 0:00:58,146
让我们直奔主题

15
00:00:58,826 --> 0:01:02,186
最好的去真正了解

16
00:00:58,826 --> 0:01:02,186
最好的去真正了解

17
00:01:02,186 --> 0:01:04,075
HomeKit 功能的方式

18
00:01:04,676 --> 0:01:06,686
就是打开 Home App

19
00:01:07,356 --> 0:01:09,386
仅仅一页 App 界面

20
00:01:09,416 --> 0:01:10,946
便连接了你所有的 HomeKit 配件

21
00:01:12,236 --> 0:01:14,436
现在 有数不清的功能被设计进

22
00:01:14,436 --> 0:01:16,086
Home App 我们利用

23
00:01:16,086 --> 0:01:17,816
今天的大会来谈谈

24
00:01:17,816 --> 0:01:18,856
其中比较重要的功能

25
00:01:19,396 --> 0:01:21,666
Home App 现在

26
00:01:21,666 --> 0:01:25,936
支持 iPad iPhone 和 Apple Watch

27
00:01:26,566 --> 0:01:30,186
Home App 有三个基本的选项

28
00:01:30,616 --> 0:01:32,906
这是 Home 选项 用来

29
00:01:32,906 --> 0:01:34,376
寻找你喜欢的

30
00:01:34,376 --> 0:01:36,436
HomeKit 配件和场景

31
00:01:37,446 --> 0:01:39,516
这是 Rooms 选项 这是

32
00:01:39,516 --> 0:01:41,906
一个很棒的选项 用来设置

33
00:01:41,906 --> 0:01:43,516
特定的房间和浏览

34
00:01:43,516 --> 0:01:44,786
其所有的配件

35
00:01:44,786 --> 0:01:45,976
只要是这个房间里的

36
00:01:47,056 --> 0:01:49,226
最后是 Automations 选项

37
00:01:49,226 --> 0:01:50,556
你可以在这里

38
00:01:50,556 --> 0:01:52,456
设置和管理你的智能家居

39
00:01:52,456 --> 0:01:53,116
自动设备

40
00:01:53,696 --> 0:01:57,016
现在 控制配件

41
00:01:57,016 --> 0:01:58,136
对于 Home App 来说非常简单

42
00:01:59,246 --> 0:02:01,866
想要切换状态 只需点击屏幕上的块

43
00:01:59,246 --> 0:02:01,866
想要切换状态 只需点击屏幕上的块

44
00:02:02,926 --> 0:02:04,106
所以如果你想打开

45
00:02:04,106 --> 0:02:07,726
一盏灯 你只需点击这个块

46
00:02:11,476 --> 0:02:13,016
现在 如果你想要进行更加精细的

47
00:02:13,016 --> 0:02:16,096
控制 你可以使用三维触控 

48
00:02:16,096 --> 0:02:17,136
来打开我们的快速控制

49
00:02:17,686 --> 0:02:18,716
所以我们回到刚才

50
00:02:18,716 --> 0:02:20,686
同一盏灯的问题上 如果我们想调节

51
00:02:20,816 --> 0:02:23,876
它整体的亮度 看这是一个变光开关 我们可以 

52
00:02:23,876 --> 0:02:26,296
在屏幕上使用三维触控 然后我们就能

53
00:02:26,296 --> 0:02:27,196
打开快速控制栏

54
00:02:32,506 --> 0:02:33,806
现在 我们也加入了场景

55
00:02:33,806 --> 0:02:35,716
在这个 Home App 里面 场景是一个

56
00:02:35,716 --> 0:02:37,266
非常有效的途径来实现你的控制

57
00:02:37,516 --> 0:02:38,636
它可以让你控制多种

58
00:02:38,636 --> 0:02:40,876
配件 只需一次简单的点击即可完成

59
00:02:41,916 --> 0:02:43,406
一个场景就是一个简单的界面

60
00:02:43,746 --> 0:02:45,016
它将多种配件组合

61
00:02:45,016 --> 0:02:46,716
在一起 不论是开始

62
00:02:46,716 --> 0:02:49,406
你清晨的一天还是

63
00:02:49,406 --> 0:02:50,536
将你的卧室设置成

64
00:02:50,536 --> 0:02:51,956
完美的观赏电影场所

65
00:02:52,306 --> 0:02:54,826
在一天里 你的家时刻在变化

66
00:02:55,586 --> 0:02:56,666
人们来来往往

67
00:02:57,326 --> 0:02:59,276
灯也许开了又关

68
00:02:59,826 --> 0:03:00,996
百叶窗开开合合

69
00:02:59,826 --> 0:03:00,996
百叶窗开开合合

70
00:03:01,306 --> 0:03:02,406
而场景功能则将帮助你

71
00:03:02,406 --> 0:03:03,966
基本上制定一个理想的

72
00:03:03,966 --> 0:03:05,346
状态 所有这些附件都可以实现

73
00:03:06,136 --> 0:03:07,126
让你可以拥有一个美好的夜晚

74
00:03:07,126 --> 0:03:08,956
场景关闭了灯盏

75
00:03:09,496 --> 0:03:11,596
合上了百叶窗 锁上了

76
00:03:11,596 --> 0:03:13,216
门 并且设定了恒温器

77
00:03:14,386 --> 0:03:15,576
然后当你准备上床睡觉时

78
00:03:16,086 --> 0:03:17,676
你只需点击屏幕上的

79
00:03:17,676 --> 0:03:19,596
"晚安" 而 HomeKit

80
00:03:19,596 --> 0:03:20,726
则会为你在夜间管理你的房子

81
00:03:29,326 --> 0:03:32,476
现在 在 iOS 上 我们也拥有了快速

82
00:03:32,476 --> 0:03:34,736
进入 Home 快捷指令的方法 即通过控制中心

83
00:03:35,796 --> 0:03:37,196
这是一个极棒的方式来浏览和

84
00:03:37,196 --> 0:03:38,756
控制你喜欢的 HomeKit

85
00:03:38,756 --> 0:03:40,476
配件 它甚至

86
00:03:40,476 --> 0:03:41,986
可以提供进入场景的方式

87
00:03:42,586 --> 0:03:44,386
现在 这的确非常 真的 

88
00:03:44,386 --> 0:03:46,466
方便 但是更棒的

89
00:03:46,466 --> 0:03:47,416
方式来控制 HomeKit

90
00:03:47,416 --> 0:03:48,976
配件是通过 Siri

91
00:03:49,596 --> 0:03:52,066
你可以对 Siri 说早上好

92
00:03:52,066 --> 0:03:54,686
这将激活你美好的清晨场景

93
00:03:55,336 --> 0:03:57,816
你也可以通过 Siri 来控制

94
00:03:57,816 --> 0:03:59,356
个人的 HomeKit 配件

95
00:04:00,046 --> 0:04:01,346
所以你可以用 Siri 打开

96
00:04:01,346 --> 0:04:03,826
你厨房的灯或者

97
00:04:03,826 --> 0:04:04,966
确认你的门是否已经锁了

98
00:04:05,756 --> 0:04:06,946
你甚至可以使用 Siri 打开

99
00:04:06,946 --> 0:04:08,566
你喜欢的 HomeKit 相机流

100
00:04:09,636 --> 0:04:13,196
现在 截至目前 HomeKit 仅支持

101
00:04:13,456 --> 0:04:17,776
iOS watchOS 和 tvOS

102
00:04:18,776 --> 0:04:20,086
但是今年 我们激动地

103
00:04:20,086 --> 0:04:22,926
宣布我们的 Home App 将支持 Mac 

104
00:04:24,516 --> 0:04:29,176
[ 掌声 ]

105
00:04:29,676 --> 0:04:30,766
现在 我们非常激动

106
00:04:30,796 --> 0:04:32,396
这是一个极棒的途径

107
00:04:32,396 --> 0:04:34,096
来控制你的家

108
00:04:34,096 --> 0:04:36,136
仅需电脑 甚至不用

109
00:04:36,136 --> 0:04:37,126
从口袋中掏出你的手机

110
00:04:38,656 --> 0:04:41,016
这也是一个极好的方式来控制

111
00:04:41,016 --> 0:04:42,306
你的家 因为你将收到 

112
00:04:42,306 --> 0:04:44,166
你的 HomeKit 通知 

113
00:04:44,166 --> 0:04:44,656
它会出现在你的 Mac 上 

114
00:04:45,916 --> 0:04:47,416
并且我们甚至还打造了 HomeKit 

115
00:04:47,626 --> 0:04:49,696
Siri 集成在 Mac 上面 

116
00:04:49,696 --> 0:04:51,416
所以你可以使用所有你 

117
00:04:51,416 --> 0:04:53,586
喜欢的 Siri 激活方式来 

118
00:04:53,586 --> 0:04:54,586
管理你的配件

119
00:04:54,586 --> 0:04:55,596
这可以直接在电脑上实现 

120
00:04:55,926 --> 0:04:57,366
现在苹果最新的 

121
00:04:57,366 --> 0:04:59,916
产品 HomePod 是我 

122
00:04:59,916 --> 0:05:00,926
最喜欢的方式来控制我的 

123
00:04:59,916 --> 0:05:00,926
最喜欢的方式来控制我的 

124
00:05:00,926 --> 0:05:01,826
HomeKit 配件

125
00:05:02,356 --> 0:05:03,576
它不仅仅是一个优秀的 

126
00:05:03,576 --> 0:05:06,836
音响 更是一种绝佳的方式 

127
00:05:06,836 --> 0:05:07,676
来管理你的 HomeKit 

128
00:05:07,676 --> 0:05:09,566
配件 因为任何人在

129
00:05:09,616 --> 0:05:11,236
你的家都可以使用它 仅仅通过

130
00:05:11,236 --> 0:05:11,756
他们的语音即可

131
00:05:13,276 --> 0:05:15,276
这种解放双手的 Siri 界面 

132
00:05:15,936 --> 0:05:17,126
允许你快速便捷地

133
00:05:17,126 --> 0:05:18,636
在你的家中 管理这些配件

134
00:05:19,176 --> 0:05:21,226
非常容易上手

135
00:05:21,226 --> 0:05:23,286
我特别喜欢用我的

136
00:05:23,286 --> 0:05:24,946
HomePod 来控制家里的

137
00:05:24,946 --> 0:05:25,486
那些灯光 

138
00:05:26,836 --> 0:05:27,996
这变得尤其方便 

139
00:05:27,996 --> 0:05:29,556
当我走进厨房 

140
00:05:29,556 --> 0:05:31,736
扛着大包小包 我只需要 

141
00:05:31,826 --> 0:05:33,806
用我的声音告诉 Siri 打开灯即可 

142
00:05:35,736 --> 0:05:37,086
目前我们也收到了很多

143
00:05:37,086 --> 0:05:39,496
用户反馈 他们说自己 

144
00:05:39,496 --> 0:05:41,036
非常喜欢使用他们的 HomePod 

145
00:05:41,036 --> 0:05:42,056
打开晚安场景 

146
00:05:43,126 --> 0:05:44,466
他们只需仅仅告诉 Siri 晚安这个词 

147
00:05:44,466 --> 0:05:45,506
当他们想要睡觉的时候 

148
00:05:46,186 --> 0:05:50,356
目前 HomePod 已经充当了

149
00:05:50,356 --> 0:05:53,816
比以往更重要的角色 

150
00:05:53,976 --> 0:05:56,946
在我们的家中 因为它可以实现远程控制 

151
00:05:56,946 --> 0:05:58,686
和自动化操作

152
00:05:59,326 --> 0:06:01,846
目前 远程控制是我在 HomeKit 

153
00:05:59,326 --> 0:06:01,846
目前 远程控制是我在 HomeKit 

154
00:06:01,846 --> 0:06:03,766
上最喜欢的功能之一 因为

155
00:06:03,966 --> 0:06:05,936
它可以让你在并不在家的时候

156
00:06:05,936 --> 0:06:07,286
控制你的家

157
00:06:08,646 --> 0:06:11,546
当你不在家的时候 可以放宽心来检查 

158
00:06:11,546 --> 0:06:14,206
车库的门是否锁好或者 

159
00:06:14,206 --> 0:06:16,396
你的恒温器有没有关好

160
00:06:17,466 --> 0:06:18,586
并且 你可以在任何距离家较远的情况下

161
00:06:18,586 --> 0:06:19,086
实现这个功能

162
00:06:19,586 --> 0:06:21,716
目前 这个功能需要配备

163
00:06:21,716 --> 0:06:25,666
家庭控制中心 但 HomePod Apple TV

164
00:06:25,906 --> 0:06:32,236
和 iPad 都有内置家庭控制中心的功能

165
00:06:32,456 --> 0:06:33,956
所以通过远程遥控 你可以 

166
00:06:33,956 --> 0:06:35,436
在你出门之后

167
00:06:35,436 --> 0:06:35,756
密切关注家里的情况

168
00:06:36,566 --> 0:06:38,136
也许你想要分享 

169
00:06:38,136 --> 0:06:39,856
控制支持 

170
00:06:39,856 --> 0:06:41,486
给其他的用户 

171
00:06:42,516 --> 0:06:43,876
在 HomeKit 上 你可以管理 

172
00:06:43,996 --> 0:06:45,316
其他用户的远程控制 

173
00:06:45,316 --> 0:06:47,276
权限 并且指定 

174
00:06:47,276 --> 0:06:49,646
其他用户仅能在本地控制部分配件 

175
00:06:49,926 --> 0:06:53,186
让我们来谈谈 

176
00:06:53,186 --> 0:06:54,526
远程控制如何工作的

177
00:06:55,956 --> 0:06:56,936
当你在家时 

178
00:06:57,866 --> 0:06:59,626
你的 Apple 装置直接同 

179
00:06:59,626 --> 0:07:01,506
你的配件进行交流 

180
00:06:59,626 --> 0:07:01,506
你的配件进行交流 

181
00:07:02,746 --> 0:07:04,176
但是当你离开家的时候 

182
00:07:05,476 --> 0:07:07,236
你就需要一个家庭控制中心了 再说一次 

183
00:07:07,236 --> 0:07:09,556
它可以是一个 HomePod 或者 Apple TV

184
00:07:09,896 --> 0:07:12,546
再或者是 iPad 然后你的手机

185
00:07:12,546 --> 0:07:13,606
将直接同你的家庭 

186
00:07:13,606 --> 0:07:15,606
控制中心沟通 然后控制中心再将

187
00:07:15,606 --> 0:07:16,616
同配件进行沟通

188
00:07:17,156 --> 0:07:20,666
你可以检查这些配件的

189
00:07:20,666 --> 0:07:21,656
最新状态

190
00:07:22,086 --> 0:07:24,116
你也可以浏览相机中的照片流 

191
00:07:24,116 --> 0:07:26,416
你甚至可以锁上你的门 

192
00:07:26,416 --> 0:07:27,456
如果你出门

193
00:07:27,456 --> 0:07:28,556
开始新的一天之前

194
00:07:29,216 --> 0:07:29,283
忘记了锁门

195
00:07:29,446 --> 0:07:31,336
现在 我们已经见识了多简单易行

196
00:07:31,336 --> 0:07:32,926
来利用场景功能 

197
00:07:32,926 --> 0:07:33,996
让设备一起工作

198
00:07:34,506 --> 0:07:35,916
场景功能的确非常出色 但是

199
00:07:35,916 --> 0:07:37,186
自动操作能让你切换 

200
00:07:37,186 --> 0:07:38,276
场景更加自动化

201
00:07:39,196 --> 0:07:41,166
所以你可以完成这件事却不用

202
00:07:41,166 --> 0:07:46,396
打开 Home App 或者使用你的语音

203
00:07:46,586 --> 0:07:47,846
自动操作让你可以控制 

204
00:07:47,846 --> 0:07:50,446
单独配件或者是整个 

205
00:07:50,446 --> 0:07:51,876
场景 它是基于一些关键性

206
00:07:51,876 --> 0:07:53,796
驱动来实现的 例如

207
00:07:53,796 --> 0:07:56,116
某人回到家 或者在某个

208
00:07:56,116 --> 0:07:57,336
特定的时间点运行它

209
00:07:58,246 --> 0:08:00,056
你甚至可以用其他 

210
00:07:58,246 --> 0:08:00,056
你甚至可以用其他 

211
00:08:00,056 --> 0:08:01,096
在房间的配件来 

212
00:08:01,096 --> 0:08:02,086
激活自动操作 

213
00:08:03,346 --> 0:08:05,216
自动操作可以便捷地

214
00:08:05,486 --> 0:08:06,866
在后门打开时 

215
00:08:06,966 --> 0:08:09,476
打开后阳台的灯 或者 

216
00:08:10,746 --> 0:08:13,926
当有人出门时关闭空调

217
00:08:15,546 --> 0:08:16,996
现在 我们也支持更多 

218
00:08:16,996 --> 0:08:21,436
复杂的自动操作 所以你可以

219
00:08:21,496 --> 0:08:23,506
打开车库门 打开你的灯 

220
00:08:23,506 --> 0:08:25,456
打开百叶窗 

221
00:08:25,606 --> 0:08:27,546
将恒温器设定到 

222
00:08:27,546 --> 0:08:29,916
适宜的温度 这些都能在你已经达到车道时做到 

223
00:08:30,516 --> 0:08:31,516
现在 这是我最喜欢的 

224
00:08:31,516 --> 0:08:33,895
自动操作之一 因为我经常

225
00:08:34,426 --> 0:08:37,606
要应付一些杂货 或者孩子们   

226
00:08:37,606 --> 0:08:39,796
或者当我到家的时候 正要结束一通电话

227
00:08:40,446 --> 0:08:41,576
这就让我可以进入

228
00:08:41,576 --> 0:08:43,456
家中而不用笨拙地摸索 

229
00:08:43,456 --> 0:08:44,356
我的钥匙

230
00:08:47,356 --> 0:08:49,286
现在 其中一件重要的事是 

231
00:08:49,286 --> 0:08:50,656
HomeKit 提供给顾客的是

232
00:08:50,736 --> 0:08:53,506
难以置信的便捷方式来

233
00:08:53,506 --> 0:08:54,946
将配件添加到你的家中或者

234
00:08:54,946 --> 0:08:55,576
你的家居网络中

235
00:08:56,966 --> 0:08:58,516
其他的服务经常会要求 

236
00:08:58,516 --> 0:09:00,606
你下载 App 根据 

237
00:08:58,516 --> 0:09:00,606
你下载 App 根据 

238
00:09:00,916 --> 0:09:03,366
用户指示 并且历经 

239
00:09:03,366 --> 0:09:04,466
一连串复杂的过程来添加 

240
00:09:04,466 --> 0:09:05,316
一款配件到你的网络中去

241
00:09:06,036 --> 0:09:08,076
现在如果你曾经设置过 

242
00:09:08,076 --> 0:09:10,136
没有 HomeKit 的配件 你就会明白

243
00:09:10,136 --> 0:09:11,276
这样的体验能是多么的 

244
00:09:11,276 --> 0:09:12,896
令人沮丧和厌烦 

245
00:09:13,696 --> 0:09:15,486
有了 HomeKit 添加配件变得

246
00:09:15,486 --> 0:09:16,416
易如反掌

247
00:09:17,456 --> 0:09:19,146
你只需下载 Home

248
00:09:19,146 --> 0:09:21,306
App 并扫描配件码 

249
00:09:22,596 --> 0:09:24,086
剩下的交给 HomeKit 就好了

250
00:09:24,706 --> 0:09:25,626
就是这么简单

251
00:09:26,166 --> 0:09:29,186
并且如果配件具备 NFC 功能

252
00:09:29,376 --> 0:09:31,326
则会让这个设置过程更简单

253
00:09:32,426 --> 0:09:33,576
你可以下载 Home App

254
00:09:34,156 --> 0:09:36,816
在你手机上点击配件 然后就大功告成 

255
00:09:40,916 --> 0:09:42,586
关于 HomeKit 还有一件很棒的事  

256
00:09:42,586 --> 0:09:44,636
那就是它既安全又私密

257
00:09:45,906 --> 0:09:47,956
所有配件之间的交流都是 

258
00:09:47,956 --> 0:09:50,666
加密的 我们针对每次会话

259
00:09:50,666 --> 0:09:52,096
发明出一种全新的共享密钥 

260
00:09:52,676 --> 0:09:56,806
数据也是非公开的 所以

261
00:09:56,806 --> 0:09:58,246
Apple 没有可以进入

262
00:09:58,246 --> 0:09:59,566
你相机流的权限 

263
00:09:59,816 --> 0:10:02,056
Apple 也不能窃听你们的对话 

264
00:09:59,816 --> 0:10:02,056
Apple 也不能窃听你们的对话 

265
00:10:02,376 --> 0:10:03,726
Apple 甚至不能分辨出

266
00:10:03,726 --> 0:10:05,046
你刚刚是开了灯 还是关了

267
00:10:06,106 --> 0:10:07,216
我们知道你的家是私密空间 

268
00:10:07,216 --> 0:10:08,976
所以我们要保持这个状态

269
00:10:09,656 --> 0:10:11,316
所以当你控制你的家

270
00:10:12,036 --> 0:10:14,376
以及各种配件 执行

271
00:10:14,376 --> 0:10:16,536
场景功能 甚至全权使用 Siri 

272
00:10:16,536 --> 0:10:17,836
支持时 所有的这些都是基于一种安全

273
00:10:17,836 --> 0:10:18,296
和私人的方式

274
00:10:18,296 --> 0:10:22,816
我们希望这样的交流 

275
00:10:22,816 --> 0:10:24,726
可以变得非常安全 并且所有信息 

276
00:10:24,876 --> 0:10:26,076
都是直接

277
00:10:26,076 --> 0:10:29,066
在 Apple 设备和配件之间进行 

278
00:10:29,486 --> 0:10:32,016
所以你的配件永远不需要

279
00:10:32,016 --> 0:10:35,306
链接到云端

280
00:10:35,306 --> 0:10:37,956
这种方式除了安全 它还很快

281
00:10:38,456 --> 0:10:40,226
因为所有的信息都 

282
00:10:40,226 --> 0:10:42,846
是在本地中完成 没必要

283
00:10:42,846 --> 0:10:44,000
再去经过服务器 

284
00:10:48,776 --> 0:10:51,756
我们的 HomeKit Accessory

285
00:10:51,756 --> 0:10:53,636
Protocol 是一个交流

286
00:10:53,636 --> 0:10:55,216
频道 用来保护信息的安全性 

287
00:10:55,466 --> 0:10:56,576
信息在配件和你的 

288
00:10:56,576 --> 0:10:57,276
Apple 设备中传递

289
00:10:58,456 --> 0:11:00,616
这些信息都已被加密因此

290
00:10:58,456 --> 0:11:00,616
这些信息都已被加密因此

291
00:11:00,616 --> 0:11:01,996
只有被信任的设备

292
00:11:01,996 --> 0:11:02,506
才能阅读它们

293
00:11:03,476 --> 0:11:04,676
这就意味着即使其他人

294
00:11:04,936 --> 0:11:06,006
通过某些方式截获了

295
00:11:06,006 --> 0:11:07,726
信息 他们也不能解码

296
00:11:07,726 --> 0:11:08,826
或者看懂内容

297
00:11:09,896 --> 0:11:11,046
HomeKit Accessory

298
00:11:11,046 --> 0:11:13,946
Protocol 可在 Wi-Fi 和

299
00:11:13,946 --> 0:11:14,926
低功耗蓝牙环境下工作

300
00:11:15,256 --> 0:11:18,426
按照 IP 分类 即 Wi-Fi 和以太网

301
00:11:18,746 --> 0:11:20,386
Wi-Fi 很棒 因为它 

302
00:11:20,386 --> 0:11:22,106
能够提供可靠 快速

303
00:11:22,236 --> 0:11:25,516
远程的支持 所以你可以将 Wi-Fi 配件放在

304
00:11:25,606 --> 0:11:26,496
家里的任何位置

305
00:11:27,346 --> 0:11:29,626
我们还支持低功耗蓝牙

306
00:11:30,516 --> 0:11:34,156
这也很棒 因为尤其对于那些

307
00:11:34,156 --> 0:11:35,076
电池供电的配件来说

308
00:11:36,066 --> 0:11:39,516
比如感应器一类的东西 你可以使用低功耗蓝牙

309
00:11:39,956 --> 0:11:41,206
并且将这些感应器

310
00:11:41,206 --> 0:11:42,996
放置在方便的位置 

311
00:11:42,996 --> 0:11:44,506
因为它们不需要电源线 

312
00:11:45,056 --> 0:11:48,936
现在我们希望每个人

313
00:11:48,936 --> 0:11:50,556
都能体验家庭自动操作 

314
00:11:50,556 --> 0:11:51,926
因此我们提供了很多配件 

315
00:11:51,926 --> 0:11:53,576
条目 并且针对每个条目

316
00:11:53,576 --> 0:11:56,196
我们拥有顶级的制造商

317
00:11:56,496 --> 0:11:59,076
并且这个配件名单

318
00:11:59,076 --> 0:12:00,786
在不断增加 我们

319
00:11:59,076 --> 0:12:00,786
在不断增加 我们

320
00:12:00,786 --> 0:12:02,336
针对每个配件类别 

321
00:12:02,336 --> 0:12:03,316
支持多家制造商

322
00:12:04,046 --> 0:12:06,116
所以你总能找到一款适合你的

323
00:12:07,396 --> 0:12:10,866
有了 HomeKit 你甚至可以把同种类型的配件组合

324
00:12:10,866 --> 0:12:12,206
在一起 即使它们来自于

325
00:12:12,206 --> 0:12:14,056
不同的制造商 让它们一起工作

326
00:12:14,836 --> 0:12:16,186
HomeKit 让你更加简单地

327
00:12:16,186 --> 0:12:18,196
选择一款适合你家的配件

328
00:12:18,786 --> 0:12:21,786
有了 AirPlay 2 我们已经

329
00:12:21,786 --> 0:12:23,016
将音响加入了 

330
00:12:23,016 --> 0:12:24,186
Home App 的支持范围中

331
00:12:25,236 --> 0:12:27,186
在 iOS 12 中 我们还

332
00:12:27,186 --> 0:12:29,316
发布了远程遥控系统

333
00:12:30,776 --> 0:12:32,016
你可以设置一款远程 

334
00:12:32,016 --> 0:12:33,846
遥控的配件 这样你可以

335
00:12:33,846 --> 0:12:36,306
控制你的 Apple TV 

336
00:12:36,306 --> 0:12:37,156
甚至包括 Siri

337
00:12:37,766 --> 0:12:41,166
既然我们已经简明扼要地

338
00:12:41,166 --> 0:12:43,166
介绍了一下使用

339
00:12:43,166 --> 0:12:45,646
HomeKit 的好处 让我们来深入看看 

340
00:12:45,646 --> 0:12:47,266
什么资源可以用来

341
00:12:47,266 --> 0:12:48,266
制造一款 HomeKit 配件

342
00:12:48,906 --> 0:12:51,716
所以最简单的来开始 

343
00:12:51,716 --> 0:12:53,046
使用 HomeKit 和

344
00:12:53,046 --> 0:12:55,746
制造一款配件的方法就是 变成 MFI licensee

345
00:12:57,116 --> 0:12:58,906
这是一个极佳的项目 里面有

346
00:12:58,906 --> 0:13:00,896
各种有价值的工具 我已经迫不及待想和你们分享了 

347
00:12:58,906 --> 0:13:00,896
各种有价值的工具 我已经迫不及待想和你们分享了 

348
00:13:00,896 --> 0:13:03,386
当然如果你只想了解 

349
00:13:03,386 --> 0:13:04,356
关于 HomeKit Accessory

350
00:13:04,356 --> 0:13:06,066
Protocol 我们也为各位开发人员

351
00:13:06,066 --> 0:13:07,416
提供了资源

352
00:13:08,106 --> 0:13:09,776
它的目的是为了非盈利的

353
00:13:09,776 --> 0:13:11,706
开发和探索

354
00:13:11,866 --> 0:13:13,226
HomeKit Accessory Protocol

355
00:13:14,286 --> 0:13:16,056
所以这对了解

356
00:13:16,056 --> 0:13:17,286
HomeKit Accessory

357
00:13:17,286 --> 0:13:18,906
Protocol 是很好的 但是如果你是认真的

358
00:13:18,906 --> 0:13:19,756
考虑制造一款 HomeKit

359
00:13:19,756 --> 0:13:22,026
配件 我们真诚地鼓励

360
00:13:22,026 --> 0:13:24,106
你加入 MFI 项目

361
00:13:24,636 --> 0:13:26,466
因为这是绝佳的方式 来快速开始工作

362
00:13:26,506 --> 0:13:30,096
所以现在开始谈谈

363
00:13:30,096 --> 0:13:32,076
成为 MFI 项目的一部分 你将

364
00:13:32,076 --> 0:13:36,086
得到什么好处

365
00:13:36,086 --> 0:13:37,846
加入 MFI 其实非常

366
00:13:37,846 --> 0:13:39,156
简单 而且你将得到非常多的

367
00:13:39,156 --> 0:13:40,266
工具和资源

368
00:13:40,926 --> 0:13:42,396
其中一个最新的

369
00:13:42,396 --> 0:13:44,056
也是我们最为此激动的工具就是

370
00:13:44,056 --> 0:13:45,046
HomeKit 配件

371
00:13:45,046 --> 0:13:46,916
开发工具包

372
00:13:47,056 --> 0:13:48,046
这是一个便捷的方式来 

373
00:13:48,046 --> 0:13:50,486
打造一款 HomeKit 配件

374
00:13:51,076 --> 0:13:53,506
这个 Dis 是一系列代码

375
00:13:53,506 --> 0:13:55,606
运行于配件中 来帮助

376
00:13:55,606 --> 0:13:56,736
抽象大量

377
00:13:56,736 --> 0:13:58,076
实施细节 这些都是你

378
00:13:58,076 --> 0:13:59,346
之前不得不担心的东西

379
00:13:59,896 --> 0:14:02,276
现在我们还提供工具来帮助

380
00:13:59,896 --> 0:14:02,276
现在我们还提供工具来帮助

381
00:14:02,276 --> 0:14:04,316
处理许可问题 并且我们还会

382
00:14:04,316 --> 0:14:05,986
提供文件帮助你

383
00:14:05,986 --> 0:14:09,176
开始工作

384
00:14:09,176 --> 0:14:10,226
你还将得到一份 

385
00:14:10,226 --> 0:14:11,506
说明书 里面囊括了所有

386
00:14:11,506 --> 0:14:13,996
商业支持 包括

387
00:14:14,106 --> 0:14:16,326
如何在配件中 设置身份验证权

388
00:14:16,966 --> 0:14:21,266
现在 配件工具开发包

389
00:14:21,266 --> 0:14:22,626
让打造配件的过程 变得十分简单

390
00:14:24,016 --> 0:14:26,116
之前你可能需要担心如何构建

391
00:14:26,116 --> 0:14:30,786
配件逻辑 采用协议 进行加密 

392
00:14:31,326 --> 0:14:33,366
应用 WAC 所有这些其他的步骤

393
00:14:34,006 --> 0:14:35,116
而有了配件工具开发包

394
00:14:35,116 --> 0:14:37,486
我们将把这些琐事都为你办好

395
00:14:38,126 --> 0:14:39,856
我们为你的特殊配件

396
00:14:40,336 --> 0:14:42,396
提供平台逻辑 并且

397
00:14:42,396 --> 0:14:43,126
HomeKit 配件

398
00:14:43,126 --> 0:14:45,216
工具开发包为你摆平所有的细节

399
00:14:46,186 --> 0:14:48,246
这就意味着 你只需要考虑配件

400
00:14:48,246 --> 0:14:51,366
逻辑 这是你的配件独一无二的部分

401
00:14:51,366 --> 0:14:52,696
也是你真正关心的

402
00:14:52,696 --> 0:14:53,566
代码的一部分

403
00:14:55,516 --> 0:15:01,436
[ 掌声 ]

404
00:14:55,516 --> 0:15:01,436
[ 掌声 ]

405
00:15:01,936 --> 0:15:03,496
现在 HomeKit 配件工具开发包虽然刚刚起步 

406
00:15:03,776 --> 0:15:04,796
但是我们已经收集了众多

407
00:15:04,796 --> 0:15:06,416
良好的反馈 我们的合作伙伴

408
00:15:06,646 --> 0:15:07,906
都在夸奖它有多么便捷

409
00:15:08,796 --> 0:15:10,376
MFI licensee 会发现

410
00:15:10,706 --> 0:15:12,256
它有多么容易上手 

411
00:15:12,476 --> 0:15:13,526
并且我们也目睹了 

412
00:15:13,896 --> 0:15:15,226
新的伙伴数量正在随着时间 

413
00:15:15,226 --> 0:15:16,246
以前所未有的速度增加

414
00:15:17,456 --> 0:15:18,976
当然了 配件工具开发包是

415
00:15:18,976 --> 0:15:20,976
可靠和安全的 因为我们

416
00:15:20,976 --> 0:15:22,336
内部已经做了无数次测试 

417
00:15:22,636 --> 0:15:24,326
并且我们安全部门的同事已经进行了审核

418
00:15:25,316 --> 0:15:26,986
而最美妙的事情在于

419
00:15:26,986 --> 0:15:29,066
配件工具开发包将得到我们持续的

420
00:15:29,066 --> 0:15:29,946
升级 这个过程是全年进行的

421
00:15:29,946 --> 0:15:33,846
因此只要有 iOS 更新 例如有了对配件的新支持

422
00:15:34,166 --> 0:15:35,456
或者是参数的调整

423
00:15:35,806 --> 0:15:37,766
我们就会相应更新配件工具开发包

424
00:15:37,906 --> 0:15:38,926
使之可以保持同步更新

425
00:15:39,586 --> 0:15:43,016
所以使用配件工具开发包

426
00:15:43,016 --> 0:15:43,956
到底有多快呢

427
00:15:45,136 --> 0:15:46,816
这么说吧 有了它 你可以

428
00:15:46,816 --> 0:15:48,336
构建一个功能模型

429
00:15:48,336 --> 0:15:49,906
完成并运行它 只需要不到一周时间

430
00:15:51,446 --> 0:15:52,336
但是我们看看这如何

431
00:15:52,336 --> 0:15:53,776
影响整个时间线 

432
00:15:54,326 --> 0:15:58,716
所以之前我们的伙伴 

433
00:15:58,716 --> 0:16:00,306
花费了大约六个月来 

434
00:15:58,716 --> 0:16:00,306
花费了大约六个月来 

435
00:16:00,306 --> 0:16:01,556
做开发 然后他们 

436
00:16:01,556 --> 0:16:03,366
不得不去做集成

437
00:16:03,426 --> 0:16:05,566
认证 然后才能上传他们的产品 

438
00:16:06,366 --> 0:16:07,576
我们发现这经常 

439
00:16:07,576 --> 0:16:09,116
需要一年的时间来完成 

440
00:16:11,136 --> 0:16:13,446
而有了配件工具开发包 我们发现 

441
00:16:13,446 --> 0:16:15,126
整个时间周期被大幅度缩短

442
00:16:16,546 --> 0:16:17,416
基于我们伙伴的反馈

443
00:16:17,416 --> 0:16:19,886
目前已经可以实现 

444
00:16:19,886 --> 0:16:20,846
在三个月的时间内

445
00:16:20,846 --> 0:16:23,176
完成 HomeKit 配件 

446
00:16:24,516 --> 0:16:27,556
[ 掌声 ]

447
00:16:28,056 --> 0:16:30,066
配件工具开发包让制作配件

448
00:16:30,066 --> 0:16:31,796
的过程变得比以往更容易

449
00:16:32,416 --> 0:16:34,566
想要了解更多 请加入 MFI 项目

450
00:16:35,066 --> 0:16:36,126
你将得到关于

451
00:16:36,126 --> 0:16:37,506
配件工具开发包的所有信息 而

452
00:16:37,506 --> 0:16:38,686
MFI licensee 已经在利用它们 

453
00:16:38,686 --> 0:16:40,246
打造优秀的配件 

454
00:16:41,716 --> 0:16:43,456
现在我想讲一下刚才提到的认证问题 

455
00:16:43,456 --> 0:16:45,016
下面我们就此问题 

456
00:16:45,016 --> 0:16:46,526
谈一谈

457
00:16:46,526 --> 0:16:48,976
这是 MFI 项目重要的一部分

458
00:16:49,966 --> 0:16:51,576
现在我们的客户 

459
00:16:51,576 --> 0:16:52,756
看到 Apple 标志会放心

460
00:16:53,146 --> 0:16:54,926
他们相信购买的产品是高质量的 

461
00:16:55,706 --> 0:16:58,036
所以当他们购买了一款 

462
00:16:58,036 --> 0:16:59,396
可以和 Apple HomeKit 配合工作的配件

463
00:17:01,176 --> 0:17:02,896
他们相信配件已经

464
00:17:02,896 --> 0:17:04,816
经过了彻底的测试并且

465
00:17:04,816 --> 0:17:05,556
由 Apple 进行了审核

466
00:17:06,096 --> 0:17:08,175
现在这个过程也和 

467
00:17:08,175 --> 0:17:10,455
App Store 的审核流程类似 所以 

468
00:17:10,455 --> 0:17:12,925
在 HomeKit 方面 我们有一个审核配件的流程 

469
00:17:14,056 --> 0:17:15,536
通过这个流程 来确保

470
00:17:15,536 --> 0:17:16,705
它们已经达到了我们对于

471
00:17:16,705 --> 0:17:18,476
品质的高要求 然后它们才算是为 

472
00:17:18,476 --> 0:17:20,026
提供给客户做好准备

473
00:17:20,486 --> 0:17:23,386
现在一旦配件通过 

474
00:17:23,386 --> 0:17:26,626
认证 它就可以使用 

475
00:17:26,626 --> 0:17:28,046
认证栈来启动

476
00:17:28,586 --> 0:17:30,976
这可以提供保证

477
00:17:30,976 --> 0:17:31,666
确保我们的顾客得到的是 

478
00:17:31,666 --> 0:17:32,456
高质量产品

479
00:17:33,286 --> 0:17:34,596
现在 认证本身 

480
00:17:34,596 --> 0:17:36,216
可以通过我们的硬件 

481
00:17:36,216 --> 0:17:38,046
芯片或者通过我们全新的

482
00:17:38,076 --> 0:17:39,216
基于软件的认证来完成 

483
00:17:39,806 --> 0:17:43,786
作为一个 MFI licensee 你也可以

484
00:17:43,786 --> 0:17:46,666
接触到制造商伙伴 他们会

485
00:17:46,666 --> 0:17:47,686
对你的产品打入市场有所帮助 

486
00:17:48,506 --> 0:17:49,766
所以只要今天坐在下面的你

487
00:17:49,766 --> 0:17:51,316
对于 HomeKit 有一个

488
00:17:51,316 --> 0:17:53,036
很棒的想法 这就是

489
00:17:53,036 --> 0:17:55,376
你将它带回家的

490
00:17:56,026 --> 0:17:57,926
千载难逢的好机会

491
00:17:57,926 --> 0:18:00,826
我们随时支持基于硬件的认证 

492
00:17:57,926 --> 0:18:00,826
我们随时支持基于硬件的认证 

493
00:18:01,366 --> 0:18:04,726
但是最近我们也开始

494
00:18:04,726 --> 0:18:06,566
支持基于软件的认证 

495
00:18:07,106 --> 0:18:10,956
现在 顾客可以得到 

496
00:18:10,956 --> 0:18:12,406
同水平的质量和 

497
00:18:12,406 --> 0:18:14,296
信任感 而这种合成 

498
00:18:14,296 --> 0:18:16,466
支持将通过我们的固件升级来完成 

499
00:18:16,936 --> 0:18:19,836
这很棒 因为它 

500
00:18:19,836 --> 0:18:21,096
意味着你可以将 HomeKit 平铺运行在

501
00:18:21,096 --> 0:18:23,326
那些已经向用户提供的配件上

502
00:18:23,916 --> 0:18:27,846
目前还有其他三种特别棒的

503
00:18:27,846 --> 0:18:29,506
工具 我还想借今天上午这个机会介绍一下

504
00:18:30,766 --> 0:18:32,626
第一个是为配件开发人员

505
00:18:32,626 --> 0:18:34,506
提供的资源 它是

506
00:18:34,506 --> 0:18:36,146
为 MFI licensee 准备的 

507
00:18:36,376 --> 0:18:37,436
而这就是 HomeKit

508
00:18:37,436 --> 0:18:38,356
Accessory Tester

509
00:18:38,926 --> 0:18:41,846
这是一款 App 它有着

510
00:18:41,846 --> 0:18:43,396
简易的界面 来帮助你 

511
00:18:43,396 --> 0:18:44,626
测试你的配件 

512
00:18:46,056 --> 0:18:48,076
这是一个有效验证方式  

513
00:18:48,076 --> 0:18:49,086
检测你的配件是否做好了 

514
00:18:49,086 --> 0:18:50,646
接受审核程序的准备

515
00:18:51,176 --> 0:18:54,316
第二个工具我想 

516
00:18:54,316 --> 0:18:55,986
介绍的是 HomeKit

517
00:18:55,986 --> 0:18:57,166
Certification Assistant

518
00:18:59,036 --> 0:19:02,196
这也是为 MFI licensee 提供的资源

519
00:18:59,036 --> 0:19:02,196
这也是为 MFI licensee 提供的资源

520
00:19:02,656 --> 0:19:05,226
也是加入这个项目的好处之一

521
00:19:05,746 --> 0:19:07,576
这是建立在 

522
00:19:07,576 --> 0:19:08,716
HomeKit Accessory Tester 之上的 

523
00:19:09,196 --> 0:19:10,886
它可以帮助你来 

524
00:19:10,886 --> 0:19:13,776
检测你的配件 

525
00:19:13,776 --> 0:19:16,006
甚至支持部分

526
00:19:16,006 --> 0:19:17,356
自动检测功能 

527
00:19:17,816 --> 0:19:21,626
第三个工具我想 

528
00:19:21,626 --> 0:19:23,096
说的是 HomeKit

529
00:19:23,096 --> 0:19:24,156
Accessory Simulator

530
00:19:25,186 --> 0:19:27,026
这是专门为开发人员 

531
00:19:27,026 --> 0:19:29,186
设计的一个工具 并且

532
00:19:29,186 --> 0:19:31,486
可以模仿不同类别的配件

533
00:19:32,036 --> 0:19:34,646
允许你测试 

534
00:19:34,646 --> 0:19:36,466
你的 App 确保它对

535
00:19:36,466 --> 0:19:37,896
所有 HomeKit 配件

536
00:19:37,896 --> 0:19:38,626
类别都有效 

537
00:19:39,256 --> 0:19:40,436
最好的地方在于 

538
00:19:40,436 --> 0:19:42,866
这意味着你不用出门购买每个 

539
00:19:42,866 --> 0:19:44,386
配件来做你的测试

540
00:19:44,916 --> 0:19:50,256
你可以在 Xcode 和

541
00:19:50,256 --> 0:19:51,126
MFI 项目中找到它

542
00:19:51,626 --> 0:19:54,126
并且这其实也是一个 

543
00:19:54,126 --> 0:19:55,786
我们内部在使用的工具 因为

544
00:19:55,786 --> 0:19:56,986
它是一种快速设置复杂的家居环境的

545
00:19:56,986 --> 0:19:59,066
极其简便的方法

546
00:19:59,066 --> 0:20:00,116
而其中包含许多配件

547
00:19:59,066 --> 0:20:00,116
而其中包含许多配件

548
00:20:01,386 --> 0:20:02,966
当然你也可以 

549
00:20:02,966 --> 0:20:04,996
在真实的配件上进行测试

550
00:20:05,446 --> 0:20:08,746
我们已经讨论了许多关于 

551
00:20:08,746 --> 0:20:10,936
如何打造一个 HomeKit 配件的内容 但是

552
00:20:11,206 --> 0:20:13,606
如何制作一个 HomeKit App 呢

553
00:20:14,586 --> 0:20:17,226
让我们换个话题 谈一谈

554
00:20:17,226 --> 0:20:19,236
如果想要制作一款 HomeKit App 需要做些什么

555
00:20:19,756 --> 0:20:24,566
现在有大量的 App 上架 App Store

556
00:20:25,716 --> 0:20:27,106
如何使你的 App 更加突出

557
00:20:28,676 --> 0:20:29,956
对于 HomeKit

558
00:20:29,956 --> 0:20:31,816
思考谁是你的目标用户

559
00:20:31,816 --> 0:20:32,796
至关重要

560
00:20:33,366 --> 0:20:35,856
也许这延伸了 

561
00:20:35,856 --> 0:20:37,296
用户的功能性 比如

562
00:20:37,296 --> 0:20:38,376
调教或者矫正一款 

563
00:20:38,376 --> 0:20:42,986
配件 或者也许你住在这样一个地区

564
00:20:42,986 --> 0:20:44,666
这个地区有某些功能

565
00:20:44,666 --> 0:20:46,476
而它们对于这个区域是具有特定性的

566
00:20:46,476 --> 0:20:50,926
因而可能未存在于 App Store 中

567
00:20:50,926 --> 0:20:52,666
如果你是一个 MFI licensee

568
00:20:53,916 --> 0:20:55,016
正在为你的配件打造 

569
00:20:55,016 --> 0:20:57,316
一款 App 你也许想要 

570
00:20:57,316 --> 0:21:00,986
支持自主定制特性的服务

571
00:20:57,316 --> 0:21:00,986
支持自主定制特性的服务

572
00:21:01,536 --> 0:21:04,416
而在 HomeKit 上 有许多

573
00:21:04,416 --> 0:21:05,546
我今天即将谈到的 API 

574
00:21:05,546 --> 0:21:07,736
但是在开始讨论

575
00:21:07,736 --> 0:21:09,416
细节之前 我认为还是 

576
00:21:09,416 --> 0:21:10,666
先看看针对对象的

577
00:21:10,666 --> 0:21:13,786
高水平的分级制度

578
00:21:14,376 --> 0:21:16,896
所以我想谈到的

579
00:21:16,896 --> 0:21:18,876
第一级叫做核心

580
00:21:18,876 --> 0:21:20,286
对象 即 HMHome

581
00:21:20,766 --> 0:21:28,676
它相当于一个整体的家 而在 HMHome 中

582
00:21:28,736 --> 0:21:30,866
你可以有选择地拥有 HMZone

583
00:21:31,316 --> 0:21:32,786
现在可以有的东西 比如 

584
00:21:32,786 --> 0:21:34,136
上下楼层

585
00:21:35,146 --> 0:21:38,566
你还可以拥有 HMRoom 这些房间

586
00:21:38,816 --> 0:21:39,726
通常和房子相

587
00:21:39,726 --> 0:21:41,246
连接 例如厨房

588
00:21:41,466 --> 0:21:45,376
客厅 餐室 卧室

589
00:21:45,626 --> 0:21:47,656
而在这些房间里

590
00:21:47,656 --> 0:21:48,626
你可以拥有 HMAccessorie

591
00:21:49,376 --> 0:21:52,516
这些灯光 电扇 摄像机 门锁

592
00:21:52,696 --> 0:21:54,636
都是我们所支持的常规配件

593
00:21:56,076 --> 0:21:57,826
所以你的 home 和 HMHome

594
00:21:57,826 --> 0:21:59,196
包含 HMZone

595
00:21:59,826 --> 0:22:02,166
而 HMZone 包含 HMRoom

596
00:21:59,826 --> 0:22:02,166
而 HMZone 包含 HMRoom

597
00:22:02,506 --> 0:22:05,206
HMRoom 又包含 HMAccessorie

598
00:22:09,056 --> 0:22:10,516
目前 home 具备一些这样的

599
00:22:10,516 --> 0:22:12,836
属性 但是 home

600
00:22:12,836 --> 0:22:14,076
真正的功能是作为中央

601
00:22:14,126 --> 0:22:15,836
组织对象来为 HomeKit 工作

602
00:22:16,356 --> 0:22:18,866
所以 home 就是用来添加 

603
00:22:18,866 --> 0:22:21,296
附件 设置房间

604
00:22:21,786 --> 0:22:23,936
制定场景 构造

605
00:22:23,936 --> 0:22:24,706
自动化的场所

606
00:22:26,076 --> 0:22:27,566
但是有的用户可能拥有 

607
00:22:27,566 --> 0:22:29,726
不只一个家 因此你 

608
00:22:29,726 --> 0:22:32,306
需要使用 HMHomeManager 来

609
00:22:32,306 --> 0:22:33,646
帮助管理这些 home

610
00:22:34,546 --> 0:22:36,106
如果你想添加一个新的 home 

611
00:22:36,606 --> 0:22:37,936
或者删除已经存在的 home

612
00:22:38,886 --> 0:22:39,876
都可以通过 

613
00:22:39,876 --> 0:22:41,086
HMHomeManager API 来完成

614
00:22:45,376 --> 0:22:46,636
HomeKit 最棒的事情就是

615
00:22:46,636 --> 0:22:48,616
你可以将 home 的控制权

616
00:22:48,616 --> 0:22:50,556
延伸给其他用户 

617
00:22:51,116 --> 0:22:53,866
同时我们还有访问控制的 

618
00:22:53,866 --> 0:22:55,336
功能 所以你可以给 

619
00:22:55,336 --> 0:22:57,066
一对情侣或者是舍友全权的

620
00:22:57,066 --> 0:22:58,136
管理权 

621
00:22:58,956 --> 0:23:01,786
作为管理人 他们 

622
00:22:58,956 --> 0:23:01,786
作为管理人 他们 

623
00:23:01,786 --> 0:23:03,666
即这些用户们可以添加配件 

624
00:23:03,666 --> 0:23:04,626
编辑场景

625
00:23:04,896 --> 0:23:06,696
他们基本上拥有管理 home 的

626
00:23:06,696 --> 0:23:07,546
所有权限

627
00:23:09,316 --> 0:23:10,806
但有时也许你只想分享给

628
00:23:11,086 --> 0:23:12,806
一些用户基本权限 

629
00:23:12,806 --> 0:23:14,606
只允许他们来 

630
00:23:15,126 --> 0:23:16,906
控制配件而不是编辑它们

631
00:23:17,316 --> 0:23:19,806
那他们就非管理者 

632
00:23:21,186 --> 0:23:23,136
最重要的就是 如果你在设计

633
00:23:23,136 --> 0:23:25,236
这个 App 你就需要确保

634
00:23:25,236 --> 0:23:27,946
你的 HM 用户不是 

635
00:23:27,946 --> 0:23:29,846
那些被你剥夺了

636
00:23:29,846 --> 0:23:31,986
一些关键性功能使用权的管理者 

637
00:23:31,986 --> 0:23:33,216
App 应在他们尝试

638
00:23:33,216 --> 0:23:35,866
并使用时正常工作

639
00:23:36,636 --> 0:23:38,236
再次说明 所有用户管理 

640
00:23:38,316 --> 0:23:39,586
都可以通过 HMHome

641
00:23:39,586 --> 0:23:42,116
对象完成 并且你将很快看到

642
00:23:42,116 --> 0:23:45,786
这是一个普遍的设计模式 这在 HMHome

643
00:23:46,146 --> 0:23:47,996
上面已经显示了很多基本功能

644
00:23:48,436 --> 0:23:51,776
所以让我们来看看 

645
00:23:51,776 --> 0:23:53,316
一些示例代码 看看它们什么样子

646
00:23:53,866 --> 0:23:58,876
所以这里我们做一个实例来说明

647
00:23:58,876 --> 0:24:00,766
HMHomeManager

648
00:23:58,876 --> 0:24:00,766
HMHomeManager

649
00:24:01,376 --> 0:24:04,696
现在我们想添加一个 home 

650
00:24:04,696 --> 0:24:06,636
在 home 管理上面 所以我们要用 

651
00:24:06,636 --> 0:24:08,736
addHome API 并且设置

652
00:24:08,736 --> 0:24:09,596
新 home 的名称

653
00:24:10,546 --> 0:24:12,296
我们要确保把自己设定为 

654
00:24:12,296 --> 0:24:13,826
委托身份 这样才能 

655
00:24:13,826 --> 0:24:15,696
得到正确的委托回调

656
00:24:16,246 --> 0:24:18,226
最终 如果我们想要 

657
00:24:18,226 --> 0:24:19,256
为 home 设置用户 

658
00:24:19,256 --> 0:24:22,256
我们将使用 

659
00:24:22,296 --> 0:24:22,646
HMHome 完成设置

660
00:24:27,156 --> 0:24:29,166
既然我提过 HMZone

661
00:24:29,166 --> 0:24:30,506
那么就花费点时间来

662
00:24:30,506 --> 0:24:31,776
介绍一下它

663
00:24:31,836 --> 0:24:32,786
这是一个集成 

664
00:24:32,786 --> 0:24:35,206
多种房间在一起的方式 就像

665
00:24:35,996 --> 0:24:40,426
上下楼层 你可以将所有卧室放在一组 

666
00:24:40,426 --> 0:24:41,736
并将它们归在一个区域

667
00:24:42,256 --> 0:24:44,866
所以它在上面有一些基本属性

668
00:24:44,866 --> 0:24:47,166
比如名称以及

669
00:24:47,166 --> 0:24:48,936
房间权限等 但是它仍然拥有

670
00:24:48,936 --> 0:24:50,316
唯一的标识符属性 

671
00:24:50,576 --> 0:24:52,326
虽然这通常被 

672
00:24:52,326 --> 0:24:54,776
忽略 但是这是追踪你所在的区域 

673
00:24:54,776 --> 0:24:55,836
或者你关心的区域的方法 

674
00:24:56,256 --> 0:24:58,026
所以当名称改变

675
00:24:58,026 --> 0:24:59,876
房间改变时 你仍然拥有 

676
00:24:59,876 --> 0:25:03,956
访问这个特殊区域的权限 

677
00:24:59,876 --> 0:25:03,956
访问这个特殊区域的权限 

678
00:25:04,156 --> 0:25:06,446
在 HMRoom 对象上 我们

679
00:25:06,446 --> 0:25:09,946
支持显示名称以及配件列表

680
00:25:10,316 --> 0:25:12,256
也包括这个唯一的

681
00:25:12,256 --> 0:25:14,756
标识符属性 所以你可以与房间进行联系

682
00:25:17,716 --> 0:25:19,826
房间和区域 

683
00:25:19,826 --> 0:25:21,956
通过 HMHome API 进行管理

684
00:25:22,386 --> 0:25:24,186
所以你想要添加或者删除 

685
00:25:24,186 --> 0:25:26,716
一个房间 或者添加 

686
00:25:26,716 --> 0:25:28,796
删除一个区域时 你可以通过 

687
00:25:28,906 --> 0:25:30,936
HMHome API 完成

688
00:25:31,506 --> 0:25:34,606
所以如果我们回到一些简单的示例 

689
00:25:34,606 --> 0:25:37,136
代码 让我们

690
00:25:37,656 --> 0:25:40,446
[ 音质不清晰 ] 实际看一看 

691
00:25:40,636 --> 0:25:42,866
我们在 home 中添加一个房间 

692
00:25:42,866 --> 0:25:44,356
并给它设置好名称 

693
00:25:44,906 --> 0:25:47,846
然后我们再添加一个区域

694
00:25:47,846 --> 0:25:49,276
也给它设好区域名称

695
00:25:49,786 --> 0:25:52,696
然后我们把房间 

696
00:25:52,696 --> 0:25:54,000
和区域连接 

697
00:25:58,226 --> 0:25:59,406
下一级的等级

698
00:25:59,406 --> 0:26:01,666
则是非常重要的 

699
00:25:59,406 --> 0:26:01,666
则是非常重要的 

700
00:26:01,666 --> 0:26:04,526
它是一种关系 存在于配件 服务和 

701
00:26:04,526 --> 0:26:05,336
特性之间

702
00:26:06,106 --> 0:26:07,786
也许这听起来很困惑

703
00:26:08,106 --> 0:26:10,236
因为配件包含服务

704
00:26:10,376 --> 0:26:12,306
而服务包含特性

705
00:26:13,296 --> 0:26:14,146
所以我们最好看看

706
00:26:14,146 --> 0:26:15,976
真实世界的例子 来给你们展示 

707
00:26:15,976 --> 0:26:16,866
这个观点 是如何将它们 

708
00:26:16,866 --> 0:26:17,406
组合在一起的

709
00:26:17,966 --> 0:26:21,476
假设你有一个吊扇装置 

710
00:26:22,946 --> 0:26:26,126
这是一个简单的配件

711
00:26:26,436 --> 0:26:31,956
它有灯 也有扇叶

712
00:26:32,526 --> 0:26:37,156
这个便映射出灯光服务 

713
00:26:38,586 --> 0:26:40,326
和电扇服务  

714
00:26:41,886 --> 0:26:43,766
现在 这些服务具备

715
00:26:43,766 --> 0:26:45,456
共同特性 

716
00:26:45,456 --> 0:26:47,036
而这是所有服务都拥有的 

717
00:26:47,386 --> 0:26:48,656
但是它们同时还拥有

718
00:26:49,196 --> 0:26:50,396
对于它们的服务来说

719
00:26:50,396 --> 0:26:51,296
独一无二的特性

720
00:26:52,326 --> 0:26:56,016
比如灯光服务有电源 

721
00:26:56,416 --> 0:26:58,016
亮度和色饱和度的特性 

722
00:26:58,526 --> 0:27:02,296
而电扇服务则拥有电源  

723
00:26:58,526 --> 0:27:02,296
而电扇服务则拥有电源  

724
00:27:02,586 --> 0:27:04,676
转速和转向的特性  

725
00:27:05,156 --> 0:27:07,606
其中的一些特性

726
00:27:07,606 --> 0:27:08,906
是可以选择的 

727
00:27:09,736 --> 0:27:11,206
因为正如你所知道的 并不是所有的灯都

728
00:27:13,726 --> 0:27:17,116
但是 HomeKit API 将

729
00:27:17,116 --> 0:27:19,306
展示这些特性 作为一种

730
00:27:19,306 --> 0:27:20,446
提升你的用户服务的方式

731
00:27:21,756 --> 0:27:22,746
现在我们回头看

732
00:27:22,746 --> 0:27:25,936
我们的这个电风扇 

733
00:27:25,936 --> 0:27:27,206
属于 HMAccessory

734
00:27:27,776 --> 0:27:32,576
我们有灯光服务和电扇服务 这属于 

735
00:27:32,576 --> 0:27:33,366
HMService

736
00:27:34,476 --> 0:27:35,896
我们还有相应的 

737
00:27:35,896 --> 0:27:37,316
特性 这就是 

738
00:27:37,316 --> 0:27:38,336
HMCharacteristic

739
00:27:38,916 --> 0:27:43,086
所以我们来看 如果你在

740
00:27:43,086 --> 0:27:45,866
API 上面寻找这些 你可以看到

741
00:27:45,866 --> 0:27:48,326
我们拥有 HMAccessory 而它

742
00:27:48,326 --> 0:27:50,726
可以帮助你了解你正在控制的配件

743
00:27:51,666 --> 0:27:53,966
这也可以显示一些属性 例如

744
00:27:53,966 --> 0:27:57,116
名称以及它支持的服务列表

745
00:27:57,116 --> 0:28:01,096
还有它正在运行的固件版本

746
00:27:57,116 --> 0:28:01,096
还有它正在运行的固件版本

747
00:28:01,636 --> 0:28:04,766
这仅仅是一个子样品 

748
00:28:04,766 --> 0:28:06,486
它是配件上许多属性的其中之一

749
00:28:06,626 --> 0:28:07,586
我仅仅是想为你们展示 

750
00:28:07,586 --> 0:28:09,056
这个基本的概念 有什么类型的 

751
00:28:09,056 --> 0:28:10,486
属性显示在上面 

752
00:28:12,376 --> 0:28:13,946
如果我们看一下

753
00:28:13,946 --> 0:28:16,526
HMService 我们可以看到它显示了 

754
00:28:16,746 --> 0:28:17,786
一个特性列表 

755
00:28:17,836 --> 0:28:20,966
这是一个

756
00:28:20,966 --> 0:28:23,546
设定的方法

757
00:28:24,246 --> 0:28:24,330
用来更新名称

758
00:28:24,836 --> 0:28:25,856
更新名称其实

759
00:28:25,856 --> 0:28:27,016
非常重要

760
00:28:29,116 --> 0:28:30,716
为什么重要呢

761
00:28:31,196 --> 0:28:32,346
它重要是因为 

762
00:28:32,346 --> 0:28:35,116
它是 Siri 和 Home App 与你的

763
00:28:35,116 --> 0:28:35,556
配件交互的方式

764
00:28:37,216 --> 0:28:39,476
所以你应该选择一个合适的默认名称 

765
00:28:40,066 --> 0:28:42,846
你不会想用

766
00:28:42,846 --> 0:28:44,696
序列号 或者 MAC

767
00:28:44,696 --> 0:28:47,246
地址或者是产品型号  

768
00:28:47,246 --> 0:28:49,696
作为你的服务名称 因为这会带来麻烦

769
00:28:49,696 --> 0:28:51,146
让用户通过 Siri 来控制你的 

770
00:28:51,146 --> 0:28:52,076
配件更加困难

771
00:28:52,676 --> 0:28:56,206
你也不会想

772
00:28:56,206 --> 0:28:57,736
用一些特殊的符号或者数字

773
00:28:58,086 --> 0:28:59,826
甚至是 emoji 表情 标点符号等类似的东西 

774
00:28:59,826 --> 0:29:02,186
因为这也会让

775
00:28:59,826 --> 0:29:02,186
因为这也会让

776
00:29:02,186 --> 0:29:03,426
你的用户在想要 

777
00:29:03,426 --> 0:29:05,176
同他们的配件

778
00:29:09,036 --> 0:29:09,546
进行沟通时感到困惑

779
00:29:09,736 --> 0:29:12,216
现在我们支持超过四十种 

780
00:29:12,216 --> 0:29:13,586
预先定义的服务类型

781
00:29:14,386 --> 0:29:16,106
例如电灯泡

782
00:29:16,246 --> 0:29:17,776
恒温器 车库门

783
00:29:17,776 --> 0:29:19,816
电源插座 和所有类型的

784
00:29:19,816 --> 0:29:20,906
感应器 这仅仅是在举例

785
00:29:21,836 --> 0:29:23,376
我们也同样支持 

786
00:29:23,376 --> 0:29:25,356
指定的自定义服务

787
00:29:25,846 --> 0:29:29,866
当添加附件到 

788
00:29:29,866 --> 0:29:31,916
home 时 你可以

789
00:29:31,916 --> 0:29:33,206
回到 HMHome

790
00:29:33,476 --> 0:29:34,296
辅助方法

791
00:29:35,186 --> 0:29:36,616
这些 API 用起来十分简单

792
00:29:36,616 --> 0:29:38,366
但是我们还是

793
00:29:38,366 --> 0:29:39,666
通过例子演示一下

794
00:29:40,276 --> 0:29:44,916
addAccessory API 是一个

795
00:29:44,916 --> 0:29:46,646
调用 Home UI

796
00:29:46,646 --> 0:29:48,766
的服务 它和

797
00:29:48,766 --> 0:29:50,836
addAccessory 流有些类似

798
00:29:50,836 --> 0:29:52,796
这个我之前提到过

799
00:29:52,796 --> 0:29:54,816
你可以通过快速扫描二维码 

800
00:29:54,816 --> 0:29:56,676
或者使用 NFC 功能来添加 

801
00:29:56,676 --> 0:29:58,156
配件到 home 的功能中

802
00:30:00,216 --> 0:30:03,556
现在我想特别介绍最后一个方法

803
00:30:03,556 --> 0:30:05,366
就是使用载荷调用

804
00:30:05,366 --> 0:30:06,606
addAndSetupAccessorie

805
00:30:06,606 --> 0:30:10,546
现在你可以使用载荷来

806
00:30:10,546 --> 0:30:12,346
传输一个 HomeKit 配件码

807
00:30:13,026 --> 0:30:14,736
用于 In-field 激活的情况

808
00:30:15,476 --> 0:30:17,656
所以这个 API 非常有用

809
00:30:17,656 --> 0:30:19,196
尤其对于软件认证来说

810
00:30:19,336 --> 0:30:22,236
这就是当你 

811
00:30:22,236 --> 0:30:24,566
的配件已经离开工厂

812
00:30:24,566 --> 0:30:26,526
但是没有 HomeKit 码在上边的情况

813
00:30:27,136 --> 0:30:29,196
你已经通过固件升级

814
00:30:30,106 --> 0:30:31,906
更新了你的配件 来提供

815
00:30:31,906 --> 0:30:33,936
HomeKit 支持 你不希望

816
00:30:33,936 --> 0:30:35,136
用户不得不通过

817
00:30:35,136 --> 0:30:37,636
记忆或者手动

818
00:30:37,636 --> 0:30:38,496
把 HomeKit 码记下来

819
00:30:38,856 --> 0:30:40,716
这个 API 允许你

820
00:30:40,716 --> 0:30:42,286
传输 HomeKit 码

821
00:30:42,326 --> 0:30:44,496
这样这个配件才能

822
00:30:44,496 --> 0:30:45,856
无缝添加到 home 之中

823
00:30:46,436 --> 0:30:50,226
现在这个 API 已经向

824
00:30:50,226 --> 0:30:51,316
MFI licensee 开放

825
00:30:52,226 --> 0:30:53,846
想得到更多的信息 请联系 

826
00:30:53,846 --> 0:30:54,906
你的 MFI 代表

827
00:30:58,756 --> 0:31:00,126
所以我们看一些示例代码 

828
00:30:58,756 --> 0:31:00,126
所以我们看一些示例代码 

829
00:31:00,126 --> 0:31:03,226
即我们如何添加附件到 home 上 你只需要

830
00:31:03,726 --> 0:31:05,336
调用 addAnd

831
00:31:05,336 --> 0:31:07,006
addAndSetupAccessories 在 home 

832
00:31:07,006 --> 0:31:08,936
对象上即可 而 HomeKit 负责 

833
00:31:08,936 --> 0:31:11,326
剩下的部分

834
00:31:11,876 --> 0:31:13,866
我之前提到过场景功能 

835
00:31:14,416 --> 0:31:15,536
但是它是一个非常巨大的 

836
00:31:15,536 --> 0:31:17,126
概念 因此我想再花点时间

837
00:31:17,126 --> 0:31:17,466
说得深一点 

838
00:31:18,746 --> 0:31:19,806
这就是你如何用来 

839
00:31:19,806 --> 0:31:21,136
整合不同类型的 

840
00:31:21,136 --> 0:31:22,886
配件以达到 

841
00:31:22,886 --> 0:31:24,336
可为用户提供综合体验的目的

842
00:31:24,866 --> 0:31:28,746
我们有一些建议场景

843
00:31:29,616 --> 0:31:30,906
但是我们仍然支持

844
00:31:30,906 --> 0:31:32,656
用户的完全自定义

845
00:31:37,156 --> 0:31:37,886
关于场景最好的一件事在于 

846
00:31:37,886 --> 0:31:41,156
Siri 能够理解场景的含义

847
00:31:41,296 --> 0:31:44,026
因此向 Siri 说出名称 

848
00:31:44,026 --> 0:31:46,076
说出一个场景的名称

849
00:31:46,076 --> 0:31:48,356
Siri 就会立刻执行所说的场景

850
00:31:48,616 --> 0:31:53,266
现在我们在 HomeKit 上

851
00:31:53,266 --> 0:31:53,776
不称它们为场景

852
00:31:54,486 --> 0:31:56,276
我们叫它们 HMActionSet

853
00:31:57,286 --> 0:31:58,316
当你想去建立一个 

854
00:31:58,316 --> 0:31:59,826
HMActionSet 例如

855
00:31:59,956 --> 0:32:02,366
到家 你需要 

856
00:31:59,956 --> 0:32:02,366
到家 你需要 

857
00:32:02,366 --> 0:32:04,906
建造一个 HMAction 列表然后

858
00:32:07,196 --> 0:32:09,906
你才能将它们连接到操作集  

859
00:32:10,446 --> 0:32:13,926
所以操作集 还有

860
00:32:13,976 --> 0:32:16,206
HMActionSet 包含所有 

861
00:32:16,206 --> 0:32:17,446
单独的 HMAction

862
00:32:20,996 --> 0:32:23,026
我们支持一些预先设定的 

863
00:32:23,026 --> 0:32:26,956
场景 例如起床 睡觉 

864
00:32:26,956 --> 0:32:33,126
离开房间 

865
00:32:33,396 --> 0:32:34,136
和回家

866
00:32:34,736 --> 0:32:36,776
这不仅给了

867
00:32:36,776 --> 0:32:38,166
用户一些关于可以

868
00:32:38,166 --> 0:32:39,066
设定什么类型指令的概念 

869
00:32:39,066 --> 0:32:41,746
同时我们也

870
00:32:41,746 --> 0:32:43,376
认为这些场景最有用 

871
00:32:43,906 --> 0:32:47,016
当然 我们支持 

872
00:32:47,016 --> 0:32:49,116
用户自定义操作集

873
00:32:49,116 --> 0:32:50,216
最棒的事情就是 

874
00:32:50,216 --> 0:32:51,756
可以建造适合你的最佳观影场景灯光

875
00:32:55,956 --> 0:32:58,496
所以我想再说一次 想添加它们到 

876
00:32:58,496 --> 0:32:59,896
home 我们可以使用 HMHome

877
00:32:59,896 --> 0:33:01,676
API 因为它帮助你 

878
00:32:59,896 --> 0:33:01,676
API 因为它帮助你 

879
00:33:01,676 --> 0:33:04,376
添加操作集 执行 

880
00:33:04,376 --> 0:33:08,076
操作集 HMHome

881
00:33:08,266 --> 0:33:10,136
API 也可以显示

882
00:33:11,576 --> 0:33:13,536
访问嵌入式指令

883
00:33:18,346 --> 0:33:18,476
集的方式

884
00:33:18,776 --> 0:33:19,666
所以我们看这个 

885
00:33:19,666 --> 0:33:21,506
示例代码 我们将看到 

886
00:33:21,506 --> 0:33:23,816
如果想要建立一个操作集

887
00:33:24,566 --> 0:33:26,316
我们在 home 上调用

888
00:33:26,316 --> 0:33:27,916
addActionSet withName 我们输入 

889
00:33:27,916 --> 0:33:30,306
操作集的名称 然后让它

890
00:33:30,366 --> 0:33:32,106
循环访问我们的

891
00:33:32,106 --> 0:33:35,706
指令列表并把每个都添加进操作集中 

892
00:33:37,656 --> 0:33:39,626
然后接下来如果我们想要执行这个

893
00:33:39,626 --> 0:33:42,216
场景 你只需调用

894
00:33:42,426 --> 0:33:44,396
在 home 上的 executeActionSet 

895
00:33:48,636 --> 0:33:50,266
通过 UI 

896
00:33:50,266 --> 0:33:52,786
或者 Siri 使用场景非常便捷 

897
00:33:52,786 --> 0:33:53,626
但是有时你想让这件事

898
00:33:53,626 --> 0:33:54,606
更加自动化

899
00:33:55,296 --> 0:33:57,326
我们有几种 

900
00:33:57,326 --> 0:33:58,936
选择可以用来激活场景 

901
00:33:59,116 --> 0:34:00,926
并自动控制配件 

902
00:33:59,116 --> 0:34:00,926
并自动控制配件 

903
00:34:01,376 --> 0:34:04,496
这是基于地理围栏的功能

904
00:34:04,496 --> 0:34:06,266
你可以打开家里的灯 

905
00:34:06,266 --> 0:34:07,306
当你到家时 

906
00:34:08,176 --> 0:34:09,966
或者是基于时间触发 比如

907
00:34:09,966 --> 0:34:11,386
你可以在起床之前  

908
00:34:11,386 --> 0:34:13,616
打开暖气

909
00:34:13,815 --> 0:34:15,376
它们也可以基于配件 

910
00:34:15,376 --> 0:34:17,795
你可以利用一个运动传感器开灯

911
00:34:18,666 --> 0:34:20,666
它们也能基于存在触发 

912
00:34:21,476 --> 0:34:24,476
因此在你出门上班时

913
00:34:24,946 --> 0:34:25,000
灯会自动关闭

914
00:34:30,356 --> 0:34:31,806
甚至一些激活指令本身 

915
00:34:31,806 --> 0:34:33,286
也是由操作集组成 

916
00:34:33,795 --> 0:34:35,906
在 HMEvent 上的 API 或者 

917
00:34:35,906 --> 0:34:37,795
HMTrigger 多数都涉及

918
00:34:37,966 --> 0:34:43,016
命名 添加和许可  

919
00:34:43,616 --> 0:34:48,616
现在有了自动化操作 你可以

920
00:34:48,616 --> 0:34:51,206
设定它们执行一次指令或者 

921
00:34:51,206 --> 0:34:52,275
你也可以让它们重复运行

922
00:34:53,716 --> 0:34:55,716
你能让它们发生一次

923
00:34:55,716 --> 0:34:57,626
也可以让它们 

924
00:34:57,626 --> 0:35:00,256
每天都发生 再或者

925
00:34:57,626 --> 0:35:00,256
每天都发生 再或者

926
00:35:00,256 --> 0:35:03,246
你只想让它们在工作日发生 或者是

927
00:35:03,246 --> 0:35:04,036
只在每个周五发生

928
00:35:05,076 --> 0:35:07,766
有了自动化 你有了控制权来控制运行

929
00:35:07,766 --> 0:35:09,146
频率并且可以设置你想

930
00:35:09,146 --> 0:35:10,066
让自动操作运行多少次 

931
00:35:12,636 --> 0:35:14,096
现在我们看看 

932
00:35:14,096 --> 0:35:16,096
如何制作 HMTrigger 以及

933
00:35:16,096 --> 0:35:16,816
如何把它添加进 home

934
00:35:18,006 --> 0:35:19,266
就比如说我们想要创造 

935
00:35:19,266 --> 0:35:20,316
一个自动操作 它将在 

936
00:35:20,366 --> 0:35:23,026
每晚的七点开始工作

937
00:35:23,296 --> 0:35:25,616
首先我们建立我们的日期 

938
00:35:25,616 --> 0:35:27,896
部分然后我们把时间设定到晚上七点 

939
00:35:29,186 --> 0:35:30,706
然后我们在建立一个日历 

940
00:35:30,706 --> 0:35:32,376
事件 并且使用那个部件 

941
00:35:34,556 --> 0:35:36,096
然后我们就生成了

942
00:35:36,246 --> 0:35:37,166
基于时间事件的激活指令

943
00:35:37,676 --> 0:35:40,776
现在 我们需要添加这个激活指令

944
00:35:40,776 --> 0:35:41,286
到 home 上

945
00:35:41,856 --> 0:35:44,476
然后我们还需要把指令

946
00:35:44,476 --> 0:35:45,226
集加入到激活指令中

947
00:35:45,796 --> 0:35:48,436
这就允许你运行

948
00:35:48,436 --> 0:35:50,356
自动操作了 它发生在每晚的七点

949
00:35:50,946 --> 0:35:52,176
就比如说我们设定 

950
00:35:52,176 --> 0:35:55,396
每天晚上七点开灯 

951
00:35:55,616 --> 0:35:56,856
现在就非常棒了 除了 

952
00:35:56,856 --> 0:35:59,576
有时一年的某个时间 

953
00:35:59,576 --> 0:36:01,206
晚上七点太阳还没落山

954
00:35:59,576 --> 0:36:01,206
晚上七点太阳还没落山

955
00:36:01,636 --> 0:36:02,786
也可能有时候 一年的某些时候 

956
00:36:02,786 --> 0:36:04,336
在晚上七点之前就变暗了

957
00:36:04,586 --> 0:36:06,456
有时又在七点之后才天黑

958
00:36:07,126 --> 0:36:08,306
所以在每天晚上

959
00:36:08,306 --> 0:36:09,696
七点开灯并不是

960
00:36:09,696 --> 0:36:12,126
你真正想要的

961
00:36:12,276 --> 0:36:14,306
所以我们为此还支持所谓的 

962
00:36:14,306 --> 0:36:15,636
重要时间事件

963
00:36:16,216 --> 0:36:18,546
这就是日出和日落 

964
00:36:19,076 --> 0:36:21,536
回顾一下之前的 

965
00:36:21,536 --> 0:36:23,556
例子 我们可以把指令变成

966
00:36:23,666 --> 0:36:26,076
每天晚上七点

967
00:36:26,076 --> 0:36:28,576
开灯 

968
00:36:28,736 --> 0:36:30,536
我们也支持相对时间 

969
00:36:30,536 --> 0:36:32,386
偏移设定 所以你可以

970
00:36:32,386 --> 0:36:34,386
设置开灯指令 让它在  

971
00:36:34,386 --> 0:36:35,206
日落之前的三十分钟前运行

972
00:36:35,716 --> 0:36:38,846
所以回到之前所说的代码 

973
00:36:38,846 --> 0:36:41,256
然后做一些调整

974
00:36:42,236 --> 0:36:44,676
这样我们可以让这个指令

975
00:36:44,676 --> 0:36:46,226
在每晚的日落三十分钟前进行 

976
00:36:46,736 --> 0:36:48,946
所以第一件我们要做的事

977
00:36:49,436 --> 0:36:51,406
就是改变我们的日期部件

978
00:36:51,406 --> 0:36:52,506
使它变成三十分钟 

979
00:36:53,016 --> 0:36:54,056
现在你看到这是 

980
00:36:54,056 --> 0:36:55,896
负三十分钟 这是因为我们想 

981
00:36:55,896 --> 0:36:57,296
让它在日落之前

982
00:36:57,296 --> 0:36:57,746
提前三十分钟运行

983
00:36:59,056 --> 0:37:00,766
然后我们要为日落建造一个重要

984
00:36:59,056 --> 0:37:00,766
然后我们要为日落建造一个重要

985
00:37:00,766 --> 0:37:03,926
时间事件 然后再把偏移设定好

986
00:37:04,396 --> 0:37:06,836
然后 我们就完成了

987
00:37:06,836 --> 0:37:09,036
激活指令 我们把它放进日落事件中去 

988
00:37:11,696 --> 0:37:13,156
我们执行之前的这个代码

989
00:37:13,156 --> 0:37:14,666
这个代码将

990
00:37:14,666 --> 0:37:16,796
激活指令加入了 home 

991
00:37:16,796 --> 0:37:17,966
也把操作集加入了激活指令 

992
00:37:22,456 --> 0:37:23,906
但是有时你并不想

993
00:37:23,906 --> 0:37:25,016
让这些自动操作运行 

994
00:37:26,226 --> 0:37:27,456
你也许不想让暖气 

995
00:37:27,456 --> 0:37:29,156
在清晨没人的情况下被打开 

996
00:37:29,706 --> 0:37:32,896
你也不想在白天 门被打开的时候 

997
00:37:32,896 --> 0:37:37,256
灯自动亮起 

998
00:37:37,496 --> 0:37:40,056
所以我们支持条件设定

999
00:37:41,346 --> 0:37:43,646
这可以基于时间

1000
00:37:44,466 --> 0:37:46,616
也可以基于存在

1001
00:37:47,236 --> 0:37:50,546
基于配件状态 

1002
00:37:51,116 --> 0:37:55,366
也可以是基于重要事件 

1003
00:37:55,736 --> 0:38:00,476
我在我的家里的 

1004
00:37:55,736 --> 0:38:00,476
我在我的家里的 

1005
00:38:00,476 --> 0:38:03,506
有一个自动操作

1006
00:38:03,676 --> 0:38:04,636
有人离开时灯就会自动关闭 

1007
00:38:05,296 --> 0:38:10,656
这非常棒 除了我和我妻子一起住 

1008
00:38:10,656 --> 0:38:12,006
所以当她离开家的时候

1009
00:38:12,256 --> 0:38:16,256
所有的灯光就被关闭了 而我就陷入了黑暗里 

1010
00:38:16,256 --> 0:38:18,156
而有了基于存在的 

1011
00:38:18,156 --> 0:38:20,136
条件设定 你可以更新这个指令

1012
00:38:20,306 --> 0:38:21,836
这样灯光只会在  

1013
00:38:22,336 --> 0:38:23,516
最后一个人离开的情况下关闭 

1014
00:38:24,056 --> 0:38:27,776
现在 为了设置这些条件 我们 

1015
00:38:27,776 --> 0:38:28,506
要用到判断功能 

1016
00:38:28,506 --> 0:38:32,846
让我们再看看示例代码 

1017
00:38:34,356 --> 0:38:37,306
我们可以看到 

1018
00:38:37,306 --> 0:38:41,026
我们使用了和之前相同的落日时间

1019
00:38:41,026 --> 0:38:41,876
偏移设定

1020
00:38:41,876 --> 0:38:44,256
我们要制造一个 

1021
00:38:44,256 --> 0:38:48,586
存在事件 即当用户 

1022
00:38:48,586 --> 0:38:50,816
在家的时候 

1023
00:38:50,816 --> 0:38:52,336
我们会利用这个存在

1024
00:38:52,336 --> 0:38:54,226
事件来做一个预测设定

1025
00:38:56,116 --> 0:38:57,656
我们将预测放进

1026
00:38:57,656 --> 0:38:58,796
激活指令中去 

1027
00:38:59,296 --> 0:39:02,256
然后我们再看之前相同的这个示例 

1028
00:38:59,296 --> 0:39:02,256
然后我们再看之前相同的这个示例 

1029
00:39:02,256 --> 0:39:04,286
代码 我们已经将

1030
00:39:04,286 --> 0:39:06,646
激活指令放进了 home 并且

1031
00:39:07,226 --> 0:39:13,046
将操作集放进了激活指令中 

1032
00:39:13,206 --> 0:39:14,656
所以现在 我们已经完成了 

1033
00:39:14,656 --> 0:39:16,086
从每天晚上七点自动运行的指令

1034
00:39:16,086 --> 0:39:18,916
到一个

1035
00:39:18,916 --> 0:39:22,116
每天晚上日落之前三十分钟才触发

1036
00:39:22,116 --> 0:39:25,216
的指令过渡 而且是在家里有人的 

1037
00:39:25,916 --> 0:39:26,000
情况下

1038
00:39:31,456 --> 0:39:33,426
现在 我们还支持 

1039
00:39:33,426 --> 0:39:34,406
HomeKit 摄像机

1040
00:39:34,856 --> 0:39:37,416
有一些 HomeKit API

1041
00:39:38,796 --> 0:39:44,446
可以让你展示 live 流 静止图像和 

1042
00:39:44,446 --> 0:39:45,866
进行摄像机的一些设置

1043
00:39:47,156 --> 0:39:51,006
这种支持也包括控制

1044
00:39:51,006 --> 0:39:52,286
音响和麦克风声音的大小

1045
00:39:52,286 --> 0:39:56,066
让我们也同样快速浏览一下

1046
00:39:56,126 --> 0:39:58,000
关于这点的示例代码

1047
00:40:02,646 --> 0:40:03,876
你可以看到我们有一个 

1048
00:40:03,876 --> 0:40:07,326
功能 就是开启配件的相机流

1049
00:40:07,326 --> 0:40:11,256
我们要确保设置 

1050
00:40:11,256 --> 0:40:13,076
了自己作为委托人 这样才能 

1051
00:40:13,076 --> 0:40:14,716
得到正确的委托回调

1052
00:40:16,896 --> 0:40:18,496
现在我们用这个开始流的

1053
00:40:18,496 --> 0:40:21,796
API 去打开流 然后我们

1054
00:40:21,796 --> 0:40:23,376
也需要确保创造了一个 

1055
00:40:23,376 --> 0:40:26,576
摄像机视图 并添加到

1056
00:40:26,916 --> 0:40:27,826
我们的等级视图里

1057
00:40:28,466 --> 0:40:29,866
这就可以让我们播放 

1058
00:40:29,866 --> 0:40:31,466
我们 App 中的相机流

1059
00:40:33,976 --> 0:40:36,926
然后我们就会得到委托回调 

1060
00:40:37,276 --> 0:40:40,036
这是 HMCameraStream ControlDelegate 

1061
00:40:41,716 --> 0:40:42,836
我们将得到 

1062
00:40:42,946 --> 0:40:45,046
cameraStreamControl

1063
00:40:45,046 --> 0:40:46,756
DidStartStream 委托回调

1064
00:40:48,296 --> 0:40:49,576
而我们只需要 

1065
00:40:49,576 --> 0:40:51,496
给相机流 

1066
00:40:51,496 --> 0:40:52,116
设置一个相机来源

1067
00:40:52,626 --> 0:40:55,286
这就是今天示例代码的 

1068
00:40:55,286 --> 0:40:57,686
全部内容 但是

1069
00:40:57,686 --> 0:40:59,096
还有许多在线的文件

1070
00:40:59,266 --> 0:41:01,016
可以供这些 API 使用

1071
00:40:59,266 --> 0:41:01,016
可以供这些 API 使用

1072
00:41:01,366 --> 0:41:06,236
我们希望这给你一个 

1073
00:41:06,236 --> 0:41:08,426
全新的视角来看待和了解

1074
00:41:08,426 --> 0:41:09,356
HomeKit 如何工作的

1075
00:41:09,796 --> 0:41:11,486
我们鼓励你们参加 MFI 项目

1076
00:41:11,486 --> 0:41:14,686
利用所有这些出色的资源和 

1077
00:41:14,686 --> 0:41:15,606
强大的工具 

1078
00:41:16,646 --> 0:41:18,226
变成 MFI licensee 真的是 

1079
00:41:18,286 --> 0:41:19,276
超乎想象的容易

1080
00:41:20,206 --> 0:41:21,286
来我们的实验室 

1081
00:41:21,286 --> 0:41:23,186
了解更多内容 

1082
00:41:23,506 --> 0:41:24,636
如果你已经是 MFI

1083
00:41:24,686 --> 0:41:26,796
licensee 那么请联系你的 MFI

1084
00:41:26,866 --> 0:41:29,176
代表来获取

1085
00:41:29,176 --> 0:41:30,036
最新的工具 

1086
00:41:33,756 --> 0:41:35,726
有了全新的配件工具开发包 我们让 

1087
00:41:35,726 --> 0:41:37,486
配件走向市场的过程变得

1088
00:41:37,486 --> 0:41:38,746
比以往更加容易

1089
00:41:39,916 --> 0:41:41,396
不论你是针对 HomeKit 

1090
00:41:42,106 --> 0:41:44,386
打造自己的配件 使用固件

1091
00:41:44,386 --> 0:41:46,916
升级或者是第一次创造一款全新的

1092
00:41:46,916 --> 0:41:48,056
HomeKit 配件 

1093
00:41:48,556 --> 0:41:50,576
使用这些工具并

1094
00:41:50,576 --> 0:41:52,046
结合 HomeKit

1095
00:41:52,046 --> 0:41:53,476
你就可以得到原生系列的支持

1096
00:41:54,306 --> 0:41:56,256
来同其他的 HomeKit 配件相组合

1097
00:41:56,796 --> 0:41:59,886
我们已经迫不及待地想要见证

1098
00:41:59,886 --> 0:42:01,206
你们制造出来的

1099
00:41:59,886 --> 0:42:01,206
你们制造出来的

1100
00:42:01,206 --> 0:42:03,136
优秀配件了

1101
00:42:03,306 --> 0:42:04,706
同时我们也鼓励你们使用 

1102
00:42:04,706 --> 0:42:06,956
这些 API 来提供独一无二的

1103
00:42:06,956 --> 0:42:09,216
用户体验

1104
00:42:09,526 --> 0:42:11,556
更好的利用

1105
00:42:11,556 --> 0:42:17,366
HomeKit 所提供的支持

1106
00:42:17,366 --> 0:42:19,816
如果你想得到更多的信息或者了解

1107
00:42:19,816 --> 0:42:21,056
今天我们讨论的任何内容

1108
00:42:21,056 --> 0:42:24,336
请打开这个链接

1109
00:42:24,336 --> 0:42:25,396
或者来我们的实验室参观 

1110
00:42:25,906 --> 0:42:27,226
我们将在

1111
00:42:27,286 --> 0:42:31,206
科技实验室 12 区 它将马上开始

1112
00:42:31,936 --> 0:42:33,006
谢谢你们的到来

1113
00:42:33,316 --> 0:42:36,976
希望你们有个美好的 WWDC

1114
00:42:37,508 --> 0:42:39,508
[ 掌声 ]
