1
00:00:07,516 --> 00:00:18,500
[ Music ]

2
00:00:26,516 --> 00:00:31,646
[ Applause ]

3
00:00:32,146 --> 00:00:33,376
&gt;&gt; Hello everyone.

4
00:00:33,876 --> 00:00:35,416
Welcome to Session 230.

5
00:00:35,616 --> 00:00:39,166
I'm Sirisha, an engineer

6
00:00:39,166 --> 00:00:41,466
by my colleagues,

7
00:00:41,466 --> 00:00:44,866
And we are excited to introduce

8
00:00:45,486 --> 00:00:45,966
CallKit.

9
00:00:49,156 --> 00:00:51,886
A lot of you here have

10
00:00:52,846 --> 00:00:54,836
You have changed the

11
00:00:55,126 --> 00:00:56,736
and have made the world smaller.

12
00:00:57,886 --> 00:01:02,006
And you want your app to be

13
00:00:57,886 --> 00:01:02,006
And you want your app to be

14
00:01:02,006 --> 00:01:05,196
and receive calls on

15
00:01:06,286 --> 00:01:07,766
CallKit is a framework

16
00:01:07,766 --> 00:01:09,946
to elevate your third

17
00:01:10,226 --> 00:01:11,756
to a first party experience.

18
00:01:12,516 --> 00:01:18,556
[ Applause ]

19
00:01:19,056 --> 00:01:19,516
Thank you.

20
00:01:20,216 --> 00:01:22,536
So while a lot of you

21
00:01:22,776 --> 00:01:25,226
for the next 40 minutes

22
00:01:25,226 --> 00:01:28,166
and I have created a brand

23
00:01:28,836 --> 00:01:31,606
So Speakerbox is a

24
00:01:31,606 --> 00:01:36,096
and receive voice calls on

25
00:01:36,806 --> 00:01:39,846
So before we take a look, let

26
00:01:40,486 --> 00:01:42,326
So Jane has been

27
00:01:42,326 --> 00:01:45,376
and her concerned parents

28
00:01:45,376 --> 00:01:46,646
to make sure she's doing okay.

29
00:01:47,666 --> 00:01:50,316
But because she's international

30
00:01:50,396 --> 00:01:51,376
to make calls to her.

31
00:01:52,206 --> 00:01:55,816
So let's see how an incoming

32
00:01:56,376 --> 00:01:58,846
So this is Jane's locked screen.

33
00:01:59,646 --> 00:02:01,746
And at first, she gets

34
00:01:59,646 --> 00:02:01,746
And at first, she gets

35
00:02:02,326 --> 00:02:04,016
And before she could

36
00:02:04,156 --> 00:02:05,806
she gets an incoming

37
00:02:06,326 --> 00:02:09,235
Jane can't discern

38
00:02:09,235 --> 00:02:12,926
between this incoming

39
00:02:13,026 --> 00:02:15,556
and the incoming phone

40
00:02:16,266 --> 00:02:19,216
because that's just what

41
00:02:19,536 --> 00:02:20,846
Just a notification.

42
00:02:21,736 --> 00:02:23,976
And if Jane wants to

43
00:02:24,356 --> 00:02:27,626
she has to slide on

44
00:02:27,876 --> 00:02:30,676
and then that gets

45
00:02:30,676 --> 00:02:31,966
and then she can begin speaking.

46
00:02:32,386 --> 00:02:36,276
And this is Jane's

47
00:02:36,316 --> 00:02:38,496
and the experience

48
00:02:39,546 --> 00:02:41,126
She gets an incoming

49
00:02:43,016 --> 00:02:45,286
Did you miss that

50
00:02:46,496 --> 00:02:47,076
That's right.

51
00:02:47,076 --> 00:02:49,746
It was just a banner

52
00:02:49,876 --> 00:02:53,316
So wouldn't it be nice if

53
00:02:53,316 --> 00:02:55,856
to Jane looked more like this?

54
00:02:56,866 --> 00:02:58,486
This is Jane's locked

55
00:02:59,246 --> 00:03:00,946
And she gets an incoming

56
00:02:59,246 --> 00:03:00,946
And she gets an incoming

57
00:03:01,656 --> 00:03:03,896
Notice the full screen

58
00:03:04,516 --> 00:03:08,466
[ Applause ]

59
00:03:08,966 --> 00:03:11,636
And Jane can just

60
00:03:11,636 --> 00:03:13,026
and start talking to her mom.

61
00:03:13,546 --> 00:03:18,616
And from the unlock

62
00:03:18,856 --> 00:03:21,536
Native UI with answer

63
00:03:21,796 --> 00:03:23,776
and your custom ringtone

64
00:03:25,516 --> 00:03:29,546
[ Applause ]

65
00:03:30,046 --> 00:03:32,786
And wouldn't it be nice if

66
00:03:32,786 --> 00:03:34,176
with other calls on the systems?

67
00:03:35,106 --> 00:03:38,386
Perhaps at the telephony

68
00:03:38,786 --> 00:03:40,586
or maybe another VoIP call?

69
00:03:41,126 --> 00:03:46,676
And even have VoIP calls get

70
00:03:46,906 --> 00:03:50,146
and even get assigned

71
00:03:50,146 --> 00:03:53,056
And get started from

72
00:03:53,586 --> 00:03:58,076
and even get do not disturb

73
00:03:58,856 --> 00:04:00,046
That is CallKit.

74
00:03:58,856 --> 00:04:00,046
That is CallKit.

75
00:04:01,516 --> 00:04:09,086
[ Applause ]

76
00:04:09,586 --> 00:04:10,256
All right.

77
00:04:10,476 --> 00:04:13,006
So today we're going to go over

78
00:04:13,426 --> 00:04:17,096
and incoming call flow, and

79
00:04:17,096 --> 00:04:19,745
with some more details

80
00:04:19,745 --> 00:04:20,586
So let's get started.

81
00:04:21,505 --> 00:04:21,815
All right.

82
00:04:21,815 --> 00:04:25,416
So over here, we have all our

83
00:04:25,416 --> 00:04:27,916
Siri, CarPlay, and

84
00:04:28,566 --> 00:04:31,926
And over here, we have all

85
00:04:32,616 --> 00:04:34,416
These are two separate

86
00:04:34,876 --> 00:04:37,176
Calls made on Speakerbox

87
00:04:37,176 --> 00:04:38,656
and then our services.

88
00:04:39,516 --> 00:04:42,486
In iOS 10, we have

89
00:04:42,526 --> 00:04:44,186
in all our system services.

90
00:04:44,876 --> 00:04:46,616
So now calls made on

91
00:04:46,616 --> 00:04:49,076
to our system UI via CallKit.

92
00:04:49,776 --> 00:04:52,596
So if Speakerbox wants

93
00:04:52,766 --> 00:04:54,306
it needs to adopt CallKit.

94
00:04:55,276 --> 00:04:57,596
So now calls made on

95
00:04:57,596 --> 00:04:58,916
to our system via CallKit

96
00:04:59,416 --> 00:05:02,186
and then system can

97
00:04:59,416 --> 00:05:02,186
and then system can

98
00:05:02,216 --> 00:05:03,586
to the rest of our services.

99
00:05:04,636 --> 00:05:07,446
So let's talk a little

100
00:05:07,956 --> 00:05:11,676
So here we have Speakerbox

101
00:05:12,086 --> 00:05:15,066
It talks to its network

102
00:05:15,066 --> 00:05:17,256
and we're going to link CallKit.

103
00:05:18,586 --> 00:05:21,366
So there are two primary classes

104
00:05:22,126 --> 00:05:24,406
The first is the CXProvider.

105
00:05:24,936 --> 00:05:28,046
So the provider is the class

106
00:05:28,096 --> 00:05:29,826
to let the system about any

107
00:05:30,176 --> 00:05:32,326
out of band notifications

108
00:05:33,416 --> 00:05:36,326
The second class is

109
00:05:37,076 --> 00:05:40,066
The CXCallController is the

110
00:05:40,066 --> 00:05:43,016
to let the system know

111
00:05:44,396 --> 00:05:46,076
So let's take a deeper look

112
00:05:46,076 --> 00:05:48,546
at these two classes

113
00:05:48,956 --> 00:05:52,326
So the provider, like I

114
00:05:52,326 --> 00:05:54,366
that we use to let the

115
00:05:54,366 --> 00:05:55,666
of band notifications.

116
00:05:56,136 --> 00:05:58,696
That is these are

117
00:05:59,266 --> 00:06:02,206
but actually external

118
00:05:59,266 --> 00:06:02,206
but actually external

119
00:06:02,206 --> 00:06:03,946
an incoming call

120
00:06:04,976 --> 00:06:07,326
Contrasts this with

121
00:06:07,966 --> 00:06:11,516
The CXCallController is the

122
00:06:11,566 --> 00:06:14,166
to let the system

123
00:06:14,166 --> 00:06:15,856
from within the app itself.

124
00:06:16,356 --> 00:06:18,586
That is these are

125
00:06:19,736 --> 00:06:22,836
and like internal events,

126
00:06:24,096 --> 00:06:27,506
By using the CallController,

127
00:06:27,506 --> 00:06:29,076
with other calls on the system.

128
00:06:30,336 --> 00:06:33,096
Say, for example, there's

129
00:06:33,096 --> 00:06:36,166
and the user wants to

130
00:06:36,286 --> 00:06:37,576
from Speakerbox's UI.

131
00:06:37,576 --> 00:06:42,396
By using the controller,

132
00:06:42,396 --> 00:06:43,456
about the start call action

133
00:06:43,456 --> 00:06:46,576
and then the system can

134
00:06:46,576 --> 00:06:50,576
to hold its call so as to let

135
00:06:52,076 --> 00:06:54,496
So let's take a look at

136
00:06:55,046 --> 00:06:57,976
So the provider is

137
00:06:58,276 --> 00:06:59,996
out of band notifications.

138
00:07:00,326 --> 00:07:03,136
Like, for example, an incoming

139
00:07:04,076 --> 00:07:06,316
or maybe an outgoing

140
00:07:07,016 --> 00:07:10,006
Or that outgoing call

141
00:07:11,196 --> 00:07:14,616
Whereas the controller is

142
00:07:14,866 --> 00:07:17,656
from the system like

143
00:07:17,656 --> 00:07:21,186
to start an outgoing call or the

144
00:07:21,186 --> 00:07:25,456
from Speakerbox or maybe ending

145
00:07:27,236 --> 00:07:29,636
So when the provider

146
00:07:29,636 --> 00:07:33,726
to the system it uses

147
00:07:34,346 --> 00:07:36,486
And when the system

148
00:07:36,486 --> 00:07:40,626
about any user interactions,

149
00:07:40,746 --> 00:07:41,896
to let Speakerbox know.

150
00:07:41,896 --> 00:07:45,226
And the controller communicates

151
00:07:45,226 --> 00:07:49,276
to the system user actions

152
00:07:49,806 --> 00:07:51,946
to let the system to know

153
00:07:52,176 --> 00:07:55,716
So that was a lot

154
00:07:55,986 --> 00:07:59,686
So let's take a look all of

155
00:08:00,086 --> 00:08:03,596
So here we have Speakerbox

156
00:08:03,596 --> 00:08:04,976
that incoming call from Mom.

157
00:08:05,436 --> 00:08:07,436
The incoming call

158
00:08:07,736 --> 00:08:10,536
and then Speakerbox

159
00:08:10,916 --> 00:08:13,106
and using the provider

160
00:08:13,746 --> 00:08:16,526
And then the system can then

161
00:08:16,526 --> 00:08:18,686
to all our services

162
00:08:20,006 --> 00:08:23,026
And if Jane wants to answer

163
00:08:23,626 --> 00:08:25,836
the answer action

164
00:08:26,366 --> 00:08:30,266
Our system can then tell

165
00:08:30,706 --> 00:08:33,166
to the CXAnswerCallAction

166
00:08:33,996 --> 00:08:37,275
and then Speakerbox can answer

167
00:08:38,275 --> 00:08:40,525
And if Jane now wants

168
00:08:40,525 --> 00:08:42,916
from within the app's own UI,

169
00:08:42,916 --> 00:08:45,256
the end action comes

170
00:08:45,606 --> 00:08:47,986
The controller bundles it

171
00:08:47,986 --> 00:08:51,936
and that comes to the system

172
00:08:52,326 --> 00:08:55,076
the system sends that back up to

173
00:08:55,076 --> 00:08:58,736
and then Speakerbox can

174
00:09:00,216 --> 00:09:00,796
All right.

175
00:09:00,796 --> 00:09:02,966
Now let's take a look all of

176
00:09:03,516 --> 00:09:08,266
[ Applause ]

177
00:09:08,766 --> 00:09:09,476
&gt;&gt; Thanks, Sirisha.

178
00:09:09,976 --> 00:09:12,546
So now that you've heard

179
00:09:12,946 --> 00:09:14,676
I'd like to show

180
00:09:14,676 --> 00:09:17,896
in an existing VoIP

181
00:09:17,986 --> 00:09:18,896
which Sirisha mentioned.

182
00:09:19,446 --> 00:09:22,596
I'll first show you how to adopt

183
00:09:23,796 --> 00:09:26,816
So I'll first open up the

184
00:09:27,396 --> 00:09:32,186
Now before I dive into

185
00:09:32,586 --> 00:09:33,486
let me just show

186
00:09:33,486 --> 00:09:34,796
about how the app is structured

187
00:09:34,796 --> 00:09:35,846
so you have a frame

188
00:09:36,646 --> 00:09:39,076
So we have two main classes

189
00:09:39,836 --> 00:09:43,496
The SpeakerboxCallManager class

190
00:09:43,496 --> 00:09:45,646
in the app and has

191
00:09:45,746 --> 00:09:48,836
such as starting a

192
00:09:50,156 --> 00:09:52,996
And our other primary

193
00:09:53,586 --> 00:09:56,576
This is our model class which

194
00:09:56,576 --> 00:09:59,306
in the app and has

195
00:09:59,306 --> 00:10:01,506
as some call back blocks

196
00:09:59,306 --> 00:10:01,506
as some call back blocks

197
00:10:01,506 --> 00:10:05,896
about the life cycle events

198
00:10:05,896 --> 00:10:09,496
So like Sirisha mentioned,

199
00:10:09,496 --> 00:10:11,136
when adopting CallKit is

200
00:10:11,136 --> 00:10:13,856
to create a CXProvider

201
00:10:14,526 --> 00:10:16,906
So I'll do that by

202
00:10:17,716 --> 00:10:18,666
called ProviderDelegate.

203
00:10:23,536 --> 00:10:26,206
So into this new file,

204
00:10:26,206 --> 00:10:28,106
that we've already

205
00:10:28,106 --> 00:10:29,666
through what this is doing.

206
00:10:29,976 --> 00:10:32,886
So in our initializer

207
00:10:32,936 --> 00:10:34,706
to the SpeakerboxCallManager

208
00:10:35,336 --> 00:10:38,566
This allows the ProviderDelegate

209
00:10:38,566 --> 00:10:42,406
of calls and references them

210
00:10:43,676 --> 00:10:46,796
Next, we have -- we create

211
00:10:47,346 --> 00:10:50,196
and we pass it -- something

212
00:10:50,196 --> 00:10:50,806
which we see here.

213
00:10:51,646 --> 00:10:53,836
The provider configuration

214
00:10:53,836 --> 00:10:57,256
into more detail later in the

215
00:10:57,446 --> 00:10:59,316
to configure to the

216
00:10:59,316 --> 00:11:01,666
about how it should behave.

217
00:10:59,316 --> 00:11:01,666
about how it should behave.

218
00:11:01,806 --> 00:11:05,446
Now back in our initializer, we

219
00:11:05,446 --> 00:11:08,636
of our provider and

220
00:11:09,176 --> 00:11:11,396
we request authorization

221
00:11:12,556 --> 00:11:15,776
So great. So now we have our

222
00:11:15,776 --> 00:11:18,086
but we need to create

223
00:11:18,936 --> 00:11:21,326
So I'll declare a property

224
00:11:21,326 --> 00:11:25,846
and I'll instantiate that in

225
00:11:25,846 --> 00:11:27,056
launching with options method.

226
00:11:27,986 --> 00:11:31,366
Cool. So now we have

227
00:11:31,366 --> 00:11:34,996
How does the app respond

228
00:11:35,566 --> 00:11:37,896
So if I scroll down, we can see

229
00:11:37,896 --> 00:11:40,276
that the app currently

230
00:11:40,276 --> 00:11:43,046
about an incoming call

231
00:11:43,596 --> 00:11:45,356
And if we look at what

232
00:11:46,166 --> 00:11:48,416
we can see that it looks

233
00:11:48,416 --> 00:11:50,956
from our push notification

234
00:11:50,956 --> 00:11:54,636
about the incoming call

235
00:11:54,636 --> 00:11:57,686
which is an identifier

236
00:11:57,866 --> 00:12:01,366
And then we call the

237
00:11:57,866 --> 00:12:01,366
And then we call the

238
00:12:01,956 --> 00:12:03,526
and we can see here that this is

239
00:12:03,526 --> 00:12:06,526
where the app hosts the

240
00:12:06,686 --> 00:12:08,616
to show the user

241
00:12:09,606 --> 00:12:12,226
But when using CallKit

242
00:12:12,226 --> 00:12:14,236
on a local notification

243
00:12:14,756 --> 00:12:18,336
We can, instead, use the

244
00:12:18,336 --> 00:12:21,276
incoming call UI and we want

245
00:12:21,276 --> 00:12:22,686
so much richer of an experience.

246
00:12:23,466 --> 00:12:26,656
So to do that, I'll go back

247
00:12:26,656 --> 00:12:28,726
and I'm going to

248
00:12:29,336 --> 00:12:32,056
which will allow us to call

249
00:12:33,296 --> 00:12:37,476
I'll call that report

250
00:12:38,256 --> 00:12:40,946
I'll start by creating

251
00:12:41,406 --> 00:12:44,226
which contains metadata to

252
00:12:45,386 --> 00:12:48,226
And then we'll call the

253
00:12:48,226 --> 00:12:51,586
on our provider and this is the

254
00:12:51,586 --> 00:12:52,666
about that incoming call.

255
00:12:53,966 --> 00:12:57,816
Now, in the completion block,

256
00:12:58,626 --> 00:13:01,736
and if there wasn't, we create

257
00:12:58,626 --> 00:13:01,736
and if there wasn't, we create

258
00:13:01,736 --> 00:13:05,656
and configure it and we add that

259
00:13:06,376 --> 00:13:08,676
We'll go into more detail

260
00:13:08,676 --> 00:13:11,416
about why there could be an

261
00:13:11,416 --> 00:13:13,266
to say, there's certain

262
00:13:13,266 --> 00:13:15,746
in which the device

263
00:13:15,746 --> 00:13:16,846
to accept an incoming call.

264
00:13:18,206 --> 00:13:20,346
Okay. So now that we

265
00:13:20,346 --> 00:13:23,206
on our ProviderDelegate, I'll

266
00:13:23,856 --> 00:13:26,646
and just replace this code that

267
00:13:27,096 --> 00:13:28,676
with a call to our helper.

268
00:13:29,896 --> 00:13:32,706
So great. So now

269
00:13:33,086 --> 00:13:35,196
to report an incoming

270
00:13:35,196 --> 00:13:37,566
about from a push

271
00:13:37,686 --> 00:13:40,706
and the system is showing the

272
00:13:40,706 --> 00:13:41,086
call UI.

273
00:13:41,696 --> 00:13:45,096
Well what happens when the

274
00:13:45,166 --> 00:13:46,486
and answers the incoming call?

275
00:13:47,836 --> 00:13:48,656
When that happens,

276
00:13:48,656 --> 00:13:51,996
our ProviderDelegate will

277
00:13:52,196 --> 00:13:53,126
that we need to implement.

278
00:13:54,006 --> 00:13:58,966
And that is the

279
00:13:58,966 --> 00:13:59,336
method.

280
00:13:59,926 --> 00:14:01,246
Let me walk through

281
00:13:59,926 --> 00:14:01,246
Let me walk through

282
00:14:02,016 --> 00:14:04,206
So we start by getting

283
00:14:04,246 --> 00:14:07,476
of our Speakerbox call class

284
00:14:07,476 --> 00:14:08,726
of the call that

285
00:14:09,986 --> 00:14:13,096
Next, we call the answer

286
00:14:13,096 --> 00:14:17,006
and this is some code that

287
00:14:17,326 --> 00:14:19,016
and this talks to our

288
00:14:19,016 --> 00:14:20,036
to actually answer that call.

289
00:14:20,576 --> 00:14:22,976
And now we do it here in our

290
00:14:24,176 --> 00:14:27,076
And last, we call

291
00:14:27,646 --> 00:14:30,976
In CallKit, every action

292
00:14:30,976 --> 00:14:33,736
if it was successful or

293
00:14:33,736 --> 00:14:34,556
in processing in that.

294
00:14:35,216 --> 00:14:37,506
And we can actually see

295
00:14:38,026 --> 00:14:41,166
if we were unable to find a

296
00:14:41,406 --> 00:14:43,066
we call the failed

297
00:14:43,256 --> 00:14:44,506
to indicate that to the system.

298
00:14:44,916 --> 00:14:49,686
So this method handles

299
00:14:49,686 --> 00:14:51,266
about when the user

300
00:14:52,206 --> 00:14:56,106
For that, we have a similar

301
00:14:56,526 --> 00:14:58,686
ProviderPerformEndCallAction.

302
00:14:59,546 --> 00:15:00,596
And this is very similar.

303
00:14:59,546 --> 00:15:00,596
And this is very similar.

304
00:15:01,076 --> 00:15:03,846
It looks up a call

305
00:15:04,356 --> 00:15:07,706
It talks to our network using

306
00:15:08,696 --> 00:15:10,206
It signals that that

307
00:15:10,206 --> 00:15:11,686
to the system by

308
00:15:12,556 --> 00:15:15,086
And it removes the call from

309
00:15:16,196 --> 00:15:18,626
So we're almost done

310
00:15:19,026 --> 00:15:20,646
but there's one other

311
00:15:20,846 --> 00:15:22,366
when handling that

312
00:15:22,616 --> 00:15:24,346
And that is our call's audio.

313
00:15:25,366 --> 00:15:28,836
So when using CallKit, you will

314
00:15:28,836 --> 00:15:30,176
audio session directly.

315
00:15:30,796 --> 00:15:33,656
Instead you will only

316
00:15:34,016 --> 00:15:36,206
and the system will actually

317
00:15:36,206 --> 00:15:38,276
session for you at

318
00:15:39,016 --> 00:15:42,286
So let me show you

319
00:15:42,436 --> 00:15:45,746
Back in our

320
00:15:46,776 --> 00:15:49,366
I'll insert a call to

321
00:15:49,366 --> 00:15:50,126
audio session.

322
00:15:51,066 --> 00:15:52,816
And this does like it says,

323
00:15:52,816 --> 00:15:54,596
it configures the

324
00:15:54,626 --> 00:15:56,776
but does not activate it.

325
00:15:57,006 --> 00:15:59,726
Instead our audio session will

326
00:16:00,296 --> 00:16:01,396
and after that happens,

327
00:16:01,396 --> 00:16:03,946
we'll receive a delegate

328
00:16:04,176 --> 00:16:05,496
didActivate audioSession.

329
00:16:06,216 --> 00:16:08,396
And this is the point where

330
00:16:08,396 --> 00:16:09,036
call's audio.

331
00:16:09,536 --> 00:16:14,876
Now the last step is to stop

332
00:16:15,126 --> 00:16:18,416
in the PerformEndCallAction

333
00:16:18,536 --> 00:16:20,206
Okay. So that's all

334
00:16:20,206 --> 00:16:23,106
to handle an incoming

335
00:16:23,716 --> 00:16:28,066
And now I've got on my device

336
00:16:28,526 --> 00:16:32,436
and let's build and run

337
00:16:32,566 --> 00:16:33,936
So for the purpose of this demo,

338
00:16:33,996 --> 00:16:36,496
I'll just simulate an

339
00:16:36,496 --> 00:16:37,056
at the bottom.

340
00:16:37,986 --> 00:16:39,146
And now when I press this,

341
00:16:39,736 --> 00:16:43,126
we'll see our call using

342
00:16:43,216 --> 00:16:45,026
full screen Native

343
00:16:45,026 --> 00:16:48,076
And I can just accept that call

344
00:16:48,766 --> 00:16:50,766
and our ProviderDelegate

345
00:16:50,766 --> 00:16:52,846
PerformAnswerCallAction method.

346
00:16:53,326 --> 00:16:56,936
It fulfills that and then

347
00:16:56,936 --> 00:17:01,486
to Jane I can just end the call

348
00:16:56,936 --> 00:17:01,486
to Jane I can just end the call

349
00:17:01,486 --> 00:17:02,346
fulfills that as well.

350
00:17:03,126 --> 00:17:06,326
So that's a demo of handling

351
00:17:06,326 --> 00:17:08,736
And I'll now pass

352
00:17:09,256 --> 00:17:09,626
Thanks.

353
00:17:10,516 --> 00:17:15,675
[ Applause ]

354
00:17:16,175 --> 00:17:16,866
&gt;&gt; Thank you, Stuart.

355
00:17:17,665 --> 00:17:19,586
So let's take a look at

356
00:17:20,286 --> 00:17:22,376
So first, we reported

357
00:17:22,376 --> 00:17:24,806
to the system via the report

358
00:17:24,886 --> 00:17:28,146
Then we handled an

359
00:17:28,146 --> 00:17:31,576
by implementing the delegate

360
00:17:31,576 --> 00:17:32,256
call action.

361
00:17:32,826 --> 00:17:35,306
Then once we've actually

362
00:17:35,306 --> 00:17:37,396
that action by calling

363
00:17:38,176 --> 00:17:40,686
So CallKit can do more

364
00:17:41,236 --> 00:17:43,596
Here a list of all our other

365
00:17:44,086 --> 00:17:48,296
As you can see, there's holds,

366
00:17:49,236 --> 00:17:52,786
So now let's spend a few seconds

367
00:17:53,466 --> 00:17:55,936
So say Speakerbox can

368
00:17:56,626 --> 00:17:58,066
Right here, in this example,

369
00:17:58,066 --> 00:18:00,626
there's already an active

370
00:17:58,066 --> 00:18:00,626
there's already an active

371
00:18:00,756 --> 00:18:02,786
and then there's an

372
00:18:03,536 --> 00:18:05,686
Now if the user wants

373
00:18:05,686 --> 00:18:08,946
and the answer incoming waiting

374
00:18:09,576 --> 00:18:12,446
the system will send

375
00:18:12,776 --> 00:18:17,206
A CXTransaction is nothing

376
00:18:17,206 --> 00:18:18,666
of one or more actions.

377
00:18:18,666 --> 00:18:22,306
In this case, it's a list

378
00:18:22,966 --> 00:18:26,016
And once Speakerbox has handled

379
00:18:26,016 --> 00:18:28,146
of these actions, it

380
00:18:28,146 --> 00:18:30,576
of them individually so

381
00:18:30,846 --> 00:18:31,856
to transition the UI.

382
00:18:33,476 --> 00:18:34,076
All right.

383
00:18:34,156 --> 00:18:36,466
Now I'll hand this

384
00:18:36,466 --> 00:18:37,606
through an outgoing call flow.

385
00:18:38,516 --> 00:18:41,086
[ Applause ]

386
00:18:41,586 --> 00:18:42,276
&gt;&gt; Thanks, Sirisha.

387
00:18:43,346 --> 00:18:44,746
So let's check back

388
00:18:45,506 --> 00:18:46,866
She talked to her mom yesterday

389
00:18:47,016 --> 00:18:49,516
but today she's feeling a little

390
00:18:49,516 --> 00:18:50,296
in with the home front.

391
00:18:51,166 --> 00:18:52,976
So let's see what it takes

392
00:18:57,276 --> 00:19:00,086
So the first thing that happens

393
00:18:57,276 --> 00:19:00,086
So the first thing that happens

394
00:19:00,086 --> 00:19:03,856
and taps to call her mom back is

395
00:19:03,856 --> 00:19:05,556
with a start call intent.

396
00:19:06,676 --> 00:19:09,826
Now some of you may have already

397
00:19:09,826 --> 00:19:14,096
session where we introduced

398
00:19:14,096 --> 00:19:15,236
like to find out

399
00:19:15,236 --> 00:19:16,766
you can always watch

400
00:19:17,846 --> 00:19:20,136
In a nutshell though,

401
00:19:20,176 --> 00:19:22,236
that represents a

402
00:19:22,706 --> 00:19:24,556
is wrapped up in

403
00:19:24,556 --> 00:19:27,366
and then passed back to our app.

404
00:19:27,576 --> 00:19:30,456
So our app has received

405
00:19:30,686 --> 00:19:33,996
and now we've constructed

406
00:19:33,996 --> 00:19:35,566
on the information

407
00:19:36,756 --> 00:19:37,796
We'll take that action

408
00:19:38,366 --> 00:19:40,686
and request it via

409
00:19:41,986 --> 00:19:44,126
The CallController will

410
00:19:44,126 --> 00:19:47,216
through to the system and if

411
00:19:47,316 --> 00:19:49,106
to our app via the

412
00:19:50,366 --> 00:19:52,316
Then finally our app

413
00:19:52,986 --> 00:19:55,786
and use the necessary

414
00:19:56,096 --> 00:19:57,056
to make that outgoing call.

415
00:19:57,676 --> 00:19:59,686
So now let's take a

416
00:19:59,686 --> 00:20:01,026
of the outgoing call

417
00:19:59,686 --> 00:20:01,026
of the outgoing call

418
00:20:02,116 --> 00:20:04,406
So we've just begun performing

419
00:20:05,156 --> 00:20:07,966
So the call is in

420
00:20:08,126 --> 00:20:10,496
From here, we'll finish

421
00:20:10,876 --> 00:20:13,846
and fulfill the action to move

422
00:20:15,276 --> 00:20:17,546
Then when the remote

423
00:20:18,506 --> 00:20:21,916
we'll notify the provider that

424
00:20:23,246 --> 00:20:25,776
And then finally,

425
00:20:25,886 --> 00:20:28,676
that the call has connected

426
00:20:28,676 --> 00:20:30,776
that the two parties can

427
00:20:31,296 --> 00:20:34,296
So now I'd like to

428
00:20:34,356 --> 00:20:36,276
back up to give us another demo.

429
00:20:37,516 --> 00:20:41,136
[ Applause ]

430
00:20:41,636 --> 00:20:42,096
&gt;&gt; Thanks, Nick.

431
00:20:42,586 --> 00:20:44,676
So now I'd like to give

432
00:20:44,676 --> 00:20:46,636
of adopting CallKit

433
00:20:47,066 --> 00:20:49,996
This time how to use it to

434
00:20:50,966 --> 00:20:54,306
I'll open up the Speakerbox

435
00:20:55,266 --> 00:20:57,516
Now back in our app

436
00:20:58,126 --> 00:21:01,626
we can see that Speakerbox

437
00:20:58,126 --> 00:21:01,626
we can see that Speakerbox

438
00:21:01,736 --> 00:21:03,926
with a URL to start a new call.

439
00:21:04,766 --> 00:21:06,706
But when using CallKit,

440
00:21:06,996 --> 00:21:10,066
the process of dialing an

441
00:21:10,616 --> 00:21:14,326
but when the user starts a call

442
00:21:14,326 --> 00:21:17,996
recents tab, or a

443
00:21:17,996 --> 00:21:21,126
the app will be launched with

444
00:21:21,126 --> 00:21:23,246
to us via an NSUser activity.

445
00:21:24,366 --> 00:21:27,656
So the first step in

446
00:21:27,656 --> 00:21:31,806
to implement the application

447
00:21:32,946 --> 00:21:34,486
And taking a look at

448
00:21:35,076 --> 00:21:39,236
we look at our NSUser

449
00:21:39,236 --> 00:21:40,916
of the startCallHandle property.

450
00:21:41,596 --> 00:21:43,876
This is some code we've

451
00:21:43,876 --> 00:21:48,396
at the NSUser activity, get the

452
00:21:48,396 --> 00:21:49,446
which is a string

453
00:21:49,446 --> 00:21:52,576
which represents the

454
00:21:52,576 --> 00:21:53,626
Now once we have our handle,

455
00:21:54,416 --> 00:21:57,516
the process of starting

456
00:21:57,516 --> 00:21:58,746
to the URL handler above.

457
00:21:59,096 --> 00:22:02,076
We just call the start call

458
00:21:59,096 --> 00:22:02,076
We just call the start call

459
00:22:03,096 --> 00:22:06,746
So now let's look at what

460
00:22:06,926 --> 00:22:09,406
So we can see in the

461
00:22:09,906 --> 00:22:12,406
that we start a call by

462
00:22:12,406 --> 00:22:14,186
of our model class,

463
00:22:15,096 --> 00:22:18,096
and then we call the

464
00:22:18,476 --> 00:22:20,856
which talks to our network

465
00:22:21,646 --> 00:22:25,136
And finally we add this

466
00:22:26,236 --> 00:22:28,956
But now this is not yet using

467
00:22:28,956 --> 00:22:30,736
about our intention

468
00:22:30,786 --> 00:22:31,886
And we need to do that.

469
00:22:32,396 --> 00:22:34,986
So I'm going to remove this

470
00:22:34,986 --> 00:22:36,596
to add parts of it back later.

471
00:22:38,276 --> 00:22:41,736
The first step of adopting

472
00:22:41,736 --> 00:22:42,596
to import the framework.

473
00:22:43,046 --> 00:22:49,086
And then I need that second

474
00:22:49,166 --> 00:22:50,706
the CXCallController class.

475
00:22:51,176 --> 00:22:55,466
And now that I have that,

476
00:22:56,706 --> 00:23:00,146
I need to create a

477
00:22:56,706 --> 00:23:00,146
I need to create a

478
00:23:00,146 --> 00:23:01,936
with the handle that

479
00:23:03,216 --> 00:23:06,956
Then I create a CXTransaction

480
00:23:08,066 --> 00:23:11,116
and finally I call

481
00:23:11,116 --> 00:23:13,316
on our callController to

482
00:23:13,866 --> 00:23:17,476
Now just to reiterate a point

483
00:23:18,076 --> 00:23:21,166
you maybe wondering why we need

484
00:23:21,166 --> 00:23:22,526
from the system when it seems

485
00:23:22,526 --> 00:23:24,566
like everything that's

486
00:23:24,566 --> 00:23:25,176
within our own app.

487
00:23:25,176 --> 00:23:29,216
And the reason for that

488
00:23:29,216 --> 00:23:30,336
to begin an outgoing call,

489
00:23:30,556 --> 00:23:33,056
there may already be a call

490
00:23:33,246 --> 00:23:36,676
For instance, if the user is

491
00:23:37,036 --> 00:23:38,546
or even a call from

492
00:23:39,196 --> 00:23:41,586
If that happens, the

493
00:23:41,586 --> 00:23:43,536
that call before

494
00:23:44,066 --> 00:23:46,566
So that's why we need to

495
00:23:46,836 --> 00:23:48,726
to let it know about

496
00:23:51,096 --> 00:23:53,896
So now, once the system receives

497
00:23:53,896 --> 00:23:57,166
and improves our start call

498
00:23:57,166 --> 00:24:00,046
that back to our app via

499
00:23:57,166 --> 00:24:00,046
that back to our app via

500
00:24:00,826 --> 00:24:02,416
So I need to implement

501
00:24:02,416 --> 00:24:03,836
on our ProviderDelegate class.

502
00:24:04,776 --> 00:24:08,746
This time it's the provider

503
00:24:09,466 --> 00:24:10,606
And let's fill this

504
00:24:11,996 --> 00:24:14,546
So we start same

505
00:24:14,546 --> 00:24:17,226
of creating a Speakerbox

506
00:24:17,496 --> 00:24:18,786
and configuring it

507
00:24:18,786 --> 00:24:19,766
which we're going to dial.

508
00:24:21,096 --> 00:24:25,016
Then we configure our audio

509
00:24:25,016 --> 00:24:28,286
when answering a call

510
00:24:28,396 --> 00:24:30,956
we need to configure a few

511
00:24:31,316 --> 00:24:32,896
And there's a lot

512
00:24:32,896 --> 00:24:35,166
so let's walk through it.

513
00:24:35,246 --> 00:24:37,906
We set two call back

514
00:24:38,686 --> 00:24:41,056
The

515
00:24:41,476 --> 00:24:43,506
and hasConnctedDidChange.

516
00:24:44,326 --> 00:24:47,126
These are asynchronous call back

517
00:24:47,476 --> 00:24:50,396
when the call progresses

518
00:24:50,396 --> 00:24:52,176
to connecting and

519
00:24:53,076 --> 00:24:54,686
And in these call back blocks,

520
00:24:55,026 --> 00:24:57,536
we report to the system

521
00:24:57,846 --> 00:24:59,656
And it allows the system

522
00:24:59,656 --> 00:25:02,236
and reflect it in the UI.

523
00:24:59,656 --> 00:25:02,236
and reflect it in the UI.

524
00:25:02,316 --> 00:25:06,376
So with that set, we can now

525
00:25:06,376 --> 00:25:07,556
method on our call.

526
00:25:08,146 --> 00:25:09,546
And this again, talks

527
00:25:09,766 --> 00:25:10,846
and it starts it outgoing.

528
00:25:11,866 --> 00:25:15,276
We fulfill the action to

529
00:25:16,076 --> 00:25:18,126
and add the call to

530
00:25:18,616 --> 00:25:24,666
Okay. So this handles starting

531
00:25:24,666 --> 00:25:27,116
about when the user wants to

532
00:25:27,116 --> 00:25:29,276
from within our own --

533
00:25:30,296 --> 00:25:32,296
So for that, we need to go back

534
00:25:32,296 --> 00:25:34,136
to our Speakerbox

535
00:25:34,176 --> 00:25:35,186
and look at the end method.

536
00:25:35,926 --> 00:25:37,776
And we can see here that just

537
00:25:37,776 --> 00:25:39,606
like the start call

538
00:25:40,026 --> 00:25:41,296
this is not yet using CallKit.

539
00:25:42,016 --> 00:25:43,786
So I need to replace

540
00:25:44,986 --> 00:25:48,756
I'll just drag this in and we

541
00:25:48,756 --> 00:25:51,626
to call action and it

542
00:25:52,216 --> 00:25:53,866
and then requests

543
00:25:53,866 --> 00:25:54,746
from the callController.

544
00:25:56,156 --> 00:25:58,636
But this time, we don't need

545
00:25:58,636 --> 00:26:01,196
in our ProviderDelegate

546
00:25:58,636 --> 00:26:01,196
in our ProviderDelegate

547
00:26:01,576 --> 00:26:03,776
we already implemented

548
00:26:04,776 --> 00:26:07,446
So that's all the code that we

549
00:26:07,996 --> 00:26:10,006
and I'll now build and

550
00:26:10,006 --> 00:26:10,976
And give you another demo.

551
00:26:17,246 --> 00:26:20,176
So I've built and updated

552
00:26:20,456 --> 00:26:22,366
but to show you an

553
00:26:22,366 --> 00:26:26,336
like to go back to the phone

554
00:26:26,756 --> 00:26:30,186
And we can now see the

555
00:26:30,186 --> 00:26:34,146
on the contact card and I just

556
00:26:34,476 --> 00:26:36,706
And when we do, our

557
00:26:36,966 --> 00:26:38,576
It will receive that intent

558
00:26:39,136 --> 00:26:43,076
and it will start a call

559
00:26:43,436 --> 00:26:46,246
It will request a transaction

560
00:26:46,246 --> 00:26:49,656
by the system and fed

561
00:26:49,656 --> 00:26:51,286
which will then fulfill

562
00:26:51,796 --> 00:26:52,646
And here we go.

563
00:26:52,806 --> 00:26:53,716
We just saw that happen.

564
00:26:54,116 --> 00:26:55,426
The call is now active.

565
00:26:57,276 --> 00:27:00,726
So now once the call is

566
00:26:57,276 --> 00:27:00,726
So now once the call is

567
00:27:01,106 --> 00:27:02,036
we can see something new.

568
00:27:02,336 --> 00:27:06,306
For the first time, the green

569
00:27:06,306 --> 00:27:08,546
shown for our app.

570
00:27:08,976 --> 00:27:11,376
Previously this was

571
00:27:11,376 --> 00:27:13,896
and FaceTime calls

572
00:27:14,256 --> 00:27:15,976
we'll be sent right

573
00:27:16,516 --> 00:27:19,866
[ Applause ]

574
00:27:20,366 --> 00:27:20,656
Thank you.

575
00:27:21,876 --> 00:27:24,836
Then when I'm done

576
00:27:24,836 --> 00:27:27,956
and this will request an end

577
00:27:28,076 --> 00:27:29,446
which our ProviderDelegate

578
00:27:30,586 --> 00:27:34,486
So that's all demo for handling

579
00:27:34,486 --> 00:27:36,936
I'll pass it back to

580
00:27:36,936 --> 00:27:38,376
over a few other API details.

581
00:27:38,736 --> 00:27:38,966
Thanks.

582
00:27:39,516 --> 00:27:43,500
[ Applause ]

583
00:27:46,236 --> 00:27:47,106
&gt;&gt; Thanks, Stuart.

584
00:27:47,906 --> 00:27:50,446
So first let's take a quick

585
00:27:52,996 --> 00:27:56,176
The first thing that happened is

586
00:27:56,176 --> 00:27:59,416
intent, created a start call

587
00:27:59,976 --> 00:28:01,726
and then requested

588
00:27:59,976 --> 00:28:01,726
and then requested

589
00:28:02,636 --> 00:28:05,186
Then the start call

590
00:28:05,186 --> 00:28:08,176
ProviderDelegate,

591
00:28:08,216 --> 00:28:12,626
And then finally, Speakerbox

592
00:28:12,626 --> 00:28:15,226
to connecting and then

593
00:28:15,736 --> 00:28:22,866
So, now that we've seen a few

594
00:28:22,866 --> 00:28:24,646
of the details of the

595
00:28:24,646 --> 00:28:25,706
out our usage of CallKit.

596
00:28:25,706 --> 00:28:30,816
And in particular, we'll take a

597
00:28:30,816 --> 00:28:33,266
and configuration to

598
00:28:33,416 --> 00:28:34,046
in the native UI.

599
00:28:35,046 --> 00:28:37,396
We'll take a look at how

600
00:28:37,706 --> 00:28:40,586
and system restrictions and

601
00:28:40,586 --> 00:28:47,286
at how CallKit plays a role in

602
00:28:47,526 --> 00:28:51,946
So as with other APIs like

603
00:28:52,646 --> 00:28:54,816
CallKit requires permission

604
00:28:55,456 --> 00:28:57,386
And because of this,

605
00:28:57,386 --> 00:29:00,706
that your app should do when it

606
00:28:57,386 --> 00:29:00,706
that your app should do when it

607
00:29:00,706 --> 00:29:01,716
authorization status.

608
00:29:02,666 --> 00:29:05,006
This may have changed since the

609
00:29:05,256 --> 00:29:06,826
If the user went into settings

610
00:29:06,826 --> 00:29:08,376
and maybe enabled or

611
00:29:09,766 --> 00:29:11,556
Then from here, if you discover

612
00:29:11,556 --> 00:29:13,746
that your app's authorization

613
00:29:13,746 --> 00:29:16,906
yet been determined, you

614
00:29:16,906 --> 00:29:17,466
for your app.

615
00:29:18,346 --> 00:29:21,236
And what this does is it tells

616
00:29:21,236 --> 00:29:23,106
to the user to request

617
00:29:23,106 --> 00:29:26,986
And this is done on behalf of

618
00:29:26,986 --> 00:29:29,046
on behalf of your app,

619
00:29:29,206 --> 00:29:35,446
to include an informative usage

620
00:29:35,596 --> 00:29:37,506
And lastly while

621
00:29:38,066 --> 00:29:39,886
you should always be sure

622
00:29:40,336 --> 00:29:42,856
to any authorization status

623
00:29:43,796 --> 00:29:46,846
so that you can always show the

624
00:29:49,676 --> 00:29:52,156
So now let's talk about

625
00:29:52,756 --> 00:29:55,766
So the provider configuration

626
00:29:55,876 --> 00:29:59,196
to customize its in

627
00:29:59,196 --> 00:30:00,446
in the Native and Call UI.

628
00:29:59,196 --> 00:30:00,446
in the Native and Call UI.

629
00:30:00,766 --> 00:30:06,436
Some of the things that can

630
00:30:06,436 --> 00:30:08,566
localized name to

631
00:30:09,816 --> 00:30:11,596
This also includes

632
00:30:11,596 --> 00:30:14,326
such as whether your app

633
00:30:15,046 --> 00:30:16,766
And this even includes things

634
00:30:16,766 --> 00:30:21,146
like specifying your own masked

635
00:30:21,146 --> 00:30:22,676
in one of the buttons

636
00:30:23,616 --> 00:30:28,436
And when tapped, this will take

637
00:30:28,436 --> 00:30:30,106
Just a note though

638
00:30:30,106 --> 00:30:31,926
for this app icon

639
00:30:31,926 --> 00:30:32,826
in a future seed [phonetic].

640
00:30:33,356 --> 00:30:39,416
So we've taken a look at what

641
00:30:39,416 --> 00:30:41,216
when executing actions

642
00:30:41,216 --> 00:30:42,526
when we run into a problem?

643
00:30:43,476 --> 00:30:45,736
Well take a look at the

644
00:30:46,726 --> 00:30:50,166
We've just started performing

645
00:30:50,966 --> 00:30:52,236
Let's say that in the process

646
00:30:52,236 --> 00:30:54,346
of performing that,

647
00:30:55,056 --> 00:30:56,666
Maybe we don't have

648
00:30:56,666 --> 00:30:57,726
with our network server,

649
00:30:57,726 --> 00:30:59,446
so we can't actually

650
00:31:00,866 --> 00:31:04,616
Well in this case, we should

651
00:31:05,356 --> 00:31:09,486
And the reason this is important

652
00:31:09,486 --> 00:31:10,556
that something went wrong.

653
00:31:11,126 --> 00:31:12,936
And then the system

654
00:31:13,756 --> 00:31:16,716
inform the user via things

655
00:31:17,516 --> 00:31:22,716
And along with these action

656
00:31:24,056 --> 00:31:27,226
So each action on the

657
00:31:27,226 --> 00:31:28,266
out associated with it.

658
00:31:28,966 --> 00:31:31,606
And these time outs are

659
00:31:31,606 --> 00:31:35,306
that actions initiated

660
00:31:35,696 --> 00:31:38,446
in a performance and

661
00:31:39,516 --> 00:31:42,436
So because of this, your

662
00:31:42,436 --> 00:31:45,476
to perform those actions

663
00:31:46,856 --> 00:31:49,386
However, if an action

664
00:31:50,186 --> 00:31:53,746
your app will be notified via

665
00:31:53,746 --> 00:31:55,976
method at which point it

666
00:32:00,516 --> 00:32:03,126
So based on the current

667
00:32:03,466 --> 00:32:05,926
certain system restrictions

668
00:32:06,926 --> 00:32:09,366
And we'll take a look at an

669
00:32:10,726 --> 00:32:13,196
One of the reasons

670
00:32:13,656 --> 00:32:17,836
your app's incoming call

671
00:32:17,836 --> 00:32:21,606
the user has disabled your app

672
00:32:22,766 --> 00:32:25,646
Or maybe the remote caller

673
00:32:25,646 --> 00:32:26,896
in the user's blocked list.

674
00:32:27,706 --> 00:32:30,996
Or perhaps the user has enabled

675
00:32:30,996 --> 00:32:34,876
to see any incoming calls

676
00:32:35,086 --> 00:32:36,456
Well for all of these cases,

677
00:32:37,186 --> 00:32:40,586
you app will be notified via

678
00:32:42,096 --> 00:32:42,766
For example,

679
00:32:42,766 --> 00:32:45,996
the reportNewIncomingCall

680
00:32:45,996 --> 00:32:47,116
in its completion handler.

681
00:32:47,476 --> 00:32:51,686
And as you can see here,

682
00:32:51,686 --> 00:32:52,326
that's returned.

683
00:32:53,146 --> 00:32:56,006
Sees that the error code is

684
00:32:56,006 --> 00:32:57,976
and then handles

685
00:32:59,316 --> 00:33:02,186
So now let's take a look

686
00:32:59,316 --> 00:33:02,186
So now let's take a look

687
00:33:03,606 --> 00:33:06,616
So with CallKit your app

688
00:33:06,616 --> 00:33:07,956
with its call's audio.

689
00:33:08,376 --> 00:33:10,746
And one of the biggest

690
00:33:10,746 --> 00:33:13,886
that its audio session will

691
00:33:13,886 --> 00:33:17,466
on the system on par with

692
00:33:18,136 --> 00:33:20,026
And what this means

693
00:33:20,026 --> 00:33:21,666
on the system will not be able

694
00:33:21,666 --> 00:33:23,476
to interrupt your

695
00:33:24,006 --> 00:33:27,946
And in addition to

696
00:33:27,946 --> 00:33:30,076
of certain audio routing

697
00:33:30,826 --> 00:33:34,736
which means it can decide where

698
00:33:34,736 --> 00:33:37,906
like the user's current

699
00:33:37,976 --> 00:33:40,376
or currently connected

700
00:33:40,826 --> 00:33:46,646
Let's take a look at an incoming

701
00:33:47,426 --> 00:33:48,686
We know that, at some point,

702
00:33:48,686 --> 00:33:52,006
during an incoming call our

703
00:33:52,006 --> 00:33:54,556
action and then fulfill

704
00:33:55,576 --> 00:33:58,626
Well after receiving the answer

705
00:33:58,756 --> 00:34:00,886
to configure our audio session.

706
00:33:58,756 --> 00:34:00,886
to configure our audio session.

707
00:34:01,376 --> 00:34:02,276
And that's because we know

708
00:34:02,276 --> 00:34:03,976
that the call will

709
00:34:05,456 --> 00:34:07,626
Then when we fulfill

710
00:34:08,746 --> 00:34:11,496
the system will automatically

711
00:34:11,846 --> 00:34:14,196
for our app at a

712
00:34:14,815 --> 00:34:15,876
and then let our app know

713
00:34:15,876 --> 00:34:19,286
that this has happened via

714
00:34:19,286 --> 00:34:20,376
provider delegate call back.

715
00:34:20,616 --> 00:34:24,386
And this is an indication

716
00:34:24,386 --> 00:34:26,036
to start media for the call.

717
00:34:26,036 --> 00:34:29,406
So that was just a quick look at

718
00:34:30,076 --> 00:34:32,626
to help us complete our

719
00:34:37,446 --> 00:34:40,306
So now we invite

720
00:34:40,536 --> 00:34:43,565
in your existing VoIP apps

721
00:34:43,565 --> 00:34:45,246
from the ground up

722
00:34:46,505 --> 00:34:48,786
With CallKit you'll

723
00:34:48,786 --> 00:34:50,906
into the system's

724
00:34:51,815 --> 00:34:54,976
and once you've adopted CallKit

725
00:34:55,255 --> 00:34:56,896
with native calling services.

726
00:34:58,086 --> 00:34:59,016
But most importantly,

727
00:34:59,696 --> 00:35:03,126
with CallKit your app will

728
00:34:59,696 --> 00:35:03,126
with CallKit your app will

729
00:35:03,176 --> 00:35:06,136
across the system whether

730
00:35:06,136 --> 00:35:10,116
incoming alerts on the locked

731
00:35:10,446 --> 00:35:14,576
favorites, and contacts,

732
00:35:14,936 --> 00:35:16,886
CarPlay, and Bluetooth.

733
00:35:19,066 --> 00:35:21,816
For more information you can

734
00:35:21,816 --> 00:35:23,116
at developer.apple.com

735
00:35:23,596 --> 00:35:26,016
where we'll also have the

736
00:35:26,016 --> 00:35:27,916
that we've been referencing

737
00:35:28,426 --> 00:35:31,856
We've got a lot of great

738
00:35:32,486 --> 00:35:35,666
So be sure to check out more

739
00:35:36,006 --> 00:35:37,156
networking, and audio.

740
00:35:38,556 --> 00:35:40,196
Thank you all so

741
00:35:40,226 --> 00:35:40,976
and we'll see you in the labs.

742
00:35:41,516 --> 00:35:44,500
[ Applause ]
