1
00:00:07,516 --> 00:00:17,500
[ Music ]

2
00:00:23,516 --> 00:00:30,816
[ Applause ]

3
00:00:31,316 --> 00:00:31,866
&gt;&gt; Good morning.

4
00:00:32,406 --> 00:00:34,546
Welcome to Advanced

5
00:00:35,436 --> 00:00:39,596
I'm Michele, and today we will

6
00:00:39,596 --> 00:00:41,736
about new notifications

7
00:00:42,916 --> 00:00:45,896
We'll start with the new

8
00:00:45,896 --> 00:00:47,476
We'll go over a little

9
00:00:47,786 --> 00:00:50,806
and we'll see what

10
00:00:51,226 --> 00:00:53,536
Then we'll see how to

11
00:00:53,736 --> 00:00:56,986
in the new notifications,

12
00:00:56,986 --> 00:01:01,826
to customize the user interface

13
00:00:56,986 --> 00:01:01,826
to customize the user interface

14
00:01:03,206 --> 00:01:05,746
Let's start with the overview

15
00:01:07,936 --> 00:01:11,576
User notifications in iOS X

16
00:01:11,866 --> 00:01:13,726
You see here the new lock screen

17
00:01:14,096 --> 00:01:16,416
with beautiful animations

18
00:01:18,206 --> 00:01:19,396
Here is a banner.

19
00:01:19,806 --> 00:01:22,096
You see they are

20
00:01:22,096 --> 00:01:23,296
They have more content.

21
00:01:23,486 --> 00:01:27,896
They show title, subtitle, and

22
00:01:28,076 --> 00:01:31,216
and notifications look the same

23
00:01:35,256 --> 00:01:40,986
In iOS 8, we introduced

24
00:01:41,266 --> 00:01:43,896
where you can add actions

25
00:01:43,896 --> 00:01:46,676
to make them more interactive

26
00:01:46,676 --> 00:01:47,746
with that much more quickly.

27
00:01:48,726 --> 00:01:52,356
In iOS 9, we introduced

28
00:01:52,796 --> 00:01:55,386
to enhance actionable

29
00:01:55,386 --> 00:01:58,396
so you can even allow the

30
00:01:58,396 --> 00:02:00,376
that they type to

31
00:01:58,396 --> 00:02:00,376
that they type to

32
00:02:01,156 --> 00:02:04,776
In iOS X, notifications

33
00:02:04,776 --> 00:02:07,926
because notifications now are

34
00:02:07,926 --> 00:02:09,466
as we interact with

35
00:02:09,466 --> 00:02:12,896
They are a very important way

36
00:02:12,946 --> 00:02:15,026
and a very important

37
00:02:15,026 --> 00:02:16,086
with your applications.

38
00:02:16,646 --> 00:02:21,576
So in iOS X, you can

39
00:02:21,636 --> 00:02:23,236
and notification will expand

40
00:02:23,236 --> 00:02:27,056
and show a much more detail

41
00:02:27,056 --> 00:02:30,306
for your application, and it's

42
00:02:30,576 --> 00:02:34,116
It shows more detail, and

43
00:02:35,156 --> 00:02:38,166
The user can also

44
00:02:38,266 --> 00:02:41,906
and the user interface can

45
00:02:41,946 --> 00:02:44,606
and the effect of the

46
00:02:49,776 --> 00:02:51,536
Calendar, which just

47
00:02:51,916 --> 00:02:54,616
We also have Find My

48
00:02:54,616 --> 00:02:57,276
that when a friend shares

49
00:02:57,726 --> 00:03:00,916
you see their location

50
00:02:57,726 --> 00:03:00,916
you see their location

51
00:03:00,916 --> 00:03:03,146
so you can see how late they're

52
00:03:04,976 --> 00:03:08,166
We also have notifications

53
00:03:08,276 --> 00:03:12,026
If you shared a photo on iCloud,

54
00:03:12,086 --> 00:03:14,106
in the notification

55
00:03:14,106 --> 00:03:17,656
and you can like it or comment

56
00:03:17,706 --> 00:03:19,576
to look at the, at the picture.

57
00:03:19,886 --> 00:03:21,326
At last, messages.

58
00:03:21,326 --> 00:03:22,386
This is not all of it.

59
00:03:23,366 --> 00:03:26,376
Messages support Quick

60
00:03:26,886 --> 00:03:29,606
but you could only

61
00:03:29,606 --> 00:03:31,366
and you can only

62
00:03:32,246 --> 00:03:34,386
Now you see the entire

63
00:03:34,386 --> 00:03:36,756
when you open the notification,

64
00:03:37,056 --> 00:03:39,646
you can wait for your friends

65
00:03:39,646 --> 00:03:40,746
can type more responses.

66
00:03:41,296 --> 00:03:43,996
This is the power of new

67
00:03:46,146 --> 00:03:52,136
But is this was all there was to

68
00:03:52,136 --> 00:03:54,556
for half an hour and show

69
00:03:54,556 --> 00:03:55,336
in iOS X.

70
00:03:55,886 --> 00:03:59,836
So the most important feature I

71
00:03:59,836 --> 00:04:02,556
that everything I just

72
00:03:59,836 --> 00:04:02,556
that everything I just

73
00:04:02,556 --> 00:04:06,326
with the new API's that we

74
00:04:06,876 --> 00:04:09,576
so you can do exactly the

75
00:04:09,836 --> 00:04:13,006
and add all the same features

76
00:04:13,006 --> 00:04:14,126
and your notifications.

77
00:04:15,586 --> 00:04:19,236
The first thing you can

78
00:04:22,276 --> 00:04:25,556
You know, one of the most

79
00:04:25,556 --> 00:04:29,506
by my friends are pictures

80
00:04:30,116 --> 00:04:33,736
So it's really important

81
00:04:33,736 --> 00:04:35,536
that was shared [inaudible]

82
00:04:35,536 --> 00:04:37,576
so I can see it more

83
00:04:37,576 --> 00:04:38,946
to open the app and download it.

84
00:04:41,496 --> 00:04:44,126
But the problem is

85
00:04:44,126 --> 00:04:48,156
push notifications are

86
00:04:49,106 --> 00:04:52,686
and even if we increase the

87
00:04:53,036 --> 00:04:56,586
that's not nearly enough

88
00:04:56,586 --> 00:04:59,406
even if it's a small one that

89
00:05:00,496 --> 00:05:01,766
So how do we do that?

90
00:05:03,016 --> 00:05:05,006
We use the new service

91
00:05:05,006 --> 00:05:07,826
that we introduced earlier today

92
00:05:10,086 --> 00:05:13,436
So to do, to download

93
00:05:13,846 --> 00:05:17,246
in the service extension, you

94
00:05:17,246 --> 00:05:21,366
to be mutable, as you

95
00:05:21,366 --> 00:05:26,116
I send a mutable content flag,

96
00:05:26,146 --> 00:05:28,686
to the attachment that you

97
00:05:29,366 --> 00:05:31,326
In this case, I use

98
00:05:31,956 --> 00:05:33,576
but you could also

99
00:05:33,576 --> 00:05:36,306
that your app knows how to

100
00:05:38,216 --> 00:05:40,846
After you've done this, and

101
00:05:40,846 --> 00:05:44,326
to the device, the system will

102
00:05:45,056 --> 00:05:46,126
In the service extension,

103
00:05:46,126 --> 00:05:48,456
you can download the

104
00:05:49,166 --> 00:05:51,326
Perhaps you can use

105
00:05:51,496 --> 00:05:53,956
so that the system helps

106
00:05:55,566 --> 00:05:57,516
And then the notification

107
00:05:57,516 --> 00:05:59,566
to the user with the attachment.

108
00:06:00,856 --> 00:06:04,216
Let's see it, a little bit

109
00:06:06,626 --> 00:06:10,076
This is a very basic example

110
00:06:11,616 --> 00:06:14,886
At the top, I implemented

111
00:06:15,466 --> 00:06:18,206
withContentHandler,

112
00:06:18,206 --> 00:06:20,066
when the notification

113
00:06:20,066 --> 00:06:22,206
and I have to download

114
00:06:24,066 --> 00:06:28,286
I download my attachment, again,

115
00:06:28,286 --> 00:06:30,676
or other techniques

116
00:06:30,676 --> 00:06:33,526
and when I have the

117
00:06:34,146 --> 00:06:36,506
I can create a notification

118
00:06:38,446 --> 00:06:42,026
When I created the object, I

119
00:06:42,886 --> 00:06:45,726
and I pass it onto the system

120
00:06:46,236 --> 00:06:50,986
After I've done this,

121
00:06:51,946 --> 00:06:55,506
with a beautiful picture

122
00:06:55,506 --> 00:06:57,056
without waiting for

123
00:06:57,186 --> 00:06:58,676
or without having

124
00:07:00,306 --> 00:07:04,246
And you see the notification

125
00:07:04,246 --> 00:07:05,526
actionable notifications to.

126
00:07:05,526 --> 00:07:11,706
So you can like or comment this,

127
00:07:12,686 --> 00:07:15,266
So media attachments,

128
00:07:15,806 --> 00:07:18,516
They support local, every

129
00:07:19,296 --> 00:07:20,946
We only talked about local here.

130
00:07:20,946 --> 00:07:24,386
We only talked about remote

131
00:07:24,386 --> 00:07:27,096
You just create the

132
00:07:27,386 --> 00:07:29,736
when you're scheduling the

133
00:07:32,306 --> 00:07:35,956
Attachments support

134
00:07:36,656 --> 00:07:39,866
and the system will

135
00:07:39,866 --> 00:07:41,726
for this three types of content.

136
00:07:42,816 --> 00:07:46,946
You download the attachment

137
00:07:47,316 --> 00:07:48,636
but you have to remember

138
00:07:48,886 --> 00:07:52,226
that the service extensions

139
00:07:52,336 --> 00:07:57,476
that it can run, and file

140
00:07:57,576 --> 00:08:00,726
because these are meant to be

141
00:07:57,576 --> 00:08:00,726
because these are meant to be

142
00:08:00,726 --> 00:08:03,526
They're not meant to deliver

143
00:08:04,026 --> 00:08:06,446
So you may want to send

144
00:08:06,596 --> 00:08:09,766
of the image, and then

145
00:08:09,766 --> 00:08:11,476
when the user opens the app.

146
00:08:11,636 --> 00:08:14,216
Or you may want to

147
00:08:14,416 --> 00:08:17,306
if you're sending a video, and

148
00:08:17,306 --> 00:08:19,966
when they open the app.

149
00:08:21,116 --> 00:08:24,716
When you downloaded it, you

150
00:08:25,576 --> 00:08:28,756
and at this point,

151
00:08:29,026 --> 00:08:31,006
and manages the file for you.

152
00:08:31,476 --> 00:08:33,916
You don't need to worry

153
00:08:33,916 --> 00:08:37,086
The system moves it

154
00:08:37,706 --> 00:08:38,816
and handles all the data.

155
00:08:39,796 --> 00:08:43,525
Oh, yeah, I almost forgot.

156
00:08:43,996 --> 00:08:45,486
Of course, we support GIFs.

157
00:08:46,516 --> 00:08:55,016
[ Applause ]

158
00:08:55,516 --> 00:08:57,246
So attachments are pretty cool,

159
00:08:57,246 --> 00:09:00,676
and they provide a very rich

160
00:08:57,246 --> 00:09:00,676
and they provide a very rich

161
00:09:01,396 --> 00:09:04,816
but at the beginning I said that

162
00:09:04,816 --> 00:09:09,256
that I showed you with the new

163
00:09:09,256 --> 00:09:12,136
messages, and they

164
00:09:12,136 --> 00:09:13,186
using attachments.

165
00:09:13,756 --> 00:09:15,766
They were using custom

166
00:09:16,816 --> 00:09:18,706
and this is what we're

167
00:09:20,226 --> 00:09:21,786
To create a custom

168
00:09:24,656 --> 00:09:27,426
you use the second

169
00:09:27,426 --> 00:09:28,866
to our standard notifications,

170
00:09:29,106 --> 00:09:31,086
and it's a

171
00:09:32,656 --> 00:09:35,376
The NotificationContentExtension

172
00:09:35,416 --> 00:09:38,046
to add your own views,

173
00:09:38,226 --> 00:09:41,626
You can draw anything

174
00:09:41,716 --> 00:09:43,306
most important limitation is

175
00:09:43,306 --> 00:09:45,066
that there is no

176
00:09:45,416 --> 00:09:46,496
They don't receive touches.

177
00:09:46,496 --> 00:09:48,346
The user cannot tap on them.

178
00:09:48,956 --> 00:09:51,046
But notifications

179
00:09:51,096 --> 00:09:53,316
because you can use

180
00:09:53,666 --> 00:09:55,746
and the extension can

181
00:09:55,746 --> 00:09:58,886
and we'll see later

182
00:10:01,486 --> 00:10:04,906
So I said that we can

183
00:10:04,906 --> 00:10:05,956
that the system is doing.

184
00:10:06,376 --> 00:10:08,786
Let's start by seeing

185
00:10:08,786 --> 00:10:10,386
and then we'll see how

186
00:10:11,936 --> 00:10:13,276
This is a calendar notification.

187
00:10:13,276 --> 00:10:16,096
You see at the very

188
00:10:16,096 --> 00:10:18,936
with the notification icon that

189
00:10:19,746 --> 00:10:22,236
the application name,

190
00:10:22,436 --> 00:10:24,556
This is standard UI

191
00:10:24,686 --> 00:10:25,586
to all notifications.

192
00:10:27,376 --> 00:10:29,746
Underneath the header,

193
00:10:30,426 --> 00:10:32,406
and this is where your

194
00:10:32,406 --> 00:10:32,586
will live.

195
00:10:32,586 --> 00:10:35,006
This is where you

196
00:10:35,236 --> 00:10:37,906
You show all the extra details

197
00:10:39,706 --> 00:10:44,696
And underneath these,

198
00:10:44,696 --> 00:10:45,736
that the system shows.

199
00:10:47,126 --> 00:10:49,856
This shows the content that

200
00:10:49,856 --> 00:10:54,336
This was what was visible until

201
00:10:56,506 --> 00:11:03,816
And at the very bottom, there

202
00:10:56,506 --> 00:11:03,816
And at the very bottom, there

203
00:11:03,816 --> 00:11:05,836
and interact in notification.

204
00:11:06,176 --> 00:11:10,686
When the user taps on them,

205
00:11:10,996 --> 00:11:13,736
and show what happened.

206
00:11:13,996 --> 00:11:16,386
So let's see how to make

207
00:11:17,956 --> 00:11:21,696
We'll start with a party invite.

208
00:11:22,446 --> 00:11:24,516
Parties are fun, and we're

209
00:11:25,756 --> 00:11:28,846
This is the basic notification

210
00:11:28,846 --> 00:11:31,096
by the user when you just

211
00:11:31,586 --> 00:11:34,066
and it's pretty similar

212
00:11:34,676 --> 00:11:36,236
Let's see how to expand this

213
00:11:36,666 --> 00:11:39,076
and show custom user

214
00:11:40,426 --> 00:11:43,316
The first thing you want to

215
00:11:43,516 --> 00:11:47,176
in your application, and you

216
00:11:47,176 --> 00:11:48,176
that Xcode provides,

217
00:11:48,586 --> 00:11:50,536
the NotificationContentExtension

218
00:11:51,896 --> 00:11:55,536
This template will create

219
00:11:56,406 --> 00:11:59,856
A view controller, main

220
00:12:00,486 --> 00:12:02,266
and the info.plist

221
00:12:02,266 --> 00:12:04,476
up customizables

222
00:12:08,456 --> 00:12:09,496
This is the view controller

223
00:12:10,036 --> 00:12:11,706
for the

224
00:12:12,336 --> 00:12:16,406
As you see, it's just a UI

225
00:12:16,896 --> 00:12:19,446
It's a regular view controller

226
00:12:21,156 --> 00:12:23,846
It also implements the

227
00:12:23,846 --> 00:12:26,866
protocol, and this is what

228
00:12:26,866 --> 00:12:29,436
to use these view controller

229
00:12:30,266 --> 00:12:34,816
This protocol has only

230
00:12:35,236 --> 00:12:37,516
The required method is

231
00:12:37,516 --> 00:12:42,586
as you see here, and this

232
00:12:42,586 --> 00:12:45,756
with the view controller

233
00:12:45,756 --> 00:12:48,306
when the notification is

234
00:12:48,876 --> 00:12:50,006
To your extension.

235
00:12:51,756 --> 00:12:54,476
So when the user

236
00:12:55,466 --> 00:12:57,566
you will receive all the

237
00:12:57,656 --> 00:12:58,876
and these one in addition.

238
00:12:58,876 --> 00:13:00,966
So you can receive the

239
00:12:58,876 --> 00:13:00,966
So you can receive the

240
00:13:01,146 --> 00:13:03,736
and update your UI and

241
00:13:06,306 --> 00:13:10,986
The, the next thing you want

242
00:13:10,986 --> 00:13:12,626
to find your content extension.

243
00:13:13,886 --> 00:13:17,836
Content extensions, you use the

244
00:13:17,836 --> 00:13:20,226
that you use to register

245
00:13:21,176 --> 00:13:22,936
In this case, I use

246
00:13:23,376 --> 00:13:25,296
for my party invite invitation,

247
00:13:26,176 --> 00:13:29,236
but extensions can

248
00:13:29,236 --> 00:13:31,966
with multiple categories in

249
00:13:31,966 --> 00:13:33,316
for different types

250
00:13:33,316 --> 00:13:35,016
of notifications

251
00:13:35,626 --> 00:13:38,446
In this case, I'm using the

252
00:13:38,766 --> 00:13:40,726
They could be very similar UI's.

253
00:13:40,726 --> 00:13:42,756
So I can just use the

254
00:13:42,756 --> 00:13:44,376
because they may have

255
00:13:46,576 --> 00:13:47,756
So I set up everything.

256
00:13:49,096 --> 00:13:50,106
I have my view controller.

257
00:13:50,596 --> 00:13:54,066
Now I want to add some custom

258
00:13:54,176 --> 00:13:55,846
It's a very controller.

259
00:13:55,956 --> 00:13:58,796
I added some labels

260
00:13:58,796 --> 00:14:01,316
that I'm not showing

261
00:13:58,796 --> 00:14:01,316
that I'm not showing

262
00:14:02,476 --> 00:14:06,386
when I receive the notification,

263
00:14:07,406 --> 00:14:11,786
to have the information I need,

264
00:14:12,256 --> 00:14:13,756
on the labels that

265
00:14:15,156 --> 00:14:18,756
You see that I also have some

266
00:14:18,756 --> 00:14:22,426
to the standard one that comes

267
00:14:22,426 --> 00:14:26,226
to show something more than the

268
00:14:26,616 --> 00:14:28,276
In this case, I'm

269
00:14:28,276 --> 00:14:31,656
because it's pretty important

270
00:14:33,296 --> 00:14:35,696
And this is my notification now.

271
00:14:37,186 --> 00:14:39,736
You see that I have

272
00:14:40,176 --> 00:14:43,636
I draw my own UI with my custom

273
00:14:45,166 --> 00:14:47,636
but these notifications

274
00:14:49,506 --> 00:14:52,646
The first problem is that

275
00:14:53,276 --> 00:14:55,376
I don't need all

276
00:14:55,376 --> 00:14:56,386
It's all empty.

277
00:14:56,676 --> 00:14:58,926
I have much smaller

278
00:14:59,356 --> 00:15:03,886
The second problem is that the

279
00:14:59,356 --> 00:15:03,886
The second problem is that the

280
00:15:04,356 --> 00:15:06,966
I don't need it because I'm

281
00:15:06,966 --> 00:15:09,556
information up top

282
00:15:10,186 --> 00:15:12,986
But we can fix both

283
00:15:13,886 --> 00:15:15,846
Well, let's fix the

284
00:15:15,846 --> 00:15:19,466
because it's easier, and this

285
00:15:19,676 --> 00:15:23,356
in your info.plist, and you can

286
00:15:23,586 --> 00:15:25,976
to yes to hide the

287
00:15:26,106 --> 00:15:27,786
The system will not

288
00:15:29,446 --> 00:15:33,296
The second problem was the

289
00:15:34,086 --> 00:15:36,106
but since it's just

290
00:15:36,386 --> 00:15:39,856
I can resize it the way I'm used

291
00:15:40,386 --> 00:15:43,216
In this case, I'm setting

292
00:15:43,536 --> 00:15:47,406
but you can set the

293
00:15:47,406 --> 00:15:51,756
You can use the storyboard,

294
00:15:52,846 --> 00:15:54,616
And after fixing

295
00:15:55,866 --> 00:15:56,906
this is my notification now.

296
00:15:58,346 --> 00:15:59,086
It looks much better.

297
00:16:00,186 --> 00:16:01,696
It's the right size

298
00:16:02,136 --> 00:16:03,666
There's no duplicate content,

299
00:16:04,616 --> 00:16:07,116
but did you see there

300
00:16:07,936 --> 00:16:09,496
When the notification

301
00:16:09,496 --> 00:16:11,356
it was not the right size.

302
00:16:11,626 --> 00:16:16,116
So the system had to animate

303
00:16:16,116 --> 00:16:17,166
to show it the right size.

304
00:16:17,596 --> 00:16:18,786
Let me show it to you again.

305
00:16:21,336 --> 00:16:24,126
See? We could make it better.

306
00:16:25,286 --> 00:16:28,796
The reason this happens

307
00:16:28,796 --> 00:16:32,196
to know the size of your final

308
00:16:32,196 --> 00:16:35,416
to display it so you can

309
00:16:36,236 --> 00:16:39,096
But your extension

310
00:16:39,296 --> 00:16:41,526
when the system starts

311
00:16:42,006 --> 00:16:44,886
So you need to tell the

312
00:16:44,886 --> 00:16:49,406
of your code runs what size

313
00:16:49,406 --> 00:16:51,616
But the problem is that

314
00:16:51,846 --> 00:16:52,906
in different devices

315
00:16:52,906 --> 00:16:54,806
with different sizes

316
00:16:55,776 --> 00:16:59,676
So the way we do that is

317
00:16:59,786 --> 00:17:00,906
content size ratio.

318
00:16:59,786 --> 00:17:00,906
content size ratio.

319
00:17:02,116 --> 00:17:05,866
So these, this defines the

320
00:17:06,685 --> 00:17:08,046
that you want to use

321
00:17:09,836 --> 00:17:12,415
Now this may, of course,

322
00:17:12,546 --> 00:17:14,945
because you may have

323
00:17:15,205 --> 00:17:16,746
You don't know what

324
00:17:16,746 --> 00:17:18,026
You still want to

325
00:17:18,386 --> 00:17:21,665
So sometimes this may not

326
00:17:21,826 --> 00:17:24,516
figure out a size that works

327
00:17:24,906 --> 00:17:27,316
This is the way to do it.

328
00:17:27,596 --> 00:17:32,216
And the result after I've done

329
00:17:32,216 --> 00:17:33,986
that now present it directly

330
00:17:34,126 --> 00:17:36,076
at the right size

331
00:17:36,526 --> 00:17:38,016
So let's review what

332
00:17:39,426 --> 00:17:41,216
We wanted to do a

333
00:17:42,186 --> 00:17:44,586
We may, we started

334
00:17:45,086 --> 00:17:49,776
That's pretty basic, but has all

335
00:17:49,776 --> 00:17:51,286
information that was

336
00:17:51,286 --> 00:17:53,126
but it was the wrong size.

337
00:17:53,626 --> 00:17:55,736
So we fixed the presentation

338
00:17:55,996 --> 00:17:57,726
by using the initial

339
00:17:58,806 --> 00:18:01,006
And then we fixed the

340
00:17:58,806 --> 00:18:01,006
And then we fixed the

341
00:18:01,536 --> 00:18:04,006
by setting the default

342
00:18:05,176 --> 00:18:07,946
and we went from the

343
00:18:09,676 --> 00:18:11,486
This looks better

344
00:18:12,046 --> 00:18:14,616
Still not great, but I

345
00:18:14,616 --> 00:18:18,956
that is unlocked

346
00:18:21,176 --> 00:18:25,066
But I also know another trick to

347
00:18:26,026 --> 00:18:27,026
We can add pictures.

348
00:18:27,306 --> 00:18:30,346
Pictures are always nice,

349
00:18:31,466 --> 00:18:34,866
So we can use the

350
00:18:35,156 --> 00:18:39,456
that we used earlier also in

351
00:18:41,036 --> 00:18:43,276
Since they're added to

352
00:18:43,636 --> 00:18:46,306
you can access them inside

353
00:18:46,846 --> 00:18:48,856
So when you receive the

354
00:18:49,316 --> 00:18:54,336
notification method, you

355
00:18:54,756 --> 00:18:55,406
from your content.

356
00:18:56,046 --> 00:19:00,726
As I mentioned earlier,

357
00:18:56,046 --> 00:19:00,726
As I mentioned earlier,

358
00:19:00,726 --> 00:19:03,046
by the system, and it's

359
00:19:03,586 --> 00:19:05,616
This means that it's

360
00:19:05,946 --> 00:19:08,816
So you need to tell the system

361
00:19:09,116 --> 00:19:10,916
and tell the system

362
00:19:12,306 --> 00:19:15,326
When you have access, you

363
00:19:15,666 --> 00:19:18,176
In this case, I'm adding

364
00:19:19,826 --> 00:19:22,476
And here's my notification now.

365
00:19:24,826 --> 00:19:25,976
You can tell this

366
00:19:26,516 --> 00:19:33,196
[ Applause ]

367
00:19:33,696 --> 00:19:36,456
This is much nicer than

368
00:19:36,946 --> 00:19:38,466
and it's our own custom UI.

369
00:19:38,466 --> 00:19:41,056
We want, we wanted to show

370
00:19:41,056 --> 00:19:42,816
to the user, and we added that.

371
00:19:43,146 --> 00:19:44,396
We wanted to add a picture.

372
00:19:44,626 --> 00:19:45,516
We have that, too.

373
00:19:47,356 --> 00:19:48,996
Well, we missed the next step.

374
00:19:49,196 --> 00:19:50,726
We want to make this

375
00:19:51,066 --> 00:19:53,136
We want to implement

376
00:19:55,386 --> 00:19:58,376
Let's do that now.

377
00:20:00,596 --> 00:20:03,616
Default actions by

378
00:20:03,616 --> 00:20:05,966
as you're used to since iOS 8.

379
00:20:07,156 --> 00:20:08,196
They are delivered to the app.

380
00:20:08,426 --> 00:20:09,726
When the user taps

381
00:20:10,296 --> 00:20:12,056
the app receives the

382
00:20:13,306 --> 00:20:15,416
and the notification gets

383
00:20:16,456 --> 00:20:18,926
This is pretty convenient

384
00:20:18,926 --> 00:20:22,316
that you often use, and it's

385
00:20:23,026 --> 00:20:26,126
but sometimes you want to

386
00:20:26,326 --> 00:20:28,546
of the action for,

387
00:20:28,546 --> 00:20:29,736
of the calendar invitation.

388
00:20:30,096 --> 00:20:31,646
That when the user

389
00:20:32,606 --> 00:20:36,076
the content highlighted the

390
00:20:36,506 --> 00:20:40,376
And you can do that in your

391
00:20:41,216 --> 00:20:43,746
You do that by intercepting

392
00:20:44,076 --> 00:20:45,476
in the notification extension.

393
00:20:46,426 --> 00:20:50,436
When you do that, the action

394
00:20:51,136 --> 00:20:54,406
and it can decide to delay the

395
00:20:54,526 --> 00:20:57,976
So it has time to handle

396
00:20:58,656 --> 00:20:59,736
and dismiss when it's done.

397
00:21:00,446 --> 00:21:03,646
This is very simple,

398
00:21:03,876 --> 00:21:07,046
with the second method inside

399
00:21:07,046 --> 00:21:07,516
protocol.

400
00:21:08,696 --> 00:21:10,266
This method is optional.

401
00:21:10,516 --> 00:21:12,236
You don't need to implement

402
00:21:12,236 --> 00:21:15,146
to intercept the actions,

403
00:21:15,386 --> 00:21:17,506
it means that you have

404
00:21:17,536 --> 00:21:18,906
that are in that notification.

405
00:21:19,236 --> 00:21:22,766
You cannot handle one and

406
00:21:24,096 --> 00:21:27,806
So when you receive

407
00:21:29,266 --> 00:21:31,436
you can send a response

408
00:21:31,616 --> 00:21:33,546
to update the information

409
00:21:33,666 --> 00:21:35,396
When you receive the

410
00:21:35,826 --> 00:21:38,656
you update the UI saying

411
00:21:38,656 --> 00:21:39,866
to the party, of course.

412
00:21:40,676 --> 00:21:43,286
And when it's done, you can

413
00:21:44,286 --> 00:21:49,056
So that the interface was

414
00:21:50,326 --> 00:21:53,546
In case you want to

415
00:21:53,546 --> 00:21:55,936
to your application,

416
00:21:56,646 --> 00:21:58,636
If you want to do

417
00:21:58,816 --> 00:22:01,366
or you want to keep the code

418
00:21:58,816 --> 00:22:01,366
or you want to keep the code

419
00:22:01,746 --> 00:22:05,526
you just call completionHandler

420
00:22:07,626 --> 00:22:11,336
And what happens when we do this

421
00:22:11,756 --> 00:22:13,576
we tap on that, and

422
00:22:14,766 --> 00:22:16,066
and we dismiss later.

423
00:22:18,656 --> 00:22:24,836
So you saw in my example code

424
00:22:25,266 --> 00:22:28,576
and decline action, and we

425
00:22:29,366 --> 00:22:31,326
Because sometimes

426
00:22:31,326 --> 00:22:33,046
to a party invitation,

427
00:22:33,046 --> 00:22:35,316
we want to tell your friends

428
00:22:35,316 --> 00:22:37,636
to the party or how upset

429
00:22:38,416 --> 00:22:39,686
So you tap on the

430
00:22:41,736 --> 00:22:44,186
The comment action is

431
00:22:45,146 --> 00:22:48,016
like the ones we introduced

432
00:22:48,016 --> 00:22:52,226
in the same way, except with

433
00:22:54,226 --> 00:22:55,976
This is a texting production.

434
00:22:56,596 --> 00:22:58,686
A tiny bit of newer PI on this.

435
00:22:58,856 --> 00:23:01,166
You can set the place

436
00:22:58,856 --> 00:23:01,166
You can set the place

437
00:23:02,756 --> 00:23:07,216
and when you created the action,

438
00:23:07,566 --> 00:23:09,616
so that it's displayed

439
00:23:13,446 --> 00:23:15,926
So when the user taps

440
00:23:16,606 --> 00:23:17,586
the text will display.

441
00:23:21,056 --> 00:23:25,016
Now since this is an

442
00:23:25,186 --> 00:23:26,776
you can handle it

443
00:23:27,026 --> 00:23:29,646
So you can intercept it

444
00:23:29,646 --> 00:23:30,756
and handle it there.

445
00:23:32,086 --> 00:23:32,896
Here's how you do that.

446
00:23:33,516 --> 00:23:34,826
You receive the notification.

447
00:23:37,286 --> 00:23:40,736
You check if it's a

448
00:23:42,106 --> 00:23:46,926
You extract the text of the user

449
00:23:48,066 --> 00:23:50,796
And when you're done, you

450
00:23:53,076 --> 00:23:56,266
And this is what happens.

451
00:23:56,586 --> 00:24:00,876
You tap, type, and there's

452
00:23:56,586 --> 00:24:00,876
You tap, type, and there's

453
00:24:00,876 --> 00:24:01,946
with this notification.

454
00:24:02,656 --> 00:24:06,606
I want to respond to the invite,

455
00:24:07,106 --> 00:24:09,726
and I can't say if I want

456
00:24:11,866 --> 00:24:15,696
So what we would like to do

457
00:24:15,696 --> 00:24:18,466
but also two buttons

458
00:24:18,466 --> 00:24:19,576
or decline the invitation.

459
00:24:20,526 --> 00:24:21,826
Something like this.

460
00:24:23,176 --> 00:24:23,676
Would that work?

461
00:24:25,746 --> 00:24:28,716
Well, there's no new API to do

462
00:24:28,946 --> 00:24:30,276
because it already exists.

463
00:24:30,776 --> 00:24:36,156
You can use the existing UIKit

464
00:24:36,936 --> 00:24:39,976
to add your own custom into the

465
00:24:40,516 --> 00:24:48,586
[ Applause ]

466
00:24:49,086 --> 00:24:52,386
To do that, the first thing

467
00:24:52,386 --> 00:24:54,456
that your controller can

468
00:24:55,376 --> 00:24:59,686
This tells both the UIKit

469
00:24:59,686 --> 00:25:03,036
of the responder chain and

470
00:24:59,686 --> 00:25:03,036
of the responder chain and

471
00:25:03,036 --> 00:25:05,026
that you don't want the

472
00:25:07,706 --> 00:25:11,986
Then you create your own

473
00:25:12,186 --> 00:25:13,506
in this case, like mine,

474
00:25:13,586 --> 00:25:15,216
there was a text

475
00:25:16,976 --> 00:25:22,386
And then when I receive

476
00:25:22,596 --> 00:25:24,036
the comment action

477
00:25:24,656 --> 00:25:28,286
I can make it first responder

478
00:25:28,286 --> 00:25:29,486
and the keyboard appears.

479
00:25:29,486 --> 00:25:31,336
I need to do both calls here

480
00:25:31,336 --> 00:25:34,356
because the first one makes a

481
00:25:34,356 --> 00:25:35,676
So the text field appears,

482
00:25:36,026 --> 00:25:38,286
and the second one makes the

483
00:25:38,286 --> 00:25:39,526
so that the keyboard appears.

484
00:25:42,446 --> 00:25:45,366
You notice that in this case, I

485
00:25:45,366 --> 00:25:47,996
in the fact that it's a

486
00:25:47,996 --> 00:25:50,736
You can use regular

487
00:25:51,546 --> 00:25:54,656
to get the text from the user

488
00:25:54,846 --> 00:25:56,276
So I have access to that UI.

489
00:25:56,276 --> 00:26:02,556
And the result of this is

490
00:25:56,276 --> 00:26:02,556
And the result of this is

491
00:26:03,286 --> 00:26:05,156
now you can type your response

492
00:26:05,876 --> 00:26:07,976
and actually respond

493
00:26:12,686 --> 00:26:15,986
So this was all for

494
00:26:16,336 --> 00:26:20,756
There are some other small bits

495
00:26:20,756 --> 00:26:22,916
and talk to us at the labs

496
00:26:26,386 --> 00:26:31,026
And what we learned today is how

497
00:26:31,576 --> 00:26:34,036
in Notification Content

498
00:26:35,256 --> 00:26:40,046
We learned how to download and

499
00:26:40,306 --> 00:26:41,756
by using a service extension.

500
00:26:43,156 --> 00:26:45,716
We learned how to do

501
00:26:45,716 --> 00:26:49,176
with your specialized content

502
00:26:49,486 --> 00:26:53,566
that can use media attachments

503
00:26:55,156 --> 00:26:59,056
For more information

504
00:26:59,116 --> 00:27:01,216
there's a special

505
00:26:59,116 --> 00:27:01,216
there's a special

506
00:27:04,186 --> 00:27:07,956
We had a session earlier today

507
00:27:07,956 --> 00:27:10,546
up to learn about the new

508
00:27:10,546 --> 00:27:12,996
and more details about

509
00:27:14,776 --> 00:27:15,096
Thank you.
