1
00:00:17,985 --> 00:00:21,889
<c.magenta>（Xcode和Xcode Server签名新特性）</c>

2
00:00:22,856 --> 00:00:23,690
<c.magenta>大家下午好</c>

3
00:00:26,159 --> 00:00:29,162
<c.magenta>很高兴与大家见面</c>

4
00:00:30,264 --> 00:00:32,165
<c.magenta>今天我们有很多精彩的内容与大家分享</c>

5
00:00:35,669 --> 00:00:40,908
<c.magenta>去年我们推出自动签名</c>

6
00:00:42,776 --> 00:00:45,712
<c.magenta>自动签名极大地增强易用性</c>

7
00:00:45,812 --> 00:00:47,080
<c.magenta>帮助你进行应用签名</c>

8
00:00:48,615 --> 00:00:51,151
<c.magenta>今天 我们更进一步</c>

9
00:00:52,019 --> 00:00:55,722
<c.magenta>将自动签名用于分发</c>

10
00:00:56,557 --> 00:00:59,259
<c.magenta>Xcode Build和Xcode Server</c>

11
00:01:01,361 --> 00:01:03,931
<c.magenta>那么 今天我们将讨论什么呢？</c>

12
00:01:05,632 --> 00:01:07,935
<c.magenta>首先 我要简要回顾</c>

13
00:01:08,001 --> 00:01:10,871
<c.magenta>签名基础知识</c>

14
00:01:11,939 --> 00:01:15,742
<c.magenta>接下来 我将展示</c>

15
00:01:16,243 --> 00:01:17,611
<c.magenta>以进行开发签名</c>

16
00:01:17,678 --> 00:01:20,280
<c.magenta>让你能够在设备上定期执行测试</c>

17
00:01:21,748 --> 00:01:22,950
<c.magenta>然后 我会介绍</c>

18
00:01:23,016 --> 00:01:25,886
<c.magenta>我们对手动签名</c>

19
00:01:27,287 --> 00:01:30,457
<c.magenta>毅太将会上台</c>

20
00:01:30,524 --> 00:01:33,126
<c.magenta>另外我们还对分发和</c>

21
00:01:34,261 --> 00:01:37,264
<c.magenta>然后布兰特将会上台</c>

22
00:01:37,331 --> 00:01:39,666
<c.magenta>并且首次执行分发签名</c>

23
00:01:41,802 --> 00:01:43,437
<c.magenta>在我们深入探讨之前</c>

24
00:01:43,504 --> 00:01:46,240
<c.magenta>我想花点时间</c>

25
00:01:46,340 --> 00:01:47,341
<c.magenta>我们为什么要进行代码签名</c>

26
00:01:48,509 --> 00:01:51,845
<c.magenta>答案很简单</c>

27
00:01:52,646 --> 00:01:55,949
<c.magenta>它保护用户</c>

28
00:01:56,316 --> 00:01:59,486
<c.magenta>我们所有人都是用户</c>

29
00:01:59,553 --> 00:02:02,422
<c.magenta>我们都知道</c>

30
00:01:59,553 --> 00:02:02,422
<c.magenta>我们都知道</c>

31
00:02:02,623 --> 00:02:03,624
<c.magenta>因为它们使用代码签名</c>

32
00:02:05,025 --> 00:02:07,694
<c.magenta>我们从商店下载的每个应用</c>

33
00:02:08,061 --> 00:02:10,597
<c.magenta>我们都知道它们经过Apple的审批</c>

34
00:02:11,131 --> 00:02:13,634
<c.magenta>应用被允许</c>

35
00:02:14,835 --> 00:02:18,305
<c.magenta>我们允许它们</c>

36
00:02:18,372 --> 00:02:19,540
<c.magenta>因为它们使用代码签名</c>

37
00:02:20,941 --> 00:02:22,176
<c.magenta>签名是如何工作的？</c>

38
00:02:22,776 --> 00:02:24,478
<c.magenta>每个应用都有一个代码签名</c>

39
00:02:24,945 --> 00:02:27,648
<c.magenta>当应用运行时</c>

40
00:02:27,714 --> 00:02:30,317
<c.magenta>它首先检查签名是否有效</c>

41
00:02:30,851 --> 00:02:33,921
<c.magenta>在原始开发者分发之后</c>

42
00:02:35,122 --> 00:02:39,593
<c.magenta>如果有效 将允许应用使用</c>

43
00:02:41,094 --> 00:02:44,665
<c.magenta>签名还告诉我们</c>

44
00:02:44,731 --> 00:02:45,866
<c.magenta>是否用于开发</c>

45
00:02:46,066 --> 00:02:48,368
<c.magenta>是否用于多个设备</c>

46
00:02:48,435 --> 00:02:49,937
<c.magenta>是否用于App Store</c>

47
00:02:50,504 --> 00:02:52,773
<c.magenta>代码签名指示</c>

48
00:02:54,174 --> 00:02:59,179
<c.magenta>在生成签名时</c>

49
00:02:59,580 --> 00:03:01,982
<c.magenta>包括签名证书</c>

50
00:02:59,580 --> 00:03:01,982
<c.magenta>包括签名证书</c>

51
00:03:03,016 --> 00:03:05,986
<c.magenta>配置文件和授权</c>

52
00:03:07,154 --> 00:03:09,423
<c.magenta>我不会详细介绍</c>

53
00:03:09,656 --> 00:03:10,958
<c.magenta>它们是如何工作的</c>

54
00:03:11,225 --> 00:03:14,695
<c.magenta>我希望你们观看去年的演讲</c>

55
00:03:14,895 --> 00:03:16,563
<c.magenta>Xcode应用签名有哪些新特性</c>

56
00:03:16,797 --> 00:03:19,700
<c.magenta>我们将会详细论述</c>

57
00:03:19,766 --> 00:03:21,502
<c.magenta>如何配合Xcode 8工作</c>

58
00:03:23,837 --> 00:03:27,741
<c.magenta>我要说的是</c>

59
00:03:28,242 --> 00:03:31,311
<c.magenta>是一项枯燥而且复杂的工作</c>

60
00:03:31,879 --> 00:03:33,847
<c.magenta>因此在Xcode 8中</c>

61
00:03:33,947 --> 00:03:36,717
<c.magenta>我们引入一个解决方案</c>

62
00:03:37,918 --> 00:03:38,819
<c.magenta>自动签名</c>

63
00:03:40,254 --> 00:03:42,322
<c.magenta>当你启用自动托管签名时</c>

64
00:03:42,389 --> 00:03:45,125
<c.magenta>Xcode将自动创建应用ID</c>

65
00:03:45,192 --> 00:03:48,562
<c.magenta>将会创建证书</c>

66
00:03:48,795 --> 00:03:49,930
<c.magenta>更新授权</c>

67
00:03:49,997 --> 00:03:52,399
<c.magenta>帮你完成所有繁琐的事情</c>

68
00:03:52,733 --> 00:03:54,468
<c.magenta>让你专注于你的开发工作</c>

69
00:03:55,836 --> 00:03:58,272
<c.magenta>启用自动签名是很好的做法</c>

70
00:03:59,540 --> 00:04:02,976
<c.magenta>我高兴地宣布</c>

71
00:03:59,540 --> 00:04:02,976
<c.magenta>我高兴地宣布</c>

72
00:04:03,477 --> 00:04:07,281
<c.magenta>所有这些功能</c>

73
00:04:08,682 --> 00:04:11,485
<c.magenta>我们知道在一些情况下</c>

74
00:04:11,552 --> 00:04:14,755
<c.magenta>你需要直接操作签名配置</c>

75
00:04:15,055 --> 00:04:18,692
<c.magenta>为此我们在Xcode Server中</c>

76
00:04:21,228 --> 00:04:24,164
<c.magenta>我希望你们知道</c>

77
00:04:24,231 --> 00:04:27,401
<c.magenta>Xcode Server是连续性集成服务</c>

78
00:04:29,002 --> 00:04:31,138
<c.magenta>现在它已经集成到Xcode之中</c>

79
00:04:31,205 --> 00:04:33,373
<c.magenta>不再需要安装Server程序</c>

80
00:04:33,440 --> 00:04:36,243
<c.magenta>如果你以前用过Xcode</c>

81
00:04:36,410 --> 00:04:39,313
<c.magenta>使用连续集成将会让工作变得更简单</c>

82
00:04:41,448 --> 00:04:45,352
<c.magenta>Xcode Server让你能够</c>

83
00:04:45,419 --> 00:04:47,888
<c.magenta>非常轻松地设置测试</c>

84
00:04:49,456 --> 00:04:52,459
<c.magenta>现在 在设备上测试</c>

85
00:04:53,794 --> 00:04:55,362
<c.magenta>我想解释</c>

86
00:04:55,729 --> 00:04:58,565
<c.magenta>代码签名如何融入</c>

87
00:05:00,133 --> 00:05:05,506
<c.magenta>当你在Xcode中开发应用</c>

88
00:05:05,806 --> 00:05:09,243
<c.magenta>并将项目更新上传到远程存储库</c>

89
00:05:10,244 --> 00:05:13,780
<c.magenta>然后 你设置Xcode Server</c>

90
00:05:14,648 --> 00:05:16,917
<c.magenta>构建你的应用</c>

91
00:05:17,985 --> 00:05:20,587
<c.magenta>在设备上运行时</c>

92
00:05:22,022 --> 00:05:25,592
<c.magenta>Xcode构建代码签名</c>

93
00:05:25,659 --> 00:05:28,395
<c.magenta>配置文件</c>

94
00:05:28,462 --> 00:05:31,465
<c.magenta>我们如何在Xcode Server上</c>

95
00:05:32,566 --> 00:05:33,400
<c.magenta>呃…</c>

96
00:05:34,268 --> 00:05:37,704
<c.magenta>好消息是若你想使用自动签名</c>

97
00:05:37,971 --> 00:05:39,306
<c.magenta>将会如愿以偿</c>

98
00:05:39,406 --> 00:05:43,076
<c.magenta>Xcode Server</c>

99
00:05:43,143 --> 00:05:44,845
<c.magenta>更新配置文件</c>

100
00:05:44,912 --> 00:05:48,615
<c.magenta>注册设备</c>

101
00:05:48,682 --> 00:05:50,017
<c.magenta>这非常不错</c>

102
00:05:51,451 --> 00:05:53,954
<c.magenta>如果手动设置目标</c>

103
00:05:55,022 --> 00:05:58,158
<c.magenta>Xcode Server提供UI</c>

104
00:05:58,258 --> 00:05:59,893
<c.magenta>发送任何证书</c>

105
00:06:00,527 --> 00:06:03,897
<c.magenta>到服务器</c>

106
00:06:03,964 --> 00:06:04,831
<c.magenta>代码签名集成</c>

107
00:06:05,432 --> 00:06:10,537
<c.magenta>因此Xcode Server现支持</c>

108
00:06:13,574 --> 00:06:16,443
<c.magenta>现在Xcode Server</c>

109
00:06:16,510 --> 00:06:20,113
<c.magenta>因为Xcode Server相当于你的团队成员</c>

110
00:06:20,180 --> 00:06:22,216
<c.magenta>如果你是团队代理或管理员</c>

111
00:06:22,549 --> 00:06:24,051
<c.magenta>可以这样设置Xcode Server</c>

112
00:06:25,485 --> 00:06:29,089
<c.magenta>现在 Xcode Server支持</c>

113
00:06:29,156 --> 00:06:30,624
<c.magenta>通过Apple ID登录</c>

114
00:06:32,326 --> 00:06:36,029
<c.magenta>Xcode Server提供所有这些有用的功能</c>

115
00:06:36,096 --> 00:06:38,665
<c.magenta>因为Xcode Server在后台</c>

116
00:06:38,732 --> 00:06:41,568
<c.magenta>调用命令行工具Xcodebuild</c>

117
00:06:42,536 --> 00:06:46,640
<c.magenta>这意味着Xcodebuild</c>

118
00:06:46,707 --> 00:06:49,376
<c.magenta>自动修复签名</c>

119
00:06:50,577 --> 00:06:53,947
<c.magenta>如果你使用第三方</c>

120
00:06:54,014 --> 00:06:56,683
<c.magenta>你应该认真听讲</c>

121
00:06:57,317 --> 00:06:59,953
<c.magenta>Xcodebuild现在能够</c>

122
00:07:00,020 --> 00:07:02,589
<c.magenta>能够下载它们</c>

123
00:07:02,656 --> 00:07:06,193
<c.magenta>UI中的所有工作</c>

124
00:07:13,500 --> 00:07:15,502
<c.magenta>可以通过传递</c>

125
00:07:15,569 --> 00:07:18,338
<c.magenta>allowProvisioningUpdates标记</c>

126
00:07:19,473 --> 00:07:21,341
<c.magenta>我们增加一些额外的自动化功能</c>

127
00:07:21,408 --> 00:07:23,477
<c.magenta>若你有一台设备</c>

128
00:07:24,244 --> 00:07:27,514
<c.magenta>你可以将它自动注册到你的团队</c>

129
00:07:27,581 --> 00:07:31,318
<c.magenta>如果你传递这个allow</c>

130
00:07:32,352 --> 00:07:33,187
<c.magenta>这很不错</c>

131
00:07:35,255 --> 00:07:38,625
<c.magenta>前面我说过</c>

132
00:07:38,692 --> 00:07:41,228
<c.magenta>现在它已经内置在Xcode 9中</c>

133
00:07:41,461 --> 00:07:44,398
<c.magenta>让我们来看</c>

134
00:07:44,464 --> 00:07:47,401
<c.magenta>以演示如何为服务器设置签名</c>

135
00:07:48,569 --> 00:07:53,073
<c.magenta>首先打开Xcode首选项</c>

136
00:07:53,140 --> 00:07:56,076
<c.magenta>转入右侧</c>

137
00:07:56,276 --> 00:07:58,011
<c.magenta>在这里可以启用Xcode Server</c>

138
00:07:59,613 --> 00:08:02,349
<c.magenta>接下来 打开账户窗格</c>

139
00:07:59,613 --> 00:08:02,349
<c.magenta>接下来 打开账户窗格</c>

140
00:08:03,016 --> 00:08:05,385
<c.magenta>可以添加一些客户账户</c>

141
00:08:05,652 --> 00:08:08,155
<c.magenta>然后就可以看到服务器处于运行状态</c>

142
00:08:10,190 --> 00:08:11,825
<c.magenta>接下来 打开项目</c>

143
00:08:11,892 --> 00:08:14,494
<c.magenta>使用“Product”菜单</c>

144
00:08:15,662 --> 00:08:17,130
<c.magenta>然后在报告导航器中</c>

145
00:08:17,197 --> 00:08:20,200
<c.magenta>可以看到机器已经运行的所有集成</c>

146
00:08:20,667 --> 00:08:22,469
<c.magenta>可以看到所有服务器和机器人</c>

147
00:08:22,669 --> 00:08:25,672
<c.magenta>在每个集成上 能够看到</c>

148
00:08:26,607 --> 00:08:28,742
<c.magenta>测试是否已经运行</c>

149
00:08:28,809 --> 00:08:31,612
<c.magenta>是否成功或失败</c>

150
00:08:34,280 --> 00:08:36,350
<c.magenta>当你设置Xcode Server时</c>

151
00:08:36,482 --> 00:08:39,385
<c.magenta>有一个新标签页 签名标签页</c>

152
00:08:40,287 --> 00:08:44,024
<c.magenta>这里很多选项</c>

153
00:08:44,091 --> 00:08:46,627
<c.magenta>以支持使用自动签名</c>

154
00:08:47,027 --> 00:08:50,931
<c.magenta>第一个复选框“允许Xcode Server</c>

155
00:08:50,998 --> 00:08:54,134
<c.magenta>这将让Xcode Server</c>

156
00:08:54,368 --> 00:08:56,236
<c.magenta>用于它所启用的</c>

157
00:08:57,037 --> 00:08:59,773
<c.magenta>可以通过将Xcode Server添加</c>

158
00:08:59,840 --> 00:09:01,508
<c.magenta>再次授权</c>

159
00:08:59,840 --> 00:09:01,508
<c.magenta>再次授权</c>

160
00:09:02,910 --> 00:09:04,378
<c.magenta>还有另外一个复选框</c>

161
00:09:04,478 --> 00:09:07,181
<c.magenta>“自动添加缺失设备到</c>

162
00:09:07,247 --> 00:09:10,784
<c.magenta>这将自动注册</c>

163
00:09:11,418 --> 00:09:12,419
<c.magenta>而不需要进行交互</c>

164
00:09:12,486 --> 00:09:15,789
<c.magenta>然后UI中的两个复选框</c>

165
00:09:16,056 --> 00:09:17,291
<c.magenta>allowProvisioningUpdates</c>

166
00:09:17,357 --> 00:09:19,193
<c.magenta>和allow</c>

167
00:09:19,259 --> 00:09:20,427
<c.magenta>用于Xcodebuild</c>

168
00:09:21,828 --> 00:09:22,663
<c.magenta>我已经说了很多</c>

169
00:09:22,863 --> 00:09:24,298
<c.magenta>为什么不演示其工作过程呢？</c>

170
00:09:24,364 --> 00:09:26,333
<c.magenta>（演示）</c>

171
00:09:29,603 --> 00:09:31,471
<c.magenta>好了…</c>

172
00:09:32,539 --> 00:09:35,676
<c.magenta>我已经打开Xcode</c>

173
00:09:37,110 --> 00:09:40,414
<c.magenta>我已经设置服务器机器人</c>

174
00:09:40,714 --> 00:09:43,417
<c.magenta>以便在模拟器上执行集成</c>

175
00:09:43,951 --> 00:09:46,119
<c.magenta>我刚购买这台新设备</c>

176
00:09:46,186 --> 00:09:48,388
<c.magenta>我在设备上运行测试</c>

177
00:09:48,889 --> 00:09:51,725
<c.magenta>为此 我需要启用Xcode Server</c>

178
00:09:51,792 --> 00:09:53,360
<c.magenta>以使用自动签名</c>

179
00:09:53,961 --> 00:09:57,531
<c.magenta>第一步是点击报告导航器</c>

180
00:09:57,598 --> 00:10:00,501
<c.magenta>在这里你可以看到</c>

181
00:09:57,598 --> 00:10:00,501
<c.magenta>在这里你可以看到</c>

182
00:10:00,701 --> 00:10:02,336
<c.magenta>运行的集成</c>

183
00:10:03,136 --> 00:10:07,140
<c.magenta>我进行控制点击</c>

184
00:10:08,075 --> 00:10:10,477
<c.magenta>第一步是点击“设备”标签页</c>

185
00:10:10,544 --> 00:10:12,913
<c.magenta>可以看到</c>

186
00:10:13,247 --> 00:10:16,049
<c.magenta>以在iPhone SE模拟器上运行测试</c>

187
00:10:16,250 --> 00:10:17,651
<c.magenta>我要进行更改</c>

188
00:10:17,718 --> 00:10:20,220
<c.magenta>以便在连接到此Mac计算机的</c>

189
00:10:21,188 --> 00:10:25,025
<c.magenta>接下来 在签名标签页</c>

190
00:10:25,692 --> 00:10:30,063
<c.magenta>我允许Xcode Server</c>

191
00:10:30,364 --> 00:10:33,267
<c.magenta>将Xcode Server添加到我的团队</c>

192
00:10:34,067 --> 00:10:35,869
<c.magenta>允许Xcode Server</c>

193
00:10:35,936 --> 00:10:38,405
<c.magenta>自动注册</c>

194
00:10:38,472 --> 00:10:39,406
<c.magenta>包括这台设备</c>

195
00:10:40,574 --> 00:10:44,044
<c.magenta>然后 我们准备在这台设备上进行测试</c>

196
00:10:44,178 --> 00:10:46,747
<c.magenta>我要手动启动一个集成</c>

197
00:10:48,015 --> 00:10:49,149
<c.magenta>Xcode Server将会</c>

198
00:10:49,216 --> 00:10:53,687
<c.magenta>从存储库下载项目</c>

199
00:10:53,754 --> 00:10:57,157
<c.magenta>生成应用 创建证书</c>

200
00:10:57,224 --> 00:11:00,561
<c.magenta>注册我的设备</c>

201
00:10:57,224 --> 00:11:00,561
<c.magenta>注册我的设备</c>

202
00:11:00,627 --> 00:11:02,496
<c.magenta>下载配置文件 进行签名</c>

203
00:11:03,197 --> 00:11:05,299
<c.magenta>让我们能够在这台设备上运行测试</c>

204
00:11:05,999 --> 00:11:07,167
<c.magenta>通常我会说</c>

205
00:11:07,668 --> 00:11:09,603
<c.magenta>“不要理会机器人</c>

206
00:11:09,670 --> 00:11:12,606
<c.magenta>一切可以自己完成</c>

207
00:11:12,906 --> 00:11:17,110
<c.magenta>用不了多长时间</c>

208
00:11:20,681 --> 00:11:23,483
<c.magenta>然后我们看到</c>

209
00:11:23,717 --> 00:11:24,785
<c.magenta>而我却没有费什么力气</c>

210
00:11:30,691 --> 00:11:34,361
<c.magenta>可以看到</c>

211
00:11:35,128 --> 00:11:37,297
<c.magenta>自动执行开发签名</c>

212
00:11:37,598 --> 00:11:39,833
<c.magenta>让你能在设备上运行测试</c>

213
00:11:42,369 --> 00:11:45,639
<c.magenta>自动签名真不错</c>

214
00:11:45,706 --> 00:11:50,143
<c.magenta>你不需要管理所有这些资产</c>

215
00:11:50,210 --> 00:11:52,846
<c.magenta>让你专心编码工作</c>

216
00:11:53,780 --> 00:11:55,549
<c.magenta>我个人喜欢设置自动签名</c>

217
00:11:55,816 --> 00:11:57,084
<c.magenta>希望你们也这样做</c>

218
00:11:58,252 --> 00:12:00,621
<c.magenta>但是 在一些情况下</c>

219
00:11:58,252 --> 00:12:00,621
<c.magenta>但是 在一些情况下</c>

220
00:12:00,687 --> 00:12:03,156
<c.magenta>你需要直接</c>

221
00:12:03,223 --> 00:12:04,558
<c.magenta>操作签名配置</c>

222
00:12:04,725 --> 00:12:08,228
<c.magenta>为此我们提供手动签名</c>

223
00:12:10,264 --> 00:12:14,234
<c.magenta>我们对证书表单中的</c>

224
00:12:14,701 --> 00:12:16,136
<c.magenta>账户首选项进行改进</c>

225
00:12:16,737 --> 00:12:18,872
<c.magenta>现在 此表将告诉你</c>

226
00:12:19,006 --> 00:12:23,677
<c.magenta>你在Mac计算机和你拥有的</c>

227
00:12:25,279 --> 00:12:27,147
<c.magenta>上面是开发者证书</c>

228
00:12:27,247 --> 00:12:31,118
<c.magenta>在下面部分 可以看到所有分发证书</c>

229
00:12:31,485 --> 00:12:33,453
<c.magenta>它们是你的团队成员创建的</c>

230
00:12:34,054 --> 00:12:35,556
<c.magenta>无论它们是否在你的计算机上</c>

231
00:12:35,856 --> 00:12:37,424
<c.magenta>我们还改进外观</c>

232
00:12:37,491 --> 00:12:38,759
<c.magenta>现在你可以看到…</c>

233
00:12:39,359 --> 00:12:42,629
<c.magenta>证书缺少私钥…</c>

234
00:12:42,829 --> 00:12:45,032
<c.magenta>甚至可以包含证书的创建者</c>

235
00:12:45,098 --> 00:12:47,734
<c.magenta>你可以在表单中</c>

236
00:12:47,801 --> 00:12:50,337
<c.magenta>证书的创建者</c>

237
00:12:56,577 --> 00:12:58,879
<c.magenta>在项目编辑器中</c>

238
00:12:58,946 --> 00:13:00,814
<c.magenta>可以自己选择配置文件</c>

239
00:12:58,946 --> 00:13:00,814
<c.magenta>可以自己选择配置文件</c>

240
00:13:00,914 --> 00:13:03,750
<c.magenta>我们增加一个新菜单项目</c>

241
00:13:03,817 --> 00:13:05,686
<c.magenta>这会显示一个表单</c>

242
00:13:06,253 --> 00:13:07,788
<c.magenta>可以看到 在左侧</c>

243
00:13:07,855 --> 00:13:12,025
<c.magenta>是我在门户上</c>

244
00:13:12,426 --> 00:13:15,395
<c.magenta>这些配置文件可用于我的目标</c>

245
00:13:15,929 --> 00:13:19,533
<c.magenta>我选择一个配置文件</c>

246
00:13:19,600 --> 00:13:21,568
<c.magenta>查看它如何与你的目标进行比较</c>

247
00:13:22,135 --> 00:13:23,770
<c.magenta>功能是否匹配</c>

248
00:13:23,971 --> 00:13:25,305
<c.magenta>以及设备是否已经连接</c>

249
00:13:25,372 --> 00:13:27,307
<c.magenta>可以看到</c>

250
00:13:27,541 --> 00:13:30,310
<c.magenta>这是重要的改进</c>

251
00:13:30,577 --> 00:13:32,446
<c.magenta>然后选中并使用它进行签名</c>

252
00:13:32,880 --> 00:13:35,749
<c.magenta>如果已经选择一个配置文件</c>

253
00:13:36,783 --> 00:13:38,919
<c.magenta>但是没有本地安装在计算机上</c>

254
00:13:38,986 --> 00:13:41,822
<c.magenta>Xcode将会为你下载配置文件</c>

255
00:13:42,623 --> 00:13:43,790
<c.magenta>如果你知道它是正确的</c>

256
00:13:44,291 --> 00:13:45,792
<c.magenta>我们知道你仍处于手动操作状态</c>

257
00:13:45,859 --> 00:13:48,529
<c.magenta>我们并不会访问</c>

258
00:13:48,595 --> 00:13:50,097
<c.magenta>我们很清楚这种区别</c>

259
00:13:50,163 --> 00:13:52,199
<c.magenta>这真的非常方便</c>

260
00:13:53,834 --> 00:13:57,371
<c.magenta>Xcode Server支持手动操作</c>

261
00:13:58,205 --> 00:14:00,674
<c.magenta>在签名标签页下方</c>

262
00:13:58,205 --> 00:14:00,674
<c.magenta>在签名标签页下方</c>

263
00:14:00,741 --> 00:14:02,376
<c.magenta>有一个“证书和配置文件”标签页</c>

264
00:14:02,442 --> 00:14:05,646
<c.magenta>可以看到安装在本地计算机上的</c>

265
00:14:05,712 --> 00:14:07,781
<c.magenta>证书和配置文件列表</c>

266
00:14:07,881 --> 00:14:11,018
<c.magenta>可以将它们发送到服务器</c>

267
00:14:11,251 --> 00:14:15,155
<c.magenta>当你使用手动签名时</c>

268
00:14:15,222 --> 00:14:19,393
<c.magenta>建议使用“常规”标签页</c>

269
00:14:20,160 --> 00:14:23,297
<c.magenta>如果使用自动签名</c>

270
00:14:23,430 --> 00:14:26,466
<c.magenta>或者不想使用UI</c>

271
00:14:27,401 --> 00:14:30,170
<c.magenta>则可以使用内嵌设置</c>

272
00:14:30,404 --> 00:14:33,440
<c.magenta>在Xcode 8中 我们推出</c>

273
00:14:33,807 --> 00:14:35,442
<c.magenta>用于设置团队标识符</c>

274
00:14:36,610 --> 00:14:40,547
<c.magenta>Provisioning_Profile_Specifier</c>

275
00:14:41,381 --> 00:14:44,885
<c.magenta>并使用Code_Sign_Identity</c>

276
00:14:46,353 --> 00:14:52,326
<c.magenta>在Xcode 9中 我们引入</c>

277
00:14:53,293 --> 00:14:58,966
<c.magenta>可以使用Code_Sign_Style</c>

278
00:14:59,399 --> 00:15:01,735
<c.magenta>将样式设置为自动或手动</c>

279
00:14:59,399 --> 00:15:01,735
<c.magenta>将样式设置为自动或手动</c>

280
00:15:02,903 --> 00:15:06,073
<c.magenta>我们认为很有意义</c>

281
00:15:06,139 --> 00:15:09,710
<c.magenta>大多数情况下 你应该能够</c>

282
00:15:09,776 --> 00:15:11,445
<c.magenta>请将它设置为自动</c>

283
00:15:13,213 --> 00:15:17,017
<c.magenta>刚才所讲的内部全部是关于开发签名的</c>

284
00:15:17,451 --> 00:15:18,986
<c.magenta>我们对分发和分发签名</c>

285
00:15:19,052 --> 00:15:21,288
<c.magenta>也进行大量的改进</c>

286
00:15:21,688 --> 00:15:22,556
<c.magenta>关于这一部分</c>

287
00:15:22,656 --> 00:15:26,260
<c.magenta>请欢迎我的朋友毅太罗姆</c>

288
00:15:34,067 --> 00:15:36,136
<c.magenta>谢谢 克里斯 大家下午好</c>

289
00:15:36,870 --> 00:15:39,206
<c.magenta>克里斯为我们介绍了</c>

290
00:15:39,473 --> 00:15:41,074
<c.magenta>开发签名方面的改进</c>

291
00:15:41,375 --> 00:15:44,678
<c.magenta>接下来我想谈谈分发</c>

292
00:15:45,779 --> 00:15:47,648
<c.magenta>当你准备与其它人分享你的应用时</c>

293
00:15:47,848 --> 00:15:50,317
<c.magenta>首先要是做的是生成一个存档</c>

294
00:15:51,485 --> 00:15:54,521
<c.magenta>存档是应用的特殊版本</c>

295
00:15:55,055 --> 00:15:56,890
<c.magenta>我们建议对它进行开发签名</c>

296
00:15:57,057 --> 00:15:58,725
<c.magenta>事实上 这是默认设置</c>

297
00:15:59,293 --> 00:16:01,261
<c.magenta>我们建议这样做的原因是</c>

298
00:15:59,293 --> 00:16:01,261
<c.magenta>我们建议这样做的原因是</c>

299
00:16:01,395 --> 00:16:04,631
<c.magenta>进行签名之后团队中的任何开发者</c>

300
00:16:04,698 --> 00:16:07,000
<c.magenta>并与其它人分享</c>

301
00:16:07,067 --> 00:16:09,703
<c.magenta>任何专用分发签名证书</c>

302
00:16:11,839 --> 00:16:14,942
<c.magenta>存档包含应用的机器代码和Bitcode</c>

303
00:16:15,008 --> 00:16:18,912
<c.magenta>以及调试符号</c>

304
00:16:19,279 --> 00:16:20,547
<c.magenta>生成存档之后</c>

305
00:16:20,914 --> 00:16:24,184
<c.magenta>可以使用Xcode的组织器窗口</c>

306
00:16:24,251 --> 00:16:25,752
<c.magenta>然后上传到App Store</c>

307
00:16:27,020 --> 00:16:28,589
<c.magenta>当你生成IPA时</c>

308
00:16:28,755 --> 00:16:33,160
<c.magenta>Xcode将根据App Store要求</c>

309
00:16:33,427 --> 00:16:36,597
<c.magenta>你可以对存档进行开发签名</c>

310
00:16:36,663 --> 00:16:39,666
<c.magenta>因为当你分发你的应用时</c>

311
00:16:40,534 --> 00:16:43,537
<c.magenta>其实可以通过多种方式分发你的存档</c>

312
00:16:44,071 --> 00:16:46,273
<c.magenta>可以进行专门分发签名</c>

313
00:16:46,607 --> 00:16:48,942
<c.magenta>如果你想与团队成员中的其它人员</c>

314
00:16:49,009 --> 00:16:50,277
<c.magenta>或QA工程师分享应用</c>

315
00:16:50,744 --> 00:16:53,280
<c.magenta>或者如果你是企业开发者计划成员</c>

316
00:16:53,547 --> 00:16:54,815
<c.magenta>可以进行企业签名</c>

317
00:16:55,415 --> 00:16:57,818
<c.magenta>与其它公司员工分享应用</c>

318
00:16:59,486 --> 00:17:01,588
<c.magenta>现在 除了这种分发方法</c>

319
00:16:59,486 --> 00:17:01,588
<c.magenta>现在 除了这种分发方法</c>

320
00:17:01,855 --> 00:17:03,390
<c.magenta>当你分发应用时</c>

321
00:17:03,457 --> 00:17:04,558
<c.magenta>还有许多其它选择</c>

322
00:17:05,492 --> 00:17:06,859
<c.magenta>你需要选择签名方式</c>

323
00:17:06,926 --> 00:17:09,363
<c.magenta>使用哪些配置文件</c>

324
00:17:09,863 --> 00:17:13,901
<c.magenta>如果使用Bitcode、应用瘦身</c>

325
00:17:14,101 --> 00:17:16,737
<c.magenta>那么你需要决定</c>

326
00:17:16,803 --> 00:17:18,338
<c.magenta>如果你上传到App Store</c>

327
00:17:18,405 --> 00:17:19,239
<c.magenta>那么你需要决定</c>

328
00:17:19,306 --> 00:17:20,907
<c.magenta>是否包含符号</c>

329
00:17:21,942 --> 00:17:23,577
<c.magenta>这可能变得十分复杂</c>

330
00:17:24,744 --> 00:17:26,512
<c.magenta>我很高兴地宣布 在Xcode 9中</c>

331
00:17:26,579 --> 00:17:29,316
<c.magenta>我们对分发流程进行重大改进</c>

332
00:17:29,449 --> 00:17:32,486
<c.magenta>让应用分享变得比以前更加容易</c>

333
00:17:33,053 --> 00:17:36,056
<c.magenta>同时让你更好地控制流程</c>

334
00:17:36,690 --> 00:17:39,726
<c.magenta>首先 我们添加自动签名</c>

335
00:17:42,095 --> 00:17:44,164
<c.magenta>与开发过程中一样</c>

336
00:17:44,231 --> 00:17:47,367
<c.magenta>Xcode将会为你处理分发签名细节</c>

337
00:17:47,634 --> 00:17:49,336
<c.magenta>让你专注于其它任务</c>

338
00:17:50,103 --> 00:17:51,738
<c.magenta>除了自动签名之外</c>

339
00:17:52,573 --> 00:17:54,007
<c.magenta>如果你们需要完全的控制</c>

340
00:17:54,074 --> 00:17:57,010
<c.magenta>我们还将手动签名</c>

341
00:17:57,911 --> 00:18:00,180
<c.magenta>现在 你可以创建自己的分发配置文件</c>

342
00:17:57,911 --> 00:18:00,180
<c.magenta>现在 你可以创建自己的分发配置文件</c>

343
00:18:00,247 --> 00:18:01,882
<c.magenta>并告诉Xcode应使用哪些配置文件</c>

344
00:18:02,082 --> 00:18:05,385
<c.magenta>但是Xcode将不会创建</c>

345
00:18:08,388 --> 00:18:10,257
<c.magenta>除了自动和手动签名之外</c>

346
00:18:10,324 --> 00:18:11,925
<c.magenta>我们还进行许多改进</c>

347
00:18:12,125 --> 00:18:14,161
<c.magenta>我们简化分发流程</c>

348
00:18:14,328 --> 00:18:16,296
<c.magenta>例如 Xcode不会询问</c>

349
00:18:16,363 --> 00:18:18,298
<c.magenta>你想使用哪个开发团队</c>

350
00:18:18,565 --> 00:18:19,900
<c.magenta>因为它已经知道答案</c>

351
00:18:26,440 --> 00:18:28,876
<c.magenta>我们还改进错误显示</c>

352
00:18:29,076 --> 00:18:30,978
<c.magenta>当你遇到错误时</c>

353
00:18:31,044 --> 00:18:33,714
<c.magenta>更容易发现错误</c>

354
00:18:35,549 --> 00:18:39,419
<c.magenta>我们还增强导出功能</c>

355
00:18:39,486 --> 00:18:41,989
<c.magenta>当你上传应用到App Store后</c>

356
00:18:42,189 --> 00:18:43,857
<c.magenta>可以保存IPA副本</c>

357
00:18:43,924 --> 00:18:45,826
<c.magenta>便于以后使用它</c>

358
00:18:46,860 --> 00:18:50,631
<c.magenta>最后 我们增强Xcodebuild中</c>

359
00:18:50,797 --> 00:18:53,166
<c.magenta>让你可以利用</c>

360
00:18:53,333 --> 00:18:54,468
<c.magenta>所有这些自动化新功能的好处</c>

361
00:18:56,136 --> 00:18:58,405
<c.magenta>让我们更详细探讨自动签名</c>

362
00:18:59,206 --> 00:19:01,275
<c.magenta>其工作原理类似于开发签名</c>

363
00:18:59,206 --> 00:19:01,275
<c.magenta>其工作原理类似于开发签名</c>

364
00:19:01,475 --> 00:19:05,045
<c.magenta>Xcode将创建</c>

365
00:19:05,312 --> 00:19:08,215
<c.magenta>有多个配置文件</c>

366
00:19:09,449 --> 00:19:10,484
<c.magenta>Xcode只会将这些配置文件</c>

367
00:19:10,551 --> 00:19:13,187
<c.magenta>用于自动分发签名</c>

368
00:19:13,520 --> 00:19:16,557
<c.magenta>它不会访问或使用</c>

369
00:19:17,858 --> 00:19:20,027
<c.magenta>另外 Xcode让创建和分享</c>

370
00:19:20,093 --> 00:19:21,428
<c.magenta>分发证书变得更加简单</c>

371
00:19:21,728 --> 00:19:23,630
<c.magenta>这些证书不同于开发证书</c>

372
00:19:23,697 --> 00:19:25,899
<c.magenta>因为签名资产归它们的团队所有</c>

373
00:19:26,099 --> 00:19:29,503
<c.magenta>很重要的一点是 你应该知道</c>

374
00:19:29,870 --> 00:19:32,372
<c.magenta>让你能够在以后重新安装</c>

375
00:19:32,940 --> 00:19:34,908
<c.magenta>最后但非不重要的是</c>

376
00:19:35,242 --> 00:19:39,046
<c.magenta>对于在Xcode9中</c>

377
00:19:39,112 --> 00:19:42,015
<c.magenta>Xcode将不会调用分发证书</c>

378
00:19:45,719 --> 00:19:47,621
<c.magenta>对此我们感到满意</c>

379
00:19:47,888 --> 00:19:50,757
<c.magenta>你们不必担心团队中的任何企业成员</c>

380
00:19:50,824 --> 00:19:53,627
<c.magenta>通过Xcode破坏你的精心设置</c>

381
00:19:55,762 --> 00:19:57,898
<c.magenta>这是一个错误显示改进例子</c>

382
00:19:57,965 --> 00:20:01,168
<c.magenta>这是一种常见而且可能产生困惑的情况</c>

383
00:19:57,965 --> 00:20:01,168
<c.magenta>这是一种常见而且可能产生困惑的情况</c>

384
00:20:01,435 --> 00:20:04,371
<c.magenta>一些团队成员已经创建分发证书</c>

385
00:20:04,671 --> 00:20:06,206
<c.magenta>但是你不必拥有证书</c>

386
00:20:06,573 --> 00:20:09,109
<c.magenta>更常见的情况是</c>

387
00:20:09,776 --> 00:20:12,946
<c.magenta>现在 Xcode 9告诉你</c>

388
00:20:13,213 --> 00:20:14,982
<c.magenta>让你能够联系他们</c>

389
00:20:15,282 --> 00:20:17,885
<c.magenta>让你获得需要的信息</c>

390
00:20:18,785 --> 00:20:20,654
<c.magenta>这只是一个例子</c>

391
00:20:20,787 --> 00:20:23,357
<c.magenta>在整个分发流程中</c>

392
00:20:25,659 --> 00:20:27,227
<c.magenta>前面我说过</c>

393
00:20:27,794 --> 00:20:29,162
<c.magenta>我们增强导出功能</c>

394
00:20:29,463 --> 00:20:31,765
<c.magenta>现在上传应用到App Store后</c>

395
00:20:31,832 --> 00:20:34,067
<c.magenta>很容易保存IPA副本</c>

396
00:20:34,168 --> 00:20:35,235
<c.magenta>还有很多其它改进</c>

397
00:20:35,736 --> 00:20:37,638
<c.magenta>我们为你提供</c>

398
00:20:37,704 --> 00:20:41,108
<c.magenta>与收条一样</c>

399
00:20:41,275 --> 00:20:44,311
<c.magenta>Xcode如何重新签名</c>

400
00:20:45,712 --> 00:20:48,215
<c.magenta>另外还有Packaging.log</c>

401
00:20:48,415 --> 00:20:51,985
<c.magenta>逐步显示</c>

402
00:20:52,119 --> 00:20:55,088
<c.magenta>Xcode发出的所有命令</c>

403
00:20:56,290 --> 00:20:59,159
<c.magenta>你会获得一个ExportOptions.plist</c>

404
00:20:59,960 --> 00:21:02,696
<c.magenta>它值得说道一番</c>

405
00:20:59,960 --> 00:21:02,696
<c.magenta>它值得说道一番</c>

406
00:21:03,430 --> 00:21:05,566
<c.magenta>ExportOptions.plist类似于收条</c>

407
00:21:05,866 --> 00:21:09,770
<c.magenta>它描述你希望</c>

408
00:21:11,205 --> 00:21:13,707
<c.magenta>如果你想要自动执行IPA生成流程</c>

409
00:21:13,774 --> 00:21:15,576
<c.magenta>你需要调用Xcodebuild</c>

410
00:21:15,642 --> 00:21:18,145
<c.magenta>为它提供一个ExportOptions.plist</c>

411
00:21:18,512 --> 00:21:20,848
<c.magenta>在Xcode 9中</c>

412
00:21:21,081 --> 00:21:23,817
<c.magenta>因为分发流程将会自动为你生成</c>

413
00:21:24,084 --> 00:21:26,520
<c.magenta>你再也不必手动编辑这些plist</c>

414
00:21:27,721 --> 00:21:28,889
<c.magenta>这里有一个例子</c>

415
00:21:29,857 --> 00:21:31,825
<c.magenta>这是一个十分简单的</c>

416
00:21:31,892 --> 00:21:34,962
<c.magenta>可以看到</c>

417
00:21:35,128 --> 00:21:36,864
<c.magenta>我要导出以发送给App Store</c>

418
00:21:37,698 --> 00:21:39,466
<c.magenta>它是上传符号中的最后密钥</c>

419
00:21:39,533 --> 00:21:42,369
<c.magenta>我不想包含它</c>

420
00:21:42,836 --> 00:21:46,039
<c.magenta>在这些文件中</c>

421
00:21:46,340 --> 00:21:49,309
<c.magenta>可以在终端调用Xcodebuild-help</c>

422
00:21:49,543 --> 00:21:52,279
<c.magenta>以查看在ExportOptions.plist中</c>

423
00:21:52,479 --> 00:21:54,615
<c.magenta>大多数选项都有合理的默认设置</c>

424
00:21:56,049 --> 00:21:56,984
<c.magenta>如果要使用此功能</c>

425
00:21:57,050 --> 00:21:59,987
<c.magenta>你只需要</c>

426
00:22:00,320 --> 00:22:03,390
<c.magenta>传递路径给你的存档</c>

427
00:22:03,957 --> 00:22:06,426
<c.magenta>Xcodebuild将会为你生成一个IPA</c>

428
00:22:07,828 --> 00:22:08,829
<c.magenta>还有另外一件事情</c>

429
00:22:08,896 --> 00:22:10,631
<c.magenta>前面克里斯讲过</c>

430
00:22:11,064 --> 00:22:14,568
<c.magenta>我们为Xcodebuild添加一个标记</c>

431
00:22:14,768 --> 00:22:16,336
<c.magenta>在这里 你可以使用它</c>

432
00:22:16,470 --> 00:22:18,805
<c.magenta>这样 Xcodebuild</c>

433
00:22:19,006 --> 00:22:21,108
<c.magenta>分发配置文件</c>

434
00:22:21,375 --> 00:22:24,011
<c.magenta>提供生成IPA所需要的全部内容</c>

435
00:22:25,646 --> 00:22:28,248
<c.magenta>让我们来演示新分发流程</c>

436
00:22:28,315 --> 00:22:29,917
<c.magenta>（演示）</c>

437
00:22:35,589 --> 00:22:37,524
<c.magenta>这是我们开发的</c>

438
00:22:37,591 --> 00:22:39,159
<c.magenta>Chocolate Chip程序</c>

439
00:22:39,826 --> 00:22:42,563
<c.magenta>你可以看到</c>

440
00:22:42,629 --> 00:22:44,631
<c.magenta>我们准备将它们上传到App Store</c>

441
00:22:45,399 --> 00:22:47,467
<c.magenta>让我开始操作</c>

442
00:22:48,335 --> 00:22:49,536
<c.magenta>创建一个存档</c>

443
00:22:50,737 --> 00:22:52,840
<c.magenta>Xcode准备生成发布版本</c>

444
00:22:53,140 --> 00:22:55,742
<c.magenta>进行捆绑</c>

445
00:22:55,809 --> 00:22:58,111
<c.magenta>为我显示一个存档</c>

446
00:22:59,179 --> 00:23:01,682
<c.magenta>然后我可以方便地上传到App Store</c>

447
00:22:59,179 --> 00:23:01,682
<c.magenta>然后我可以方便地上传到App Store</c>

448
00:23:01,748 --> 00:23:05,519
<c.magenta>只需要点击这个小蓝色按钮即可</c>

449
00:23:06,587 --> 00:23:07,421
<c.magenta>当我点击之后</c>

450
00:23:07,487 --> 00:23:09,189
<c.magenta>分发流程开始执行</c>

451
00:23:09,957 --> 00:23:13,727
<c.magenta>Xcode开始分析存档中的内容</c>

452
00:23:13,994 --> 00:23:15,829
<c.magenta>包括我的应用的签名方式</c>

453
00:23:15,896 --> 00:23:18,565
<c.magenta>让Xcode知道我使用哪个开发团队</c>

454
00:23:18,832 --> 00:23:21,335
<c.magenta>它读取存档应用的签名</c>

455
00:23:22,369 --> 00:23:25,506
<c.magenta>并确定在下一屏幕显示哪些选项</c>

456
00:23:26,073 --> 00:23:29,476
<c.magenta>根据你的存档中的内容</c>

457
00:23:29,643 --> 00:23:31,778
<c.magenta>显示的选项有所不同</c>

458
00:23:32,045 --> 00:23:34,181
<c.magenta>如果我选择专门分发</c>

459
00:23:34,581 --> 00:23:36,517
<c.magenta>这里我看到一些不同的选项</c>

460
00:23:37,484 --> 00:23:41,021
<c.magenta>在本例中 有一个Bitcode选项</c>

461
00:23:41,722 --> 00:23:45,926
<c.magenta>另外还有一个</c>

462
00:23:46,860 --> 00:23:49,663
<c.magenta>它允许App Store</c>

463
00:23:49,830 --> 00:23:51,465
<c.magenta>从应用中的Swift标准库中</c>

464
00:23:51,565 --> 00:23:53,634
<c.magenta>提取Swift符号</c>

465
00:23:54,168 --> 00:23:55,402
<c.magenta>这将会极大地减少</c>

466
00:23:55,469 --> 00:23:57,638
<c.magenta>用户使用应用时的数据下载量</c>

467
00:23:57,938 --> 00:23:59,006
<c.magenta>因此我要启用这个选项</c>

468
00:24:00,007 --> 00:24:02,009
<c.magenta>另外还有一个上传符号</c>

469
00:24:02,409 --> 00:24:05,412
<c.magenta>允许我从Apple接受</c>

470
00:24:05,479 --> 00:24:07,748
<c.magenta>我也会启用它</c>

471
00:24:09,082 --> 00:24:11,618
<c.magenta>下一步 我选择如何重新签名我的应用</c>

472
00:24:12,119 --> 00:24:14,821
<c.magenta>后面我将会详细讨论手动签名</c>

473
00:24:15,088 --> 00:24:16,523
<c.magenta>现在 我们仍然使用自动签名</c>

474
00:24:17,658 --> 00:24:20,160
<c.magenta>Xcode开始与开发者网站对话</c>

475
00:24:20,294 --> 00:24:23,096
<c.magenta>确定如何重新签名我的应用</c>

476
00:24:23,564 --> 00:24:26,633
<c.magenta>首先 Xcode查找分发签名证书</c>

477
00:24:27,100 --> 00:24:29,670
<c.magenta>在本例中 我的团队实际上</c>

478
00:24:30,237 --> 00:24:33,807
<c.magenta>因此Xcode告知我这一情况</c>

479
00:24:34,441 --> 00:24:36,476
<c.magenta>Xcode不会在后台</c>

480
00:24:36,543 --> 00:24:39,279
<c.magenta>我完全知道</c>

481
00:24:39,880 --> 00:24:42,349
<c.magenta>我需要做的事情是</c>

482
00:24:42,783 --> 00:24:44,017
<c.magenta>然后Xcode将生成证书</c>

483
00:24:44,785 --> 00:24:48,555
<c.magenta>然后 Xcode将询问我</c>

484
00:24:48,822 --> 00:24:50,591
<c.magenta>前面我说过</c>

485
00:24:50,691 --> 00:24:52,960
<c.magenta>因为这些是团队共有资产</c>

486
00:24:53,093 --> 00:24:56,330
<c.magenta>团队中的其他人可能</c>

487
00:24:56,563 --> 00:24:58,899
<c.magenta>以后我也可能要重新安装证书</c>

488
00:24:59,132 --> 00:25:01,902
<c.magenta>因此我们强烈建议导出证书副本</c>

489
00:24:59,132 --> 00:25:01,902
<c.magenta>因此我们强烈建议导出证书副本</c>

490
00:25:02,503 --> 00:25:05,005
<c.magenta>由于这是一个演示</c>

491
00:25:06,507 --> 00:25:08,742
<c.magenta>Xcode将会继续</c>

492
00:25:08,942 --> 00:25:11,445
<c.magenta>生成我的分发配置文件</c>

493
00:25:11,912 --> 00:25:14,882
<c.magenta>我允许代码签名</c>

494
00:25:14,948 --> 00:25:17,150
<c.magenta>这是一个实时过程</c>

495
00:25:18,785 --> 00:25:19,786
<c.magenta>Xcode完成这些工作之后</c>

496
00:25:19,853 --> 00:25:22,623
<c.magenta>显示所创建的IPA的详细信息</c>

497
00:25:23,090 --> 00:25:26,393
<c.magenta>我可以看到我的IPA中的所有内容</c>

498
00:25:26,760 --> 00:25:29,429
<c.magenta>应用扩展</c>

499
00:25:29,496 --> 00:25:30,898
<c.magenta>可以查看签名方式</c>

500
00:25:31,164 --> 00:25:33,233
<c.magenta>再次确认授权是否正确</c>

501
00:25:33,834 --> 00:25:37,037
<c.magenta>确保在上传到App Store之前</c>

502
00:25:37,104 --> 00:25:39,306
<c.magenta>我的应用没有错误</c>

503
00:25:40,374 --> 00:25:42,776
<c.magenta>在确定没有错误之后</c>

504
00:25:43,010 --> 00:25:44,912
<c.magenta>Xcode将我的应用上传到商店</c>

505
00:25:45,579 --> 00:25:47,915
<c.magenta>在过去 这些工作完成后</c>

506
00:25:48,615 --> 00:25:50,617
<c.magenta>Xcode中的流程就结束了</c>

507
00:25:51,385 --> 00:25:54,488
<c.magenta>但是现在还有另外一件事情</c>

508
00:25:55,756 --> 00:25:56,957
<c.magenta>当我选择“导出”</c>

509
00:25:58,325 --> 00:25:59,760
<c.magenta>并保存到桌面时</c>

510
00:26:01,595 --> 00:26:06,633
<c.magenta>Xcode将生成一个新目录</c>

511
00:26:06,934 --> 00:26:08,435
<c.magenta>以及所有其它文件</c>

512
00:26:08,502 --> 00:26:11,171
<c.magenta>包括前面提到的ExportOptions.plist</c>

513
00:26:13,640 --> 00:26:17,711
<c.magenta>这就是Xcode 9中</c>

514
00:26:18,745 --> 00:26:20,681
<c.magenta>现在让我们来看手动签名</c>

515
00:26:23,684 --> 00:26:26,587
<c.magenta>手动签名的流程也类似于开发阶段</c>

516
00:26:27,254 --> 00:26:30,390
<c.magenta>你或团队中的人员</c>

517
00:26:30,691 --> 00:26:34,027
<c.magenta>然后在Xcode分发流程中</c>

518
00:26:35,162 --> 00:26:38,932
<c.magenta>Xcode不会创建或修改</c>

519
00:26:38,999 --> 00:26:40,200
<c.magenta>一切都在你的控制之中</c>

520
00:26:42,135 --> 00:26:43,971
<c.magenta>这与Xcodebuild完全兼容</c>

521
00:26:44,171 --> 00:26:47,074
<c.magenta>如果你使用手动签名</c>

522
00:26:47,140 --> 00:26:48,575
<c.magenta>你可以自动创建IPA</c>

523
00:26:48,742 --> 00:26:52,279
<c.magenta>但是请注意 如果你在生成存档时</c>

524
00:26:52,479 --> 00:26:54,882
<c.magenta>在分发时也必须手动签名</c>

525
00:26:56,083 --> 00:26:57,451
<c.magenta>如何使用手动签名？</c>

526
00:26:58,886 --> 00:27:01,455
<c.magenta>这是刚才的屏幕内容</c>

527
00:26:58,886 --> 00:27:01,455
<c.magenta>这是刚才的屏幕内容</c>

528
00:27:01,755 --> 00:27:03,624
<c.magenta>如果选择手动签名 点击“下一步”</c>

529
00:27:04,658 --> 00:27:06,360
<c.magenta>然后会进入这个界面</c>

530
00:27:06,693 --> 00:27:09,663
<c.magenta>这非常类似于</c>

531
00:27:09,730 --> 00:27:11,899
<c.magenta>“常规”选项页中的签名UI</c>

532
00:27:12,432 --> 00:27:14,768
<c.magenta>可以选择想要使用的分发证书</c>

533
00:27:15,102 --> 00:27:18,005
<c.magenta>和应用中每个项目的配置文件</c>

534
00:27:19,306 --> 00:27:21,041
<c.magenta>打开这些弹出菜单时</c>

535
00:27:21,542 --> 00:27:23,977
<c.magenta>可以看到配置文件</c>

536
00:27:24,044 --> 00:27:27,481
<c.magenta>在分发流程中</c>

537
00:27:27,748 --> 00:27:29,650
<c.magenta>导入或下载配置文件</c>

538
00:27:30,651 --> 00:27:32,586
<c.magenta>如果选择不合格配置文件</c>

539
00:27:32,753 --> 00:27:35,055
<c.magenta>将会看到与该选择相关的问题</c>

540
00:27:35,255 --> 00:27:36,690
<c.magenta>位于你的选择的正下方</c>

541
00:27:37,624 --> 00:27:40,260
<c.magenta>选择有效的配置文件之后</c>

542
00:27:40,327 --> 00:27:42,496
<c.magenta>可以点击“下一步”</c>

543
00:27:44,598 --> 00:27:47,968
<c.magenta>前面我说过 此流程</c>

544
00:27:48,035 --> 00:27:50,671
<c.magenta>你需要做的是</c>

545
00:27:50,737 --> 00:27:52,306
<c.magenta>指定一些附加密钥</c>

546
00:27:52,739 --> 00:27:55,776
<c.magenta>这里可以看到</c>

547
00:27:56,543 --> 00:27:59,546
<c.magenta>我已经提供一个配置文件条目</c>

548
00:27:59,746 --> 00:28:01,315
<c.magenta>按捆绑包标识符</c>

549
00:27:59,746 --> 00:28:01,315
<c.magenta>按捆绑包标识符</c>

550
00:28:01,615 --> 00:28:04,384
<c.magenta>列出我的应用中的所有项目</c>

551
00:28:04,751 --> 00:28:07,187
<c.magenta>现在 我已经设置自动流程</c>

552
00:28:09,189 --> 00:28:11,491
<c.magenta>这就是Xcode 9中的新分发流程</c>

553
00:28:11,658 --> 00:28:13,060
<c.magenta>你们肯定会喜欢这个特性</c>

554
00:28:13,427 --> 00:28:15,295
<c.magenta>现在我想邀请布兰特上台</c>

555
00:28:15,362 --> 00:28:17,931
<c.magenta>为大家介绍</c>

556
00:28:23,504 --> 00:28:26,206
<c.magenta>谢谢大家</c>

557
00:28:26,306 --> 00:28:28,509
<c.magenta>这是我们首次公开展示</c>

558
00:28:28,709 --> 00:28:31,178
<c.magenta>如何使用Xcode Server</c>

559
00:28:31,645 --> 00:28:35,282
<c.magenta>自动创建分发签名IPA</c>

560
00:28:35,349 --> 00:28:37,951
<c.magenta>这是长期以来缺失的功能</c>

561
00:28:38,552 --> 00:28:40,521
<c.magenta>我们最终实现了这个功能</c>

562
00:28:40,921 --> 00:28:43,423
<c.magenta>我们是如何做到的？</c>

563
00:28:43,924 --> 00:28:45,592
<c.magenta>在Xcode 8和Xcode 9上</c>

564
00:28:45,659 --> 00:28:48,428
<c.magenta>我们在Xcode中引入</c>

565
00:28:49,029 --> 00:28:51,398
<c.magenta>然后将它加入到Xcode Server</c>

566
00:28:51,899 --> 00:28:54,334
<c.magenta>同样地</c>

567
00:28:54,401 --> 00:28:58,906
<c.magenta>和底层技术</c>

568
00:28:59,139 --> 00:29:01,875
<c.magenta>现在我们有自动签名</c>

569
00:28:59,139 --> 00:29:01,875
<c.magenta>现在我们有自动签名</c>

570
00:29:01,975 --> 00:29:02,976
<c.magenta>还有Xcode Server</c>

571
00:29:03,110 --> 00:29:06,480
<c.magenta>我们开发高效率的开发和分发签名流程</c>

572
00:29:09,082 --> 00:29:10,050
<c.magenta>所有这些是如何运作的？</c>

573
00:29:10,217 --> 00:29:13,420
<c.magenta>克里斯展示了这张幻灯片</c>

574
00:29:13,620 --> 00:29:16,857
<c.magenta>我们必须了解</c>

575
00:29:17,558 --> 00:29:20,427
<c.magenta>为了对存档进行签名</c>

576
00:29:20,928 --> 00:29:23,297
<c.magenta>并且创建IPA以用于分发</c>

577
00:29:23,597 --> 00:29:26,900
<c.magenta>Xcode Server需要一些专用资源</c>

578
00:29:27,134 --> 00:29:30,304
<c.magenta>它需要签名证书</c>

579
00:29:30,771 --> 00:29:33,207
<c.magenta>幸运的是 我们进行简化</c>

580
00:29:33,607 --> 00:29:34,808
<c.magenta>如果你允许Xcode Server</c>

581
00:29:34,875 --> 00:29:37,811
<c.magenta>与开发者门户通信</c>

582
00:29:38,712 --> 00:29:40,147
<c.magenta>它可以为你获得这些资源</c>

583
00:29:40,214 --> 00:29:42,549
<c.magenta>自动获取配置文件</c>

584
00:29:43,283 --> 00:29:44,518
<c.magenta>但是它不能获取</c>

585
00:29:44,585 --> 00:29:46,920
<c.magenta>分发签名证书</c>

586
00:29:47,487 --> 00:29:49,857
<c.magenta>这并不是很重要</c>

587
00:29:49,990 --> 00:29:51,391
<c.magenta>因为你可以很方便地与服务器共享证书</c>

588
00:29:51,859 --> 00:29:55,095
<c.magenta>在Xcode Server获取所有这些资产后</c>

589
00:29:55,395 --> 00:29:58,232
<c.magenta>可以生成存档</c>

590
00:29:58,465 --> 00:30:02,536
<c.magenta>以分发到App Store</c>

591
00:29:58,465 --> 00:30:02,536
<c.magenta>以分发到App Store</c>

592
00:30:06,240 --> 00:30:07,908
<c.magenta>那么 你需要做什么？</c>

593
00:30:08,342 --> 00:30:10,844
<c.magenta>你需要复制</c>

594
00:30:11,178 --> 00:30:14,515
<c.magenta>需要确保</c>

595
00:30:14,581 --> 00:30:16,550
<c.magenta>这也适用于手动签名</c>

596
00:30:17,050 --> 00:30:19,319
<c.magenta>第三</c>

597
00:30:19,386 --> 00:30:21,522
<c.magenta>前面毅太已经介绍过</c>

598
00:30:22,890 --> 00:30:25,692
<c.magenta>ExportOptions.plist</c>

599
00:30:25,792 --> 00:30:29,696
<c.magenta>告诉Xcode Server</c>

600
00:30:29,930 --> 00:30:32,065
<c.magenta>这个方案可能比较简单</c>

601
00:30:32,266 --> 00:30:35,736
<c.magenta>一些更复杂的手动签名方案</c>

602
00:30:37,171 --> 00:30:39,740
<c.magenta>我还多次谈到App Store</c>

603
00:30:40,307 --> 00:30:41,375
<c.magenta>这里生成的内容</c>

604
00:30:41,441 --> 00:30:44,645
<c.magenta>可以使用所有分发方法进行分发</c>

605
00:30:44,711 --> 00:30:47,548
<c.magenta>你可以进行企业分发</c>

606
00:30:47,614 --> 00:30:49,783
<c.magenta>或进行其它分发</c>

607
00:30:50,951 --> 00:30:52,419
<c.magenta>让我们来看演示</c>

608
00:30:55,155 --> 00:30:56,590
<c.magenta>（演示）</c>

609
00:30:59,059 --> 00:31:02,563
<c.magenta>这是我们的Chocolate Chip机器人</c>

610
00:30:59,059 --> 00:31:02,563
<c.magenta>这是我们的Chocolate Chip机器人</c>

611
00:31:02,996 --> 00:31:05,999
<c.magenta>在设备上运行测试</c>

612
00:31:06,400 --> 00:31:08,735
<c.magenta>我要做的是</c>

613
00:31:08,936 --> 00:31:11,638
<c.magenta>让它为我生成IPA</c>

614
00:31:11,905 --> 00:31:13,841
<c.magenta>现在我们推荐一个最佳实践</c>

615
00:31:13,907 --> 00:31:16,076
<c.magenta>建议你为这个任务</c>

616
00:31:16,143 --> 00:31:18,946
<c.magenta>用来创建IPA</c>

617
00:31:19,213 --> 00:31:20,581
<c.magenta>我要进行更改</c>

618
00:31:20,914 --> 00:31:22,549
<c.magenta>我将会编辑机器人</c>

619
00:31:22,950 --> 00:31:24,451
<c.magenta>机器人编辑器中</c>

620
00:31:24,551 --> 00:31:26,420
<c.magenta>但是我们要做的事情很简单</c>

621
00:31:26,720 --> 00:31:28,889
<c.magenta>首先 我们打开“配置”选项卡</c>

622
00:31:29,556 --> 00:31:31,692
<c.magenta>在这里</c>

623
00:31:32,292 --> 00:31:35,028
<c.magenta>请记住 从Xcode 5开始</c>

624
00:31:35,195 --> 00:31:37,264
<c.magenta>就已经能够为你创建存档</c>

625
00:31:37,431 --> 00:31:39,266
<c.magenta>这里有许多很好用的工作流程</c>

626
00:31:39,566 --> 00:31:41,001
<c.magenta>例如 你可以创建存档</c>

627
00:31:41,068 --> 00:31:43,804
<c.magenta>然后使用Xcode Server进行安装</c>

628
00:31:44,037 --> 00:31:45,672
<c.magenta>你可以这样做</c>

629
00:31:45,939 --> 00:31:48,575
<c.magenta>我们还添加一个新选项</c>

630
00:31:48,942 --> 00:31:50,711
<c.magenta>启用后 Xcode Server</c>

631
00:31:50,878 --> 00:31:54,081
<c.magenta>为你创建分发签名IPA</c>

632
00:31:54,481 --> 00:31:57,918
<c.magenta>这是最后一个选项</c>

633
00:31:58,318 --> 00:31:59,753
<c.magenta>如何获得这样的自定义plist呢？</c>

634
00:32:00,487 --> 00:32:02,222
<c.magenta>还好 毅太为我们导出了</c>

635
00:32:02,289 --> 00:32:05,225
<c.magenta>一个这样的文件</c>

636
00:32:05,492 --> 00:32:07,794
<c.magenta>那是在他上传应用到App Store后</c>

637
00:32:08,161 --> 00:32:10,097
<c.magenta>现在我会选择它</c>

638
00:32:11,331 --> 00:32:12,699
<c.magenta>你应该检查</c>

639
00:32:12,766 --> 00:32:15,202
<c.magenta>它是否是正确的ExportOptions.plist</c>

640
00:32:15,269 --> 00:32:17,571
<c.magenta>你可以方便地点击它</c>

641
00:32:18,138 --> 00:32:21,341
<c.magenta>这是一个简单</c>

642
00:32:21,875 --> 00:32:23,777
<c.magenta>前面毅太的幻灯片里讲过</c>

643
00:32:23,844 --> 00:32:27,214
<c.magenta>如果你添加更复杂的工作流程</c>

644
00:32:27,714 --> 00:32:29,550
<c.magenta>你将需要</c>

645
00:32:29,683 --> 00:32:32,019
<c.magenta>专门的配置文件</c>

646
00:32:32,085 --> 00:32:34,054
<c.magenta>你还可以做其它一些事情</c>

647
00:32:34,154 --> 00:32:36,590
<c.magenta>应确保这是正确</c>

648
00:32:36,957 --> 00:32:37,824
<c.magenta>这些工作就完成了</c>

649
00:32:38,725 --> 00:32:40,294
<c.magenta>这是“配置”选项里的操作</c>

650
00:32:41,028 --> 00:32:42,229
<c.magenta>然后我们进入“签名”选项卡</c>

651
00:32:43,664 --> 00:32:45,632
<c.magenta>这是Xcode 9中的全新功能</c>

652
00:32:45,699 --> 00:32:48,268
<c.magenta>因为现在你可以配置</c>

653
00:32:48,335 --> 00:32:50,804
<c.magenta>同时进行开发签名</c>

654
00:32:51,638 --> 00:32:55,242
<c.magenta>最上方有两个复选框</c>

655
00:32:55,442 --> 00:32:56,276
<c.magenta>最上方的选项</c>

656
00:32:56,343 --> 00:32:59,980
<c.magenta>命令Xcode Server与</c>

657
00:33:00,380 --> 00:33:02,049
<c.magenta>我的团队已经被添加到服务器</c>

658
00:33:02,216 --> 00:33:05,052
<c.magenta>即使你使用手动分发流程</c>

659
00:33:05,219 --> 00:33:08,088
<c.magenta>也应该选中这个复选框</c>

660
00:33:08,856 --> 00:33:11,725
<c.magenta>我们访问“证书和配置文件”选项卡</c>

661
00:33:12,259 --> 00:33:13,093
<c.magenta>这里是什么？</c>

662
00:33:13,894 --> 00:33:15,162
<c.magenta>最上方有两个选项卡</c>

663
00:33:15,596 --> 00:33:17,931
<c.magenta>显示计算机上安装的所有证书</c>

664
00:33:17,998 --> 00:33:20,167
<c.magenta>底部是配置文件</c>

665
00:33:20,534 --> 00:33:22,269
<c.magenta>我需要做的是</c>

666
00:33:22,402 --> 00:33:24,371
<c.magenta>和我的服务器共享分发证书</c>

667
00:33:24,805 --> 00:33:27,774
<c.magenta>这非常简单</c>

668
00:33:27,908 --> 00:33:28,775
<c.magenta>就可以了</c>

669
00:33:28,842 --> 00:33:32,012
<c.magenta>Xcode Server现能够访问</c>

670
00:33:32,179 --> 00:33:35,315
<c.magenta>因为我允许它代表我</c>

671
00:33:36,016 --> 00:33:38,719
<c.magenta>可以获取所有必要的资产</c>

672
00:33:39,786 --> 00:33:43,257
<c.magenta>我可能会想</c>

673
00:33:43,323 --> 00:33:46,093
<c.magenta>对你们大多数人来说</c>

674
00:33:46,326 --> 00:33:47,861
<c.magenta>而且进行App Store分发</c>

675
00:33:47,961 --> 00:33:48,962
<c.magenta>将不需要做任何事情</c>

676
00:33:49,329 --> 00:33:52,566
<c.magenta>但是如果使用其它分发方法</c>

677
00:33:52,833 --> 00:33:55,035
<c.magenta>或者已经在ExportOptions.plist中</c>

678
00:33:55,102 --> 00:33:57,304
<c.magenta>指定专用的配置文件</c>

679
00:33:57,671 --> 00:33:58,872
<c.magenta>那么你必须确保</c>

680
00:33:58,939 --> 00:34:01,008
<c.magenta>你的服务器具有这些配置文件</c>

681
00:33:58,939 --> 00:34:01,008
<c.magenta>你的服务器具有这些配置文件</c>

682
00:34:01,141 --> 00:34:02,342
<c.magenta>这些工作十分简单</c>

683
00:34:02,643 --> 00:34:05,212
<c.magenta>如果想要共享任何配置文件</c>

684
00:34:05,512 --> 00:34:07,114
<c.magenta>就可以与服务器共享</c>

685
00:34:07,814 --> 00:34:11,150
<c.magenta>“签名”选项卡和</c>

686
00:34:11,217 --> 00:34:13,687
<c.magenta>接下来是你期待的时刻</c>

687
00:34:13,920 --> 00:34:16,989
<c.magenta>让我们集成这个机器人</c>

688
00:34:17,056 --> 00:34:18,257
<c.magenta>它会创建存档</c>

689
00:34:18,492 --> 00:34:20,127
<c.magenta>然后将存档转化为</c>

690
00:34:20,561 --> 00:34:23,063
<c.magenta>分销签名IPA</c>

691
00:34:23,297 --> 00:34:25,098
<c.magenta>可以将它上传到App Store</c>

692
00:34:30,637 --> 00:34:32,472
<c.magenta>这样就完成了</c>

693
00:34:32,739 --> 00:34:34,641
<c.magenta>这是Xcode Server的</c>

694
00:34:34,875 --> 00:34:35,809
<c.magenta>一项重要进步</c>

695
00:34:35,943 --> 00:34:37,277
<c.magenta>将为你节省大量的时间</c>

696
00:34:45,652 --> 00:34:48,355
<c.magenta>代码签名很重要</c>

697
00:34:48,688 --> 00:34:51,058
<c.magenta>对于使用我们平台的开发者和用户来说</c>

698
00:34:51,158 --> 00:34:53,260
<c.magenta>代码签名已经成为</c>

699
00:34:53,493 --> 00:34:55,529
<c.magenta>这些平台的组成部分</c>

700
00:34:56,029 --> 00:34:58,432
<c.magenta>它保护我们的安全性</c>

701
00:34:58,832 --> 00:34:59,933
<c.magenta>我们知道这不容易做到</c>

702
00:35:00,167 --> 00:35:03,303
<c.magenta>但是在Xcode 8和Xcode 9中</c>

703
00:35:03,403 --> 00:35:05,639
<c.magenta>我们付出很多的努力</c>

704
00:35:05,873 --> 00:35:07,107
<c.magenta>从而简化你们的工作</c>

705
00:35:07,641 --> 00:35:10,077
<c.magenta>Xcode Server</c>

706
00:35:10,143 --> 00:35:12,813
<c.magenta>便于你进行日常开发</c>

707
00:35:14,114 --> 00:35:16,083
<c.magenta>我们还完成很多手动签名工作</c>

708
00:35:16,149 --> 00:35:17,718
<c.magenta>因为我们知道</c>

709
00:35:17,784 --> 00:35:22,623
<c.magenta>我们对Xcode中的分发流程</c>

710
00:35:22,856 --> 00:35:23,690
<c.magenta>当然</c>

711
00:35:23,757 --> 00:35:26,393
<c.magenta>我们还将分发流程</c>

712
00:35:27,361 --> 00:35:28,195
<c.magenta>今天的演讲就是这些</c>

713
00:35:28,428 --> 00:35:31,999
<c.magenta>本周还有更多</c>

714
00:35:32,366 --> 00:35:34,034
<c.magenta>谢谢大家的参与 祝本周过得愉快</c>
