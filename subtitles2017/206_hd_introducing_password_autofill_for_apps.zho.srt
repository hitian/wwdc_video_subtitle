1
00:00:22,516 --> 00:00:28,126
[掌声]

2
00:00:28,626 --> 00:00:29,476
&gt;&gt; 大家早上好

3
00:00:30,516 --> 00:00:32,256
欢迎来到 206 号会议

4
00:00:32,336 --> 00:00:34,216
“Introducing 密码自动填充 for App

5
00:00:34,216 --> 00:00:34,866
（App 中的密码自动填充）”

6
00:00:35,596 --> 00:00:37,276
我是 Ricky Mondello

7
00:00:37,706 --> 00:00:39,246
我非常高兴能

8
00:00:39,246 --> 00:00:40,376
为大家讲解

9
00:00:40,376 --> 00:00:43,166
iOS 11 的全新功能 密码自动填充

10
00:00:43,166 --> 00:00:45,476
它能够把你的用户

11
00:00:45,476 --> 00:00:47,146
存储在 Safari 和

12
00:00:47,146 --> 00:00:49,486
iCloud 钥匙串中的密码

13
00:00:50,196 --> 00:00:51,826
直接填写到你的 App

14
00:00:51,826 --> 00:00:53,766
内部的键盘中

15
00:00:54,026 --> 00:00:54,816
让登录变的超简单

16
00:00:56,536 --> 00:00:58,606
我们设计密码自动填充

17
00:00:58,916 --> 00:01:00,196
是因为在 App 中登录

18
00:00:58,916 --> 00:01:00,196
是因为在 App 中登录

19
00:01:00,196 --> 00:01:00,436
非常麻烦

20
00:01:01,296 --> 00:01:02,276
这很让人头疼

21
00:01:03,286 --> 00:01:05,236
就我个人而言

22
00:01:05,236 --> 00:01:06,826
如果我从 App Store 里下载了一个新 App

23
00:01:06,876 --> 00:01:07,986
看到登录页面

24
00:01:08,736 --> 00:01:10,276
有时候我就会

25
00:01:10,276 --> 00:01:12,056
回到 Safari 上面

26
00:01:12,056 --> 00:01:13,146
因为我知道我已经在这个 App 的网站上

27
00:01:13,146 --> 00:01:13,946
登录过

28
00:01:14,796 --> 00:01:16,216
除了这种不方便

29
00:01:16,216 --> 00:01:18,576
很多人还经历过

30
00:01:18,576 --> 00:01:19,646
处理密码相关的问题

31
00:01:19,646 --> 00:01:21,516
而带来的挫败感甚至是

32
00:01:21,516 --> 00:01:23,586
恐慌

33
00:01:24,966 --> 00:01:26,846
实际情况是

34
00:01:26,846 --> 00:01:29,226
尽管在 App 上登录是非常重要的

35
00:01:29,226 --> 00:01:30,926
但它所造成的不便和困扰

36
00:01:30,926 --> 00:01:32,316
会让用户选择

37
00:01:32,316 --> 00:01:33,866
放弃这个 App

38
00:01:33,866 --> 00:01:34,876
我们可不想看到

39
00:01:34,876 --> 00:01:35,246
这种情况

40
00:01:35,396 --> 00:01:36,496
你做出了这么好的 App

41
00:01:36,846 --> 00:01:38,696
我们想让用户使用它们

42
00:01:39,206 --> 00:01:42,416
幸好 在 iOS 11 里的

43
00:01:42,416 --> 00:01:43,306
密码自动填充可以解决这个问题

44
00:01:44,306 --> 00:01:44,896
我来解释一下

45
00:01:45,426 --> 00:01:50,176
iOS 和 macOS

46
00:01:50,176 --> 00:01:51,316
有一个内置的密码管理系统

47
00:01:51,426 --> 00:01:52,736
集成在 Safari 上面

48
00:01:53,986 --> 00:01:55,146
你们可能

49
00:01:55,146 --> 00:01:55,546
之前见过

50
00:01:56,076 --> 00:01:58,316
你登录一个网站的时候

51
00:01:58,316 --> 00:02:00,226
它就会问你要不要存储

52
00:01:58,316 --> 00:02:00,226
它就会问你要不要存储

53
00:02:00,226 --> 00:02:00,906
密码

54
00:02:01,436 --> 00:02:03,906
下次你回到

55
00:02:03,906 --> 00:02:06,106
这个网站上

56
00:02:06,106 --> 00:02:07,826
它就会自动替你填充密码	

57
00:02:07,826 --> 00:02:09,876
让登录变的非常简单

58
00:02:10,675 --> 00:02:11,796
我希望你们知道

59
00:02:11,796 --> 00:02:13,456
Safari 把用户密码的

60
00:02:13,456 --> 00:02:14,926
安全性看得极其

61
00:02:14,926 --> 00:02:15,496
重要

62
00:02:16,556 --> 00:02:18,136
如果用户在你的网站上

63
00:02:18,136 --> 00:02:20,436
存储了一个密码

64
00:02:20,436 --> 00:02:22,326
Safari 就只在你的网站上

65
00:02:22,326 --> 00:02:22,996
填充这个密码

66
00:02:24,076 --> 00:02:25,716
你网站的密码绝不会

67
00:02:25,716 --> 00:02:26,886
被泄露在其他

68
00:02:26,886 --> 00:02:27,476
网站上

69
00:02:28,006 --> 00:02:31,106
当然 如果用户希望

70
00:02:31,106 --> 00:02:32,096
在设备上查找某个密码

71
00:02:32,096 --> 00:02:34,896
那就需要认证

72
00:02:34,896 --> 00:02:36,136
才能查看

73
00:02:36,136 --> 00:02:38,056
使用 Touch ID 或者

74
00:02:38,056 --> 00:02:40,146
或者使用密码

75
00:02:40,816 --> 00:02:43,236
总而言之 iOS 能保证

76
00:02:43,236 --> 00:02:45,216
这些密码在设备上的安全

77
00:02:46,476 --> 00:02:49,346
当然 iOS 会用 iCloud 钥匙串

78
00:02:49,346 --> 00:02:50,906
在同一用户的所有设备上

79
00:02:50,906 --> 00:02:52,916
同步这些密码

80
00:02:53,666 --> 00:02:54,946
这会让不同设备登录

81
00:02:54,946 --> 00:02:56,846
变得超级简单

82
00:02:57,286 --> 00:03:00,306
同样也是安全的

83
00:02:57,286 --> 00:03:00,306
同样也是安全的

84
00:03:01,356 --> 00:03:02,446
实际上 

85
00:03:02,446 --> 00:03:04,216
我们在 Apple.com 上

86
00:03:04,216 --> 00:03:06,296
有一个白皮书

87
00:03:06,296 --> 00:03:08,036
描述了 iCloud 钥匙串的

88
00:03:08,086 --> 00:03:08,476
安全模型

89
00:03:09,016 --> 00:03:10,316
上面非常详细地

90
00:03:10,316 --> 00:03:12,596
讲述了 Apple 在看不到

91
00:03:13,366 --> 00:03:14,936
用户同步密码的情况下

92
00:03:14,936 --> 00:03:17,986
是如何让它们仍然

93
00:03:17,986 --> 00:03:19,496
可以出现在

94
00:03:19,496 --> 00:03:19,996
不同设备上

95
00:03:22,696 --> 00:03:24,666
Safari 的自动填充与 iCloud 钥匙串

96
00:03:24,666 --> 00:03:26,486
直接内置在

97
00:03:26,486 --> 00:03:27,486
iOS 和 macOS 里面

98
00:03:28,336 --> 00:03:30,266
Safari 自动填充对所有用户

99
00:03:30,266 --> 00:03:32,036
都是默认开启的

100
00:03:32,566 --> 00:03:33,986
每一个用户在

101
00:03:33,986 --> 00:03:37,016
设置新设备时都会被询问

102
00:03:37,016 --> 00:03:38,176
是否要使用 iCloud 钥匙串

103
00:03:39,456 --> 00:03:41,656
这些功能是非常

104
00:03:41,656 --> 00:03:42,146
受欢迎的

105
00:03:42,776 --> 00:03:43,986
很多用户都把

106
00:03:44,036 --> 00:03:45,376
密码存储在

107
00:03:45,376 --> 00:03:46,806
iCloud 钥匙串和 Safari 自动填充里

108
00:03:47,926 --> 00:03:50,526
iOS 11 的不同之处在于

109
00:03:50,526 --> 00:03:52,076
让这些已经存储在钥匙串里的

110
00:03:52,076 --> 00:03:54,136
密码也能被用于

111
00:03:54,136 --> 00:03:55,716
你 App 内的

112
00:03:56,106 --> 00:03:57,176
键盘上

113
00:03:57,896 --> 00:03:58,756
我想了解这个功能的

114
00:03:58,756 --> 00:04:00,036
最好方式就是眼见为实

115
00:03:58,756 --> 00:04:00,036
最好方式就是眼见为实

116
00:04:00,686 --> 00:04:05,000
我们一起看一个演示

117
00:04:10,436 --> 00:04:12,566
这里展示的是 Shiny

118
00:04:12,566 --> 00:04:14,256
这是一个演示 App

119
00:04:14,386 --> 00:04:15,956
这是我个人最喜欢的

120
00:04:15,956 --> 00:04:17,926
用于登录演示的 App

121
00:04:17,926 --> 00:04:19,106
在它上面

122
00:04:19,106 --> 00:04:20,216
每天都可以看到

123
00:04:20,216 --> 00:04:20,426
一幅美妙的图片

124
00:04:20,426 --> 00:04:22,366
我现在要打开

125
00:04:22,366 --> 00:04:22,616
这个 App

126
00:04:23,326 --> 00:04:25,096
这是一个很标准的

127
00:04:25,096 --> 00:04:26,516
登录页面 和你们的很多 App 一样

128
00:04:26,516 --> 00:04:28,246
有用户名栏

129
00:04:28,246 --> 00:04:28,986
和密码栏

130
00:04:30,116 --> 00:04:31,366
像每一个用户一样

131
00:04:31,366 --> 00:04:32,856
我会点按

132
00:04:32,856 --> 00:04:33,196
用户名栏

133
00:04:33,696 --> 00:04:35,486
你首先注意到的

134
00:04:35,486 --> 00:04:37,386
可能就是在键盘上方

135
00:04:37,386 --> 00:04:38,966
这里有一个

136
00:04:39,576 --> 00:04:40,506
QuickType 栏

137
00:04:41,096 --> 00:04:42,076
这个 QuickType 栏

138
00:04:42,076 --> 00:04:44,396
就为我提供了 Shiny 网站

139
00:04:44,396 --> 00:04:45,366
上面的密码

140
00:04:45,836 --> 00:04:47,796
只需点按一下

141
00:04:47,796 --> 00:04:48,666
就自动填上了

142
00:04:49,286 --> 00:04:51,666
再点一下 

143
00:04:51,666 --> 00:04:51,866
就登录成功了

144
00:04:52,916 --> 00:04:55,106
这小狗真可爱 如果满分 10 分的话

145
00:04:55,816 --> 00:04:57,176
我要给 13 分

146
00:04:57,366 --> 00:04:58,576
再来一遍

147
00:04:58,576 --> 00:04:59,496
这很快就完成了

148
00:05:00,166 --> 00:05:01,336
这次我碰巧点到了

149
00:05:01,336 --> 00:05:02,916
密码栏

150
00:05:03,456 --> 00:05:04,636
效果是一样的

151
00:05:05,176 --> 00:05:06,596
点一下 再点一下

152
00:05:07,436 --> 00:05:08,196
登录成功

153
00:05:08,986 --> 00:05:09,736
又有一条乖狗狗出现了

154
00:05:09,736 --> 00:05:13,926
在展示的时候

155
00:05:13,926 --> 00:05:16,136
我还想指出一点

156
00:05:16,136 --> 00:05:18,406
就是刚才提到的

157
00:05:18,406 --> 00:05:20,096
iOS 极其重视密码的

158
00:05:20,096 --> 00:05:20,656
安全性

159
00:05:22,016 --> 00:05:23,216
所以要注意

160
00:05:23,216 --> 00:05:26,156
iOS 不是去猜测

161
00:05:26,156 --> 00:05:28,676
shiny.example.com

162
00:05:28,676 --> 00:05:29,306
是 Shiny 这个 App 的官网

163
00:05:30,066 --> 00:05:32,326
在这个 App 和这个网站之间

164
00:05:32,326 --> 00:05:34,156
有一个安全的强双向联系

165
00:05:34,156 --> 00:05:36,266
让 iOS 能够

166
00:05:36,266 --> 00:05:37,756
使用户需要的

167
00:05:37,756 --> 00:05:38,736
那个用户名和密码

168
00:05:39,106 --> 00:05:40,086
出现在 QuickType 栏里

169
00:05:40,206 --> 00:05:41,416
好

170
00:05:41,786 --> 00:05:44,000
咱们往回看一下

171
00:05:50,126 --> 00:05:52,786
大家刚才看到 iOS 11

172
00:05:52,786 --> 00:05:54,446
把我登录 Shiny 所需的密码

173
00:05:54,446 --> 00:05:56,336
直接填在了

174
00:05:56,336 --> 00:05:57,326
键盘上方的 QuickType 栏里

175
00:05:57,326 --> 00:05:59,396
这让登录变的简单

176
00:05:59,396 --> 00:06:00,816
只需点按两下

177
00:05:59,396 --> 00:06:00,816
只需点按两下

178
00:06:01,596 --> 00:06:03,896
现在 我再也不需要

179
00:06:03,896 --> 00:06:05,386
离开 App 回到 Safari

180
00:06:05,466 --> 00:06:06,546
就是刚才已经登录过的网页了

181
00:06:07,106 --> 00:06:08,496
登录到 App 上面

182
00:06:09,236 --> 00:06:11,086
就这么简单

183
00:06:11,346 --> 00:06:12,146
快速举手回答

184
00:06:13,006 --> 00:06:14,396
多少人的 App 里

185
00:06:14,396 --> 00:06:15,546
有这样的页面

186
00:06:15,546 --> 00:06:16,626
需要输入用户名

187
00:06:16,626 --> 00:06:17,276
和密码的

188
00:06:18,636 --> 00:06:19,056
好的

189
00:06:19,296 --> 00:06:20,146
看来人数不少

190
00:06:20,146 --> 00:06:21,016
你们都

191
00:06:21,016 --> 00:06:21,396
来对地方了

192
00:06:22,226 --> 00:06:23,966
请再举一下手

193
00:06:25,396 --> 00:06:27,426
在这些 App 中 有多少是

194
00:06:27,426 --> 00:06:28,786
登录到你自己的后端

195
00:06:28,786 --> 00:06:30,416
而不是到一个

196
00:06:30,416 --> 00:06:31,526
第三方服务平台上面的

197
00:06:32,726 --> 00:06:33,296
好

198
00:06:33,296 --> 00:06:33,906
人数也不少

199
00:06:34,926 --> 00:06:36,146
对于那些

200
00:06:36,146 --> 00:06:37,446
举了两次手的人来说

201
00:06:37,776 --> 00:06:38,956
我这个演讲的

202
00:06:38,956 --> 00:06:39,696
大部分内容都是

203
00:06:39,696 --> 00:06:40,326
为你们准备的

204
00:06:41,346 --> 00:06:42,256
如果你登录到

205
00:06:42,256 --> 00:06:43,656
第三方服务平台 比如

206
00:06:43,656 --> 00:06:44,576
社交网络 

207
00:06:44,756 --> 00:06:45,826
那么我在这场演讲的最后

208
00:06:45,826 --> 00:06:45,976
准备了一些内容给你们

209
00:06:51,306 --> 00:06:53,216
我们希望密码自动填充

210
00:06:53,216 --> 00:06:54,816
能够应用到

211
00:06:54,816 --> 00:06:55,306
尽可能多的 App 上

212
00:06:56,076 --> 00:06:58,096
我们在 iOS 里内置了启发式算法

213
00:06:58,836 --> 00:07:00,456
这会让密码自动填充

214
00:06:58,836 --> 00:07:00,456
这会让密码自动填充

215
00:07:00,456 --> 00:07:02,626
的一些工作

216
00:07:02,626 --> 00:07:04,236
在很多 App 上面自动进行

217
00:07:04,236 --> 00:07:05,626
无须你改动

218
00:07:05,626 --> 00:07:05,986
任何东西

219
00:07:07,426 --> 00:07:09,486
然而 要是想让用户

220
00:07:09,486 --> 00:07:11,266
得到最佳体验

221
00:07:11,266 --> 00:07:13,216
让最正确的个人认证信息

222
00:07:13,216 --> 00:07:15,666
出现在 QuickType 栏

223
00:07:15,666 --> 00:07:16,456
我们还需要你们的

224
00:07:16,456 --> 00:07:16,786
一点帮助

225
00:07:16,816 --> 00:07:18,916
本次会议接下来的时间

226
00:07:18,916 --> 00:07:20,606
我们要集中讲解一下

227
00:07:20,606 --> 00:07:22,586
如何保证你们的 App

228
00:07:22,586 --> 00:07:24,256
也能获得刚才在 Shiny 上看到的

229
00:07:24,256 --> 00:07:25,636
一样的效果 

230
00:07:25,846 --> 00:07:27,426
要做到这一点

231
00:07:27,426 --> 00:07:28,276
我们来看这些主题

232
00:07:30,696 --> 00:07:32,706
第一个主题讲的是

233
00:07:32,706 --> 00:07:34,666
如何让 QuickType 栏

234
00:07:34,666 --> 00:07:36,366
出现在你的 App 的

235
00:07:36,366 --> 00:07:37,576
用户名和密码栏内

236
00:07:38,026 --> 00:07:40,026
第二个主题讲的是

237
00:07:40,026 --> 00:07:41,276
如何保证在 App 中

238
00:07:41,326 --> 00:07:42,186
合适的位置填入密码

239
00:07:42,296 --> 00:07:44,126
并让你的 App 在用户

240
00:07:44,126 --> 00:07:45,366
点按一个选项后

241
00:07:45,366 --> 00:07:45,936
正常运行起来

242
00:07:47,196 --> 00:07:48,846
然后 我们会讲到如何

243
00:07:48,846 --> 00:07:50,296
保证你的用户需要的

244
00:07:50,296 --> 00:07:51,536
个人用户名和密码信息

245
00:07:51,536 --> 00:07:53,056
也就是你网站上的信息

246
00:07:53,056 --> 00:07:54,796
会准确地出现在

247
00:07:54,796 --> 00:07:55,996
QuickType 栏的

248
00:07:56,026 --> 00:07:56,226
左手边

249
00:07:56,346 --> 00:07:58,906
最后我们会回来

250
00:07:58,906 --> 00:08:00,086
再说一说

251
00:07:58,906 --> 00:08:00,086
再说一说

252
00:08:00,086 --> 00:08:01,596
对第三方服务的认证

253
00:08:01,596 --> 00:08:03,746
也就是区别于你的 App

254
00:08:03,746 --> 00:08:05,546
的服务

255
00:08:06,616 --> 00:08:08,646
咱们先来讲一讲

256
00:08:08,646 --> 00:08:10,046
如何让 QuickType 栏

257
00:08:10,046 --> 00:08:10,256
出现

258
00:08:12,596 --> 00:08:13,896
首先要知道

259
00:08:13,896 --> 00:08:15,196
关于让 QuickType 栏出现的情况

260
00:08:15,716 --> 00:08:17,326
只有在你的 iOS 设备上

261
00:08:17,326 --> 00:08:19,906
至少有一个存储的密码的情况下

262
00:08:19,906 --> 00:08:21,076
QuickType 栏才会出现

263
00:08:21,736 --> 00:08:22,816
如果根本没有密码

264
00:08:22,816 --> 00:08:23,996
我们当然也就不需要

265
00:08:23,996 --> 00:08:24,836
密码自动填充了

266
00:08:28,126 --> 00:08:29,926
第二件事

267
00:08:29,926 --> 00:08:32,986
UITextView 和 UITextField

268
00:08:32,986 --> 00:08:34,486
是自动为

269
00:08:34,486 --> 00:08:36,275
Password 自动填充

270
00:08:36,275 --> 00:08:36,716
准备的

271
00:08:38,015 --> 00:08:39,716
所以 如果你们已经在 UIKit 里

272
00:08:39,716 --> 00:08:41,586
用到这些标准控制

273
00:08:42,056 --> 00:08:43,166
那就已经有一个很好的

274
00:08:43,166 --> 00:08:43,576
开始了

275
00:08:44,976 --> 00:08:47,096
如果你是使用

276
00:08:47,096 --> 00:08:48,816
自己的文本栏

277
00:08:48,816 --> 00:08:49,096
那也不用担心

278
00:08:49,606 --> 00:08:51,126
如果你的文本栏符合

279
00:08:51,126 --> 00:08:53,666
UITextInput 那么它

280
00:08:53,666 --> 00:08:54,636
也适用于密码自动填充

281
00:08:55,206 --> 00:08:57,686
我之前提到过这一点

282
00:08:57,786 --> 00:08:59,126
iOS 会使用

283
00:08:59,126 --> 00:09:01,476
启发式算法来决定

284
00:08:59,126 --> 00:09:01,476
启发式算法来决定

285
00:09:01,476 --> 00:09:03,386
在你的用户名和密码

286
00:09:03,386 --> 00:09:04,506
栏中启动

287
00:09:04,506 --> 00:09:04,946
QuickType 栏

288
00:09:06,336 --> 00:09:09,176
iOS 的启发式算法

289
00:09:09,176 --> 00:09:09,516
非常棒

290
00:09:10,046 --> 00:09:11,816
但我们要做的是

291
00:09:11,816 --> 00:09:14,636
保证你的 App 具有

292
00:09:14,636 --> 00:09:15,596
密码自动填充功能

293
00:09:16,146 --> 00:09:17,616
我们能够保证

294
00:09:17,616 --> 00:09:20,076
能让你告诉 iOS

295
00:09:20,076 --> 00:09:21,056
哪里是用户名栏

296
00:09:21,056 --> 00:09:22,516
哪里是

297
00:09:22,516 --> 00:09:22,796
密码栏

298
00:09:23,396 --> 00:09:25,136
我们实现的方法

299
00:09:26,076 --> 00:09:28,126
就是通过 UITextContentType

300
00:09:28,496 --> 00:09:30,466
在文本栏中设置一个

301
00:09:30,466 --> 00:09:30,976
内容类型

302
00:09:33,496 --> 00:09:36,006
在 iOS 10 中 UITextContentType 是被作为

303
00:09:36,006 --> 00:09:37,896
UITextInputTraits 协议的

304
00:09:37,896 --> 00:09:40,216
一项可选属性

305
00:09:40,356 --> 00:09:42,526
出现的

306
00:09:42,526 --> 00:09:43,906
iOS 能用它

307
00:09:43,906 --> 00:09:45,436
更好地理解

308
00:09:45,436 --> 00:09:46,696
你的文本栏中的

309
00:09:46,696 --> 00:09:47,116
信息

310
00:09:48,246 --> 00:09:50,056
你可以想象 iOS

311
00:09:50,056 --> 00:09:51,076
能够提供一个不同的

312
00:09:51,076 --> 00:09:52,666
且更好的键盘

313
00:09:52,666 --> 00:09:54,406
或者自动更正功能 就像它知道

314
00:09:54,406 --> 00:09:55,576
用户是在输入

315
00:09:55,576 --> 00:09:58,416
邮件地址还是

316
00:09:58,416 --> 00:09:58,696
他们的名字一样

317
00:09:58,696 --> 00:10:01,566
这里是 iOS 10 提供的

318
00:09:58,696 --> 00:10:01,566
这里是 iOS 10 提供的

319
00:10:01,566 --> 00:10:03,896
文本内容类型

320
00:10:03,896 --> 00:10:04,806
大家都见过

321
00:10:08,036 --> 00:10:09,616
你们可能都猜到了

322
00:10:09,616 --> 00:10:12,046
在 iOS 11 中有两个新的

323
00:10:12,046 --> 00:10:13,956
文本内容类型 也就是用户名和

324
00:10:13,956 --> 00:10:15,416
密码 你可以把它们

325
00:10:15,416 --> 00:10:16,546
标记在你的栏上

326
00:10:18,336 --> 00:10:20,526
为了保证密码自动填充

327
00:10:20,526 --> 00:10:22,036
在你的 App 中顺利工作

328
00:10:22,036 --> 00:10:23,706
我们需要用到

329
00:10:23,706 --> 00:10:25,166
UITextContentType

330
00:10:25,896 --> 00:10:27,386
这就是我们用来保证

331
00:10:27,386 --> 00:10:28,396
密码自动填充在 App 里

332
00:10:28,396 --> 00:10:30,276
能够顺利工作的利器

333
00:10:30,436 --> 00:10:31,996
你可以在代码内部

334
00:10:32,206 --> 00:10:32,936
设置文本内容类型

335
00:10:33,656 --> 00:10:35,166
或者使用接口构建器

336
00:10:35,526 --> 00:10:36,356
我们等一下就会展示

337
00:10:36,356 --> 00:10:37,666
怎么做到这一点

338
00:10:40,616 --> 00:10:42,596
如果你的 App

339
00:10:43,146 --> 00:10:44,896
提供了双屏登录体验

340
00:10:45,076 --> 00:10:46,666
也就是用户名栏和密码栏

341
00:10:46,666 --> 00:10:48,646
在不同的屏或视图上

342
00:10:48,646 --> 00:10:50,566
用户名文本内容类型

343
00:10:50,566 --> 00:10:52,266
会特别有用

344
00:10:53,116 --> 00:10:55,926
在这种情况下 如果你

345
00:10:55,926 --> 00:10:57,466
把用户名文本内容类型

346
00:10:57,466 --> 00:10:59,276
标记在用户名栏

347
00:10:59,276 --> 00:11:00,866
我们就能为双屏提供

348
00:10:59,276 --> 00:11:00,866
我们就能为双屏提供

349
00:11:00,866 --> 00:11:01,926
QuickType 栏了

350
00:11:04,416 --> 00:11:06,116
如果你已经在用

351
00:11:06,116 --> 00:11:07,856
电子邮件地址的文本内容类型

352
00:11:08,446 --> 00:11:09,326
也不用担心

353
00:11:10,016 --> 00:11:11,866
你可以把用户名

354
00:11:11,866 --> 00:11:13,806
文本内容类型和电子邮件键盘

355
00:11:13,906 --> 00:11:15,636
结合起来 让你的用户

356
00:11:15,636 --> 00:11:17,976
在两种情形下都能获得更好体验

357
00:11:17,976 --> 00:11:19,386
既能获取电子邮件地址键盘

358
00:11:19,846 --> 00:11:21,416
也能体验 QuickType 自动填充

359
00:11:24,676 --> 00:11:26,646
密码文本内容类型

360
00:11:27,026 --> 00:11:29,586
如果你的 App 里

361
00:11:29,586 --> 00:11:30,826
有直接用文本显示

362
00:11:30,826 --> 00:11:32,426
用户正在输入的密码

363
00:11:32,426 --> 00:11:34,026
这样为他们提供便利 

364
00:11:34,026 --> 00:11:34,556
的功能 这会非常有用

365
00:11:35,876 --> 00:11:38,066
如果你的栏是以文本形式出现

366
00:11:38,066 --> 00:11:40,216
iOS 就不能分辨它是

367
00:11:40,216 --> 00:11:41,866
密码栏 除非你把这个栏

368
00:11:41,866 --> 00:11:43,266
定义成密码

369
00:11:43,996 --> 00:11:45,466
如果你这样做了

370
00:11:45,466 --> 00:11:46,526
QuickType 栏中这个栏仍然有效

371
00:11:46,526 --> 00:11:47,926
即便它并不是一个

372
00:11:47,926 --> 00:11:48,686
安全的条目

373
00:11:49,276 --> 00:11:53,456
到这一步 你这样做以后

374
00:11:53,456 --> 00:11:56,166
就会看到一个

375
00:11:56,166 --> 00:11:57,926
密码自动填充 QuickType 栏

376
00:11:57,976 --> 00:12:00,376
在你的 App 里 钥匙图标

377
00:11:57,976 --> 00:12:00,376
在你的 App 里 钥匙图标

378
00:12:00,376 --> 00:12:02,116
在右边 但是在左边

379
00:12:02,116 --> 00:12:03,656
没有任何特定的内容

380
00:12:03,656 --> 00:12:04,156
出现

381
00:12:05,016 --> 00:12:06,196
这是必要的一步

382
00:12:06,196 --> 00:12:07,276
是个良好的

383
00:12:07,276 --> 00:12:07,576
开端

384
00:12:08,316 --> 00:12:09,786
很快我们就会讲到

385
00:12:09,786 --> 00:12:11,586
如何让你网站的密码

386
00:12:11,586 --> 00:12:12,946
出现在左边

387
00:12:13,656 --> 00:12:15,456
看到这个栏就意味着

388
00:12:15,796 --> 00:12:17,506
iOS 已经准备好提供

389
00:12:17,506 --> 00:12:18,516
密码自动填充了

390
00:12:18,516 --> 00:12:21,206
如果用户点按了

391
00:12:21,206 --> 00:12:23,176
右手边的钥匙图标

392
00:12:23,176 --> 00:12:24,856
他们就能够使用 Touch ID

393
00:12:24,856 --> 00:12:27,526
进行认证 并看到一系列

394
00:12:27,526 --> 00:12:29,306
密码 他们可以从中

395
00:12:29,306 --> 00:12:30,826
寻找 滚动 

396
00:12:30,826 --> 00:12:31,776
并找到合适的密码

397
00:12:31,776 --> 00:12:34,216
填入你的 App

398
00:12:34,216 --> 00:12:35,336
当他们找到了合适的密码

399
00:12:35,336 --> 00:12:38,276
点按一下

400
00:12:38,276 --> 00:12:39,906
iOS 就能把这个密码填入

401
00:12:39,956 --> 00:12:41,816
你的栏

402
00:12:41,976 --> 00:12:43,246
这就让我们进入了

403
00:12:43,246 --> 00:12:45,946
下一主题

404
00:12:45,946 --> 00:12:48,066
也就是让你的 App 能理解

405
00:12:48,066 --> 00:12:49,606
填入的文本栏的信息

406
00:12:49,606 --> 00:12:51,556
并让用户

407
00:12:51,556 --> 00:12:52,936
在这之后

408
00:12:52,936 --> 00:12:53,476
能够成功登录

409
00:12:54,226 --> 00:12:56,926
iOS 会尽力

410
00:12:56,926 --> 00:12:58,136
把信息按照

411
00:12:58,136 --> 00:13:00,076
用户自己填写的那种方式

412
00:12:58,136 --> 00:13:00,076
用户自己填写的那种方式

413
00:13:00,076 --> 00:13:01,596
填入到你的用户名栏

414
00:13:01,596 --> 00:13:02,716
和密码栏

415
00:13:02,716 --> 00:13:03,316
之中

416
00:13:04,236 --> 00:13:05,346
但还是有必要测试

417
00:13:05,346 --> 00:13:07,676
以保证你的 App

418
00:13:07,716 --> 00:13:09,446
在信息被自动填写后

419
00:13:09,446 --> 00:13:10,186
能够正常工作

420
00:13:10,256 --> 00:13:11,966
我们希望看到

421
00:13:11,966 --> 00:13:13,316
用户只需轻点

422
00:13:13,316 --> 00:13:15,406
登录按钮 然后就直接

423
00:13:15,996 --> 00:13:16,066
登录了

424
00:13:16,856 --> 00:13:17,946
下面我们讲一下

425
00:13:17,946 --> 00:13:20,366
密码自动填充

426
00:13:20,366 --> 00:13:22,206
是如何进入你的 App 的

427
00:13:23,496 --> 00:13:24,926
第一件事大家可能

428
00:13:24,926 --> 00:13:26,786
已经知道了 那就是

429
00:13:26,786 --> 00:13:28,196
iOS 会通过一个动作

430
00:13:28,196 --> 00:13:30,036
填写用户名

431
00:13:30,376 --> 00:13:31,306
和密码栏

432
00:13:31,496 --> 00:13:34,146
iOS 会通过更改你的 App 的

433
00:13:34,146 --> 00:13:35,816
第一响应对象做到这一点

434
00:13:36,296 --> 00:13:39,416
即便你的 App 会

435
00:13:39,416 --> 00:13:40,826
阻止更改第一响应对象

436
00:13:40,826 --> 00:13:42,186
iOS 也会这样做

437
00:13:42,976 --> 00:13:43,886
所以如果你的 App

438
00:13:43,886 --> 00:13:47,776
是这样的话 希望你能有所了解

439
00:13:48,046 --> 00:13:50,016
刚才我向大家展示了

440
00:13:50,016 --> 00:13:51,316
用户点按钥匙图标

441
00:13:51,316 --> 00:13:53,086
Touch ID 出现的情形

442
00:13:53,966 --> 00:13:55,806
Touch ID 出现后

443
00:13:55,806 --> 00:13:57,046
你的 App 就不活动了

444
00:13:57,046 --> 00:14:00,106
需要了解这一点 

445
00:13:57,046 --> 00:14:00,106
需要了解这一点 

446
00:14:00,106 --> 00:14:02,356
因为这会直接导致

447
00:14:03,056 --> 00:14:04,656
下面的情况

448
00:14:04,716 --> 00:14:06,526
也就是 Touch ID

449
00:14:06,526 --> 00:14:08,496
出现时 你不需要

450
00:14:08,496 --> 00:14:11,266
在 App 不活跃的时候

451
00:14:11,266 --> 00:14:13,036
把登录 UI 拽下去或者把它

452
00:14:13,036 --> 00:14:13,436
隐藏起来

453
00:14:13,966 --> 00:14:15,486
因为如果你这样做了

454
00:14:15,486 --> 00:14:17,036
用户就会看到

455
00:14:17,036 --> 00:14:18,796
点按钥匙图标

456
00:14:18,796 --> 00:14:19,676
找到合适的密码并点按

457
00:14:19,676 --> 00:14:21,216
然后 iOS 却不能自动填写

458
00:14:21,216 --> 00:14:22,536
任何内容

459
00:14:22,536 --> 00:14:23,576
因为文本栏

460
00:14:23,576 --> 00:14:24,246
不见了

461
00:14:25,236 --> 00:14:27,216
所以 应该

462
00:14:27,336 --> 00:14:29,036
在你的 App 不活跃时

463
00:14:29,036 --> 00:14:30,436
隐藏敏感

464
00:14:30,436 --> 00:14:30,876
信息

465
00:14:31,786 --> 00:14:33,066
但如果一个用户没有完成

466
00:14:33,066 --> 00:14:34,596
登录的话 那么这就

467
00:14:34,596 --> 00:14:35,746
没有什么必要了

468
00:14:38,016 --> 00:14:40,166
可能在你的 App 上有

469
00:14:40,566 --> 00:14:41,626
按键 比如登录键

470
00:14:41,626 --> 00:14:43,466
或是注册键

471
00:14:43,466 --> 00:14:45,116
只在有信息

472
00:14:45,116 --> 00:14:46,466
被填入用户名

473
00:14:46,586 --> 00:14:48,396
和密码栏时才会亮起

474
00:14:48,396 --> 00:14:49,136
并且生效

475
00:14:49,726 --> 00:14:51,926
这里最好的方法

476
00:14:51,926 --> 00:14:54,016
是使用“did change”通知

477
00:14:54,376 --> 00:14:56,156
或者委托方法让这些按键

478
00:14:56,196 --> 00:14:57,766
在文本发生变化时重新生效

479
00:14:58,816 --> 00:15:03,446
如果你正在使用 UITextField

480
00:14:58,816 --> 00:15:03,446
如果你正在使用 UITextField

481
00:15:03,906 --> 00:15:05,046
那么有一个通知可以

482
00:15:05,046 --> 00:15:05,566
派上用场

483
00:15:06,276 --> 00:15:07,846
如果你正在使用 UITextView

484
00:15:07,846 --> 00:15:10,026
那么有一个通知和一个

485
00:15:10,026 --> 00:15:10,716
委托方法可以用

486
00:15:11,636 --> 00:15:12,626
如果你在使用你自己的

487
00:15:12,626 --> 00:15:15,056
定制文本输入 如果你能够

488
00:15:15,056 --> 00:15:16,796
完成 UITextInputDelegate

489
00:15:17,316 --> 00:15:18,306
那么有一个委托方法

490
00:15:18,306 --> 00:15:19,966
可以为你所用

491
00:15:19,966 --> 00:15:21,066
让按键重新生效

492
00:15:21,646 --> 00:15:25,206
你在做这些确认的时候

493
00:15:25,206 --> 00:15:27,136
应该直接从

494
00:15:27,136 --> 00:15:29,296
文本栏的文字属性中

495
00:15:29,296 --> 00:15:30,876
读取信息

496
00:15:31,776 --> 00:15:34,106
UIKit 让从文本栏中

497
00:15:34,356 --> 00:15:35,686
读取信息变得

498
00:15:35,686 --> 00:15:36,256
轻而易举

499
00:15:36,606 --> 00:15:37,676
而且总是很准确

500
00:15:38,536 --> 00:15:40,626
如果你这样做了

501
00:15:40,836 --> 00:15:42,566
你就会避免

502
00:15:42,566 --> 00:15:43,646
很多 Bug 这些 Bug 在使用

503
00:15:43,646 --> 00:15:45,666
基于输入文本栏的

504
00:15:45,666 --> 00:15:47,146
cash-in 验证时

505
00:15:47,146 --> 00:15:47,766
可能会出现

506
00:15:52,376 --> 00:15:53,186
这就好了

507
00:15:53,626 --> 00:15:55,316
这些方法是为了

508
00:15:55,316 --> 00:15:57,246
保证用户在使用自动填充之后

509
00:15:57,246 --> 00:15:59,896
能够在你的 App 上

510
00:15:59,896 --> 00:16:01,556
成功登录

511
00:15:59,896 --> 00:16:01,556
成功登录

512
00:16:01,746 --> 00:16:02,826
然后用户就可以

513
00:16:02,826 --> 00:16:03,236
继续使用了

514
00:16:04,296 --> 00:16:06,146
接下来就要谈到第三个主题

515
00:16:06,146 --> 00:16:08,826
也就是要保证

516
00:16:08,826 --> 00:16:10,486
QuickType 栏会填入

517
00:16:10,486 --> 00:16:11,956
你的网站的正确的认证信息

518
00:16:12,366 --> 00:16:17,676
在测试的这一步

519
00:16:18,146 --> 00:16:19,406
出现的可能还是我们之前见到的

520
00:16:19,406 --> 00:16:21,626
也就是一个带有钥匙图标的栏

521
00:16:21,626 --> 00:16:23,086
但在左边没有任何

522
00:16:23,086 --> 00:16:24,266
特定的身份认证

523
00:16:24,266 --> 00:16:24,546
信息

524
00:16:25,776 --> 00:16:27,066
但我们知道 为了要给用户

525
00:16:27,066 --> 00:16:28,916
最佳的体验

526
00:16:29,416 --> 00:16:30,836
就一定要尽量避免

527
00:16:30,836 --> 00:16:32,216
他们卸载你的 App

528
00:16:32,216 --> 00:16:34,956
这个可能性

529
00:16:34,956 --> 00:16:36,366
因此我们需要 QuickType 栏

530
00:16:36,366 --> 00:16:37,626
一定要显示正确的身份信息

531
00:16:38,186 --> 00:16:40,616
我在刚才的演示中

532
00:16:40,616 --> 00:16:42,556
稍微提过这一点

533
00:16:42,556 --> 00:16:44,256
密码自动填充只会在

534
00:16:44,256 --> 00:16:45,876
安全的情况下才会把身份信息

535
00:16:46,166 --> 00:16:47,486
显示在 QuickType 栏上

536
00:16:47,786 --> 00:16:48,516
只有安全的时候才行

537
00:16:48,776 --> 00:16:52,596
iOS 不会去猜是哪一个

538
00:16:53,106 --> 00:16:54,926
网站跟你的 App 有关

539
00:16:54,926 --> 00:16:56,466
然后去找哪一个是

540
00:16:56,466 --> 00:16:57,626
对应你的 App的正确

541
00:16:58,246 --> 00:16:58,426
密码

542
00:16:58,426 --> 00:16:59,166
iOS 本来就知道

543
00:16:59,166 --> 00:17:02,206
如果你采用了通用链接

544
00:16:59,166 --> 00:17:02,206
如果你采用了通用链接

545
00:17:02,206 --> 00:17:04,806
这个特性能够

546
00:17:04,806 --> 00:17:06,465
让用户在你的 App 内

547
00:17:06,465 --> 00:17:07,695
点按链接时把它们打开

548
00:17:08,366 --> 00:17:09,705
而不是在 Safari 内打开

549
00:17:09,705 --> 00:17:11,965
如果你做到了这一点

550
00:17:11,965 --> 00:17:13,776
那么你可能已经发现了

551
00:17:13,776 --> 00:17:15,266
iOS 知道你的 App

552
00:17:15,266 --> 00:17:16,816
和你的网站是关联的

553
00:17:16,816 --> 00:17:17,976
然后它将能在 QuickType 栏中

554
00:17:17,976 --> 00:17:19,256
输入正确信息了

555
00:17:20,056 --> 00:17:22,415
但如果你没有使用

556
00:17:22,415 --> 00:17:23,976
通用链接 或者

557
00:17:23,976 --> 00:17:25,106
你认为这样做没有意义

558
00:17:25,106 --> 00:17:26,846
也不用担心

559
00:17:27,425 --> 00:17:29,126
我们有一个很棒的技巧

560
00:17:29,386 --> 00:17:30,506
能够让你的 App 和网站

561
00:17:30,506 --> 00:17:31,766
建立强力联系

562
00:17:31,766 --> 00:17:32,586
我现在就带大家

563
00:17:32,586 --> 00:17:32,976
看看怎么做

564
00:17:38,056 --> 00:17:39,686
这个图标中 左边是

565
00:17:39,686 --> 00:17:40,026
你的 App

566
00:17:40,226 --> 00:17:41,366
右边是你的网站服务器

567
00:17:41,366 --> 00:17:42,426
或者你的后端

568
00:17:43,266 --> 00:17:44,866
我们的目标是让你的 App

569
00:17:45,816 --> 00:17:47,786
通过签名认证

570
00:17:48,156 --> 00:17:51,096
指出哪个或哪些网站

571
00:17:51,096 --> 00:17:51,986
和它有关

572
00:17:52,926 --> 00:17:54,016
只要用户安装了这个 App

573
00:17:54,016 --> 00:17:55,956
或者 iOS 安装了这个 App 的更新

574
00:17:55,986 --> 00:17:58,216
iOS 就会去

575
00:17:58,356 --> 00:18:00,636
通过一个特定的文件路径

576
00:17:58,356 --> 00:18:00,636
通过一个特定的文件路径

577
00:18:00,636 --> 00:18:03,576
检查那个栏的名称

578
00:18:03,576 --> 00:18:04,276
查找某些信息

579
00:18:05,576 --> 00:18:07,696
如果你不熟悉这个“.well-known”目录

580
00:18:07,696 --> 00:18:09,396
没关系 其实它就是一个

581
00:18:09,396 --> 00:18:10,546
储存文件挖掘信息的地方

582
00:18:10,546 --> 00:18:12,416
就像我接下来

583
00:18:12,416 --> 00:18:13,376
要介绍给你们的这个

584
00:18:13,376 --> 00:18:13,676
文件

585
00:18:13,676 --> 00:18:15,146
apple-app-site-association

586
00:18:16,376 --> 00:18:18,896
iOS 只会通过 HTTPS

587
00:18:18,896 --> 00:18:22,026
这个安全链接

588
00:18:22,026 --> 00:18:22,766
来试图获取这个文件

589
00:18:26,356 --> 00:18:28,226
作为这个请求的回应

590
00:18:28,716 --> 00:18:30,996
你的网站可以发回一个 JSON

591
00:18:30,996 --> 00:18:31,616
响应

592
00:18:32,346 --> 00:18:33,846
如果这个 JSON 响应

593
00:18:33,886 --> 00:18:35,606
格式正确 它就会说

594
00:18:35,606 --> 00:18:37,766
这里是与我有关的

595
00:18:37,936 --> 00:18:39,116
App 的列表

596
00:18:39,646 --> 00:18:44,116
如果这个 App 指向这个网站

597
00:18:44,116 --> 00:18:45,896
而这个网站也

598
00:18:45,896 --> 00:18:47,656
指向这个 App

599
00:18:48,136 --> 00:18:49,756
我们就有了一个安全的双向链接

600
00:18:50,396 --> 00:18:52,546
为了把我给大家讲的东西

601
00:18:52,546 --> 00:18:54,286
付诸实践

602
00:18:54,796 --> 00:18:56,416
特别是要做你的 App

603
00:18:56,416 --> 00:18:58,296
和你的网站之间

604
00:18:58,296 --> 00:19:00,366
建立安全的联系

605
00:18:58,296 --> 00:19:00,366
建立安全的联系

606
00:19:00,366 --> 00:19:02,216
我将请我的同事

607
00:19:02,216 --> 00:19:04,036
Maureen Daum 上台

608
00:19:04,036 --> 00:19:04,676
为大家做演示

609
00:19:05,346 --> 00:19:05,626
Maureen

610
00:19:07,516 --> 00:19:12,876
[掌声]

611
00:19:13,376 --> 00:19:14,396
&gt;&gt; 谢谢你 Ricky

612
00:19:16,396 --> 00:19:18,786
现在我有 Shiny 这个 App

613
00:19:19,006 --> 00:19:20,896
我们还没有在上面使用

614
00:19:20,896 --> 00:19:23,186
密码自动

615
00:19:23,806 --> 00:19:23,873
填充 

616
00:19:24,076 --> 00:19:25,546
当我点按用户名

617
00:19:25,586 --> 00:19:28,566
栏时 iOS 就自动

618
00:19:28,566 --> 00:19:30,606
检测到这是

619
00:19:30,606 --> 00:19:31,486
用户名栏

620
00:19:31,486 --> 00:19:33,316
然后它就会自然地给我们

621
00:19:33,316 --> 00:19:35,516
密码自动填充 QuickType 栏

622
00:19:35,516 --> 00:19:36,846
谢谢

623
00:19:37,356 --> 00:19:38,996
那么现在 用户们

624
00:19:38,996 --> 00:19:41,056
如果不记得自己的身份信息了

625
00:19:41,056 --> 00:19:42,336
他们就可以点按钥匙图标

626
00:19:42,866 --> 00:19:45,636
使用 Touch ID 进行认证

627
00:19:45,636 --> 00:19:47,326
查找正确的身份信息

628
00:19:47,326 --> 00:19:48,556
找到了

629
00:19:48,556 --> 00:19:51,416
这对那些记不清

630
00:19:51,416 --> 00:19:52,976
自己身份信息的用户来说

631
00:19:52,976 --> 00:19:54,886
是很棒的体验

632
00:19:55,446 --> 00:19:56,986
但我很想让他们

633
00:19:56,986 --> 00:19:59,086
登录的过程变得更简单

634
00:19:59,086 --> 00:20:01,136
让他们的身份信息

635
00:19:59,086 --> 00:20:01,136
让他们的身份信息

636
00:20:01,136 --> 00:20:03,906
直接显示在 QuickType

637
00:20:03,906 --> 00:20:04,176
栏上

638
00:20:04,316 --> 00:20:06,796
我在这个演示中要做

639
00:20:06,796 --> 00:20:07,426
两件事

640
00:20:08,016 --> 00:20:10,096
第一件事是要保证

641
00:20:10,096 --> 00:20:11,806
我们能得到这个密码 QuickType 栏

642
00:20:11,836 --> 00:20:13,876
而不是只能依靠

643
00:20:13,876 --> 00:20:14,316
启发式算法

644
00:20:14,316 --> 00:20:16,456
第二件事是要保证

645
00:20:16,456 --> 00:20:17,826
QuickType 栏上的身份信息

646
00:20:17,826 --> 00:20:18,556
是正确的

647
00:20:19,086 --> 00:20:20,406
我们先来做第一步

648
00:20:20,886 --> 00:20:22,416
保证我们能够得到

649
00:20:22,416 --> 00:20:23,046
身份信息

650
00:20:23,656 --> 00:20:25,576
要做到这一点

651
00:20:25,576 --> 00:20:27,166
我要把用户名和密码栏

652
00:20:27,556 --> 00:20:28,746
与正确的内容类型联系起来

653
00:20:28,846 --> 00:20:30,976
这里是用户名

654
00:20:31,056 --> 00:20:33,126
我已经把内容类型

655
00:20:33,126 --> 00:20:35,336
设定为电子邮件地址

656
00:20:35,336 --> 00:20:37,106
因为一些用户名就是

657
00:20:37,106 --> 00:20:37,886
电子邮件地址

658
00:20:38,496 --> 00:20:39,716
但如果我把这个换成

659
00:20:39,716 --> 00:20:41,086
用户名 就在最下面

660
00:20:41,086 --> 00:20:43,216
我可以把键盘类型

661
00:20:43,216 --> 00:20:44,646
设定成“Email Address（电子邮件地址）”

662
00:20:45,286 --> 00:20:46,736
在这里找到键盘类型

663
00:20:46,736 --> 00:20:49,106
然后把它设成电子邮件

664
00:20:49,626 --> 00:20:51,566
现在如果用户

665
00:20:51,566 --> 00:20:53,276
输入用户名 他们仍然会

666
00:20:53,276 --> 00:20:54,406
获取正确的键盘

667
00:20:55,356 --> 00:20:57,006
现在我要去把密码

668
00:20:57,056 --> 00:20:58,576
的内容类型设定成

669
00:20:58,576 --> 00:21:00,326
“Password（密码）” 就在最

670
00:20:58,576 --> 00:21:00,326
“Password（密码）” 就在最

671
00:21:00,326 --> 00:21:00,756
下面 

672
00:21:02,226 --> 00:21:05,106
我再次运行一遍

673
00:21:05,106 --> 00:21:06,736
以证实我们仍然可以让

674
00:21:06,736 --> 00:21:08,206
QuickType 栏出现

675
00:21:08,696 --> 00:21:10,166
我们不指望有任何变化

676
00:21:10,166 --> 00:21:12,596
因为 iOS 已经

677
00:21:12,596 --> 00:21:13,416
检测到了

678
00:21:13,416 --> 00:21:14,506
但确认一下也好

679
00:21:15,906 --> 00:21:18,816
现在 登录页面出现之后

680
00:21:18,816 --> 00:21:22,276
我们可以点进去

681
00:21:22,336 --> 00:21:23,566
仍然会有 QuickType 栏

682
00:21:23,716 --> 00:21:24,456
这很棒

683
00:21:25,146 --> 00:21:27,476
现在要让身份信息出现

684
00:21:27,476 --> 00:21:29,746
我们需要告诉 iOS

685
00:21:30,486 --> 00:21:32,366
我们的 App 和网站是

686
00:21:32,456 --> 00:21:33,166
关联的

687
00:21:33,586 --> 00:21:35,496
要做到这一点 我们要用到

688
00:21:35,496 --> 00:21:37,776
网络认证关联

689
00:21:37,776 --> 00:21:38,606
域名服务

690
00:21:39,646 --> 00:21:42,326
要做到这一点 首先

691
00:21:42,326 --> 00:21:45,616
要让我们的 App 告诉 iOS

692
00:21:45,616 --> 00:21:47,406
哪些网站与它关联

693
00:21:48,296 --> 00:21:49,736
我们来到

694
00:21:49,736 --> 00:21:52,416
App 里的“Capabilities（能力）”标签页

695
00:21:52,416 --> 00:21:54,336
打开“Associated Domains（关联域名）”

696
00:21:55,706 --> 00:21:58,726
现在我就能添加

697
00:21:58,726 --> 00:22:01,456
与我的 App 关联的

698
00:21:58,726 --> 00:22:01,456
与我的 App 关联的

699
00:22:01,456 --> 00:22:03,256
域名了

700
00:22:03,256 --> 00:22:05,136
点按加号

701
00:22:05,136 --> 00:22:08,866
Xcode 给出一个占位

702
00:22:08,866 --> 00:22:09,266
域名

703
00:22:09,626 --> 00:22:11,836
它有“webcredentials”的前缀

704
00:22:11,836 --> 00:22:13,766
因为我们正在使用

705
00:22:13,766 --> 00:22:14,976
网站认证服务

706
00:22:15,526 --> 00:22:17,176
然后你可以把

707
00:22:17,246 --> 00:22:19,886
example.com 替换成你的 App

708
00:22:19,886 --> 00:22:21,746
关联的域名

709
00:22:21,746 --> 00:22:23,426
我的 App 关联的域名是

710
00:22:23,496 --> 00:22:26,206
Shiny.example.com

711
00:22:27,096 --> 00:22:29,676
你添加一个域名时 

712
00:22:29,676 --> 00:22:30,776
Xcode 会做两件事

713
00:22:31,486 --> 00:22:33,196
首先是在你的 Entitlement 文件中

714
00:22:33,196 --> 00:22:34,976
添加一个 Entitlement

715
00:22:34,976 --> 00:22:36,776
这样在你的 App 被安装后

716
00:22:36,776 --> 00:22:39,256
iOS 就会查看这一系列域名

717
00:22:39,256 --> 00:22:41,316
进入每一个域名

718
00:22:41,316 --> 00:22:42,766
去查找

719
00:22:43,076 --> 00:22:45,036
apple-app-site-association 文件

720
00:22:45,886 --> 00:22:47,586
它做的第二件事是

721
00:22:47,586 --> 00:22:49,806
确保你的 App 的

722
00:22:49,806 --> 00:22:51,586
关联域名是打开的

723
00:22:52,466 --> 00:22:54,606
如果你的 App ID 没有

724
00:22:54,606 --> 00:22:56,246
打开这个 

725
00:22:56,246 --> 00:22:57,966
你在这第二条旁边就看不到

726
00:22:57,966 --> 00:22:58,336
对勾

727
00:22:58,486 --> 00:23:00,106
而是会有一个叉

728
00:22:58,486 --> 00:23:00,106
而是会有一个叉

729
00:23:00,736 --> 00:23:02,466
如果你看到了一个叉

730
00:23:02,466 --> 00:23:03,836
也很容易改正

731
00:23:04,326 --> 00:23:05,496
你只需要进入

732
00:23:05,496 --> 00:23:07,496
Developer Portal 选择你的

733
00:23:07,676 --> 00:23:09,826
App ID 然后打开 Associated

734
00:23:09,826 --> 00:23:10,366
Domains

735
00:23:10,916 --> 00:23:12,286
然后就搞定了

736
00:23:12,986 --> 00:23:15,506
我们做到这些

737
00:23:15,506 --> 00:23:18,976
就能够告诉 iOS 我们的 App

738
00:23:18,976 --> 00:23:20,616
与我们的网站的关联了

739
00:23:20,616 --> 00:23:22,586
现在我们需要获得网站

740
00:23:22,586 --> 00:23:25,206
的同意 然后指回我们的 App

741
00:23:25,206 --> 00:23:26,786
这样 iOS 就能够建立

742
00:23:26,786 --> 00:23:28,286
双向链接了

743
00:23:28,726 --> 00:23:31,306
要做到这一点 我要建立一个

744
00:23:31,306 --> 00:23:33,446
apple-app-site-association 文件

745
00:23:34,566 --> 00:23:37,106
这里的 JSON

746
00:23:37,106 --> 00:23:39,496
指明我们正在使用

747
00:23:39,496 --> 00:23:41,326
认证服务

748
00:23:41,326 --> 00:23:43,196
这与我们在 Xcode 中见到的相符

749
00:23:44,036 --> 00:23:45,736
在这个字典里面

750
00:23:45,736 --> 00:23:48,296
是我们的网站关联的

751
00:23:48,296 --> 00:23:50,216
所有 App 的

752
00:23:50,216 --> 00:23:50,436
App ID 列表

753
00:23:51,126 --> 00:23:52,876
我的网站就只与 Shiny 这一个 App

754
00:23:52,876 --> 00:23:54,196
相关联

755
00:23:54,346 --> 00:23:56,506
所以它的 App ID 包括

756
00:23:56,506 --> 00:23:58,886
团队标识符 你可以在

757
00:23:58,886 --> 00:24:00,496
Developer Portal 里找到它

758
00:23:58,886 --> 00:24:00,496
Developer Portal 里找到它

759
00:24:01,106 --> 00:24:03,446
后面是一个英文句号 再后面是你的

760
00:24:03,446 --> 00:24:04,776
数据包标识符

761
00:24:05,676 --> 00:24:06,756
我们把它存储一下

762
00:24:07,196 --> 00:24:08,956
现在要把它放在我的

763
00:24:08,956 --> 00:24:09,776
服务器上

764
00:24:10,176 --> 00:24:11,946
这一步对每个人来说

765
00:24:11,946 --> 00:24:13,296
可能略有不同 取决于

766
00:24:13,296 --> 00:24:14,566
你们各自网站的设置

767
00:24:15,146 --> 00:24:17,386
我要用 SCP 把它

768
00:24:17,386 --> 00:24:18,736
复制到这里

769
00:24:18,876 --> 00:24:20,386
到 well-known 子目录里

770
00:24:21,336 --> 00:24:22,446
好了 出现了

771
00:24:22,446 --> 00:24:24,066
为了保证生效

772
00:24:24,066 --> 00:24:27,546
我要去 Safari 里

773
00:24:27,546 --> 00:24:29,716
访问这个 iOS 即将要

774
00:24:29,716 --> 00:24:30,246
查看的网站

775
00:24:30,756 --> 00:24:33,006
网址是

776
00:24:33,006 --> 00:24:37,036
https://shiny.example.com/.well-known/

777
00:24:37,556 --> 00:24:39,726
apple-app-site-association/

778
00:24:39,726 --> 00:24:42,176
进去后 很好

779
00:24:42,176 --> 00:24:45,216
看到 JSON 出现了

780
00:24:45,376 --> 00:24:47,106
没有看到智能引号

781
00:24:47,106 --> 00:24:48,866
那会让 JSON

782
00:24:48,866 --> 00:24:50,666
形式出错

783
00:24:50,786 --> 00:24:51,786
那样就没有效果了

784
00:24:52,486 --> 00:24:54,136
看上去我们没出什么问题

785
00:24:54,756 --> 00:24:57,136
我们已经设置好 App 让它指向

786
00:24:57,136 --> 00:24:57,806
我们的网站

787
00:24:58,186 --> 00:25:00,696
网站也指向 App

788
00:24:58,186 --> 00:25:00,696
网站也指向 App

789
00:25:00,696 --> 00:25:03,196
我们再运行一遍

790
00:25:03,196 --> 00:25:04,696
就会看到我们需要的身份信息

791
00:25:05,116 --> 00:25:06,936
出现在 QuickType 栏了

792
00:25:07,746 --> 00:25:09,006
你们的 App 测试时

793
00:25:09,006 --> 00:25:10,966
记住要在设备上测试

794
00:25:11,026 --> 00:25:13,156
因为 Associated Domains

795
00:25:13,156 --> 00:25:14,916
是设备独有

796
00:25:14,916 --> 00:25:15,376
的功能

797
00:25:15,976 --> 00:25:18,836
现在我们回到 App 上面

798
00:25:18,836 --> 00:25:20,366
我点按用户名栏

799
00:25:20,366 --> 00:25:22,396
好的 我们需要的身份信息

800
00:25:22,396 --> 00:25:23,866
已经出现在 QuickType 栏

801
00:25:23,896 --> 00:25:24,196
上面了

802
00:25:24,726 --> 00:25:27,536
用户可以点按 填入

803
00:25:27,536 --> 00:25:30,196
再次点按 然后他们

804
00:25:30,196 --> 00:25:31,596
就能看到这个可爱的小狗了

805
00:25:32,806 --> 00:25:34,116
要保证密码自动填充

806
00:25:34,116 --> 00:25:36,346
在你的 App 上正常工作

807
00:25:36,346 --> 00:25:37,966
就这么简单

808
00:25:37,966 --> 00:25:39,376
你的用户名需要的

809
00:25:39,376 --> 00:25:41,576
身份信息会在 QuickType 栏中出现

810
00:25:41,576 --> 00:25:43,546
让他们得以非常快速地

811
00:25:43,546 --> 00:25:44,386
登入网站

812
00:25:45,066 --> 00:25:46,376
现在把时间交还给 Ricky

813
00:25:46,376 --> 00:25:47,436
继续为大家讲解

814
00:25:48,516 --> 00:25:54,756
[掌声]

815
00:25:55,256 --> 00:25:56,016
&gt;&gt; 谢谢 Maureen

816
00:25:56,156 --> 00:25:57,176
这真的很酷

817
00:25:59,696 --> 00:26:01,916
Maureen 刚才为大家展示了

818
00:25:59,696 --> 00:26:01,916
Maureen 刚才为大家展示了

819
00:26:01,986 --> 00:26:04,226
在 Xcode 里设置文本内容类型

820
00:26:04,226 --> 00:26:06,406
是多么简单

821
00:26:08,816 --> 00:26:11,686
她还展示了

822
00:26:11,686 --> 00:26:13,666
如何在 App 里的功能表中

823
00:26:13,666 --> 00:26:15,706
加入网络认证关联

824
00:26:15,736 --> 00:26:16,526
域名功能

825
00:26:17,306 --> 00:26:18,296
然后她还讲到这个功能

826
00:26:18,296 --> 00:26:19,836
是签入你 App 的

827
00:26:19,836 --> 00:26:20,646
二进制文件里面的

828
00:26:21,226 --> 00:26:23,286
如果你们需要

829
00:26:23,286 --> 00:26:25,056
在 Developer Portal 里面

830
00:26:25,056 --> 00:26:26,696
启用关联域名特性

831
00:26:26,696 --> 00:26:27,666
这很容易找到

832
00:26:27,916 --> 00:26:29,366
我来演示一下

833
00:26:29,916 --> 00:26:31,746
首先 进入

834
00:26:31,746 --> 00:26:32,466
Developer Portal

835
00:26:33,376 --> 00:26:35,186
然后你可以点按

836
00:26:35,186 --> 00:26:37,256
“Certificates Identifiers &

837
00:26:37,256 --> 00:26:39,356
Profiles” 侧边栏或者

838
00:26:39,576 --> 00:26:40,736
主界面都可以

839
00:26:41,866 --> 00:26:44,066
然后你可以选择

840
00:26:44,066 --> 00:26:45,726
App ID 然后查看列表中的

841
00:26:45,726 --> 00:26:47,336
与你的开发者账户关联的

842
00:26:47,336 --> 00:26:48,206
App ID

843
00:26:48,206 --> 00:26:50,746
然后 如果你选择了

844
00:26:50,886 --> 00:26:51,686
你想更改的 App ID

845
00:26:51,686 --> 00:26:53,636
你就会看到

846
00:26:53,636 --> 00:26:55,246
可以为你的 App 启动的

847
00:26:55,246 --> 00:26:56,516
服务列表

848
00:26:56,516 --> 00:26:57,536
然后你可以点按

849
00:26:57,536 --> 00:26:59,806
“Edit”按钮 再把

850
00:26:59,806 --> 00:27:01,366
“Associated Domains”复选框打勾

851
00:26:59,806 --> 00:27:01,366
“Associated Domains”复选框打勾

852
00:27:01,966 --> 00:27:04,386
然后就完成了

853
00:27:04,646 --> 00:27:06,866
大家也看到了

854
00:27:06,866 --> 00:27:07,566
建立一个可以

855
00:27:07,566 --> 00:27:09,806
让网站指回 App 的

856
00:27:09,806 --> 00:27:12,276
apple-app-site-association

857
00:27:12,276 --> 00:27:12,876
非常简单

858
00:27:13,436 --> 00:27:14,836
只需几行 JSON 就能完成

859
00:27:16,816 --> 00:27:19,816
然后 Maureen 把这个 JSON 文件

860
00:27:19,816 --> 00:27:21,596
上传到了她的网络服务器根目录下的

861
00:27:21,656 --> 00:27:23,516
/.well-known/ 标准目录里面

862
00:27:26,236 --> 00:27:27,586
你也可以把这个文件直接放在

863
00:27:27,586 --> 00:27:29,696
服务器的根目录下

864
00:27:29,696 --> 00:27:30,996
但我们推荐使用

865
00:27:31,026 --> 00:27:31,416
/.well-known/ 目录

866
00:27:31,976 --> 00:27:34,646
如果在你第一次尝试的时候

867
00:27:34,646 --> 00:27:35,866
这一链接没有起作用

868
00:27:36,376 --> 00:27:38,286
如果你构建并运行你的 App

869
00:27:38,286 --> 00:27:39,126
却没有在 QuickType 栏中

870
00:27:39,126 --> 00:27:40,336
看到身份信息的话

871
00:27:40,336 --> 00:27:42,236
我们有一些步骤

872
00:27:42,236 --> 00:27:43,336
帮助你解决这个 Bug

873
00:27:43,806 --> 00:27:49,576
SWCD Daemon 程序会在你

874
00:27:49,576 --> 00:27:50,836
每一次运行你的 App

875
00:27:50,836 --> 00:27:52,376
并在设备上请求

876
00:27:52,516 --> 00:27:53,976
在你的 App 和网站之间

877
00:27:53,976 --> 00:27:56,456
建立联系的时候

878
00:27:56,456 --> 00:27:57,696
记录相关信息

879
00:27:58,806 --> 00:28:00,046
所以如果出现问题的话

880
00:27:58,806 --> 00:28:00,046
所以如果出现问题的话

881
00:28:00,316 --> 00:28:02,376
插入你的设备

882
00:28:02,376 --> 00:28:04,996
在侧边栏打开控制台 

883
00:28:04,996 --> 00:28:06,386
选择设备 查找

884
00:28:06,386 --> 00:28:07,866
SWCD 的日志就可以了

885
00:28:08,586 --> 00:28:10,936
在幻灯片上

886
00:28:10,936 --> 00:28:11,826
你可以看到

887
00:28:11,826 --> 00:28:13,156
我在 Xcode 里不小心把

888
00:28:13,156 --> 00:28:15,536
wrong.example.com

889
00:28:15,536 --> 00:28:17,096
当成了我的

890
00:28:17,136 --> 00:28:17,526
关联域名

891
00:28:18,096 --> 00:28:19,076
它找不到

892
00:28:19,076 --> 00:28:20,616
apple-app-site-association 文件

893
00:28:22,056 --> 00:28:23,616
但只要我把域名修改成

894
00:28:23,616 --> 00:28:26,676
shiny.example.com 

895
00:28:26,676 --> 00:28:27,586
iOS 就能够找到

896
00:28:27,676 --> 00:28:29,216
apple-app-site-association 文件了

897
00:28:29,656 --> 00:28:31,926
验证双向链接

898
00:28:31,926 --> 00:28:34,496
然后 iOS 就能够让

899
00:28:34,496 --> 00:28:35,956
你的用户需要的

900
00:28:35,956 --> 00:28:37,066
正确的身份信息

901
00:28:37,546 --> 00:28:38,836
直接出现在 QuickType 栏里了

902
00:28:39,316 --> 00:28:44,036
现在你已经差不多

903
00:28:44,036 --> 00:28:45,886
完全了解了

904
00:28:45,886 --> 00:28:47,416
该如何让

905
00:28:47,416 --> 00:28:49,436
密码自动填充顺利地

906
00:28:49,436 --> 00:28:51,306
在你的 App 里工作

907
00:28:51,306 --> 00:28:52,546
我希望这能够成为

908
00:28:52,546 --> 00:28:54,076
你们想使用的功能里面

909
00:28:54,366 --> 00:28:55,426
最容易掌握

910
00:28:55,426 --> 00:28:55,866
的一个

911
00:28:57,016 --> 00:28:58,956
但这结束之前

912
00:28:58,956 --> 00:29:00,086
我还想快速讲一下

913
00:28:58,956 --> 00:29:00,086
我还想快速讲一下

914
00:29:00,086 --> 00:29:01,226
关于认证和密码的

915
00:29:01,226 --> 00:29:02,856
一些主题

916
00:29:03,376 --> 00:29:04,166
既然大家来到这里

917
00:29:04,166 --> 00:29:05,346
想必对这些主题也很感兴趣

918
00:29:06,006 --> 00:29:09,676
第一是关于在 iOS 里

919
00:29:09,816 --> 00:29:11,966
查看 存储和添加

920
00:29:11,966 --> 00:29:12,686
密码的问题

921
00:29:14,266 --> 00:29:16,126
除了密码自动填充

922
00:29:16,126 --> 00:29:17,786
今年我们还做了另一个

923
00:29:17,786 --> 00:29:18,816
与 iCloud 钥匙串相关的改进

924
00:29:19,326 --> 00:29:21,836
那就是把之前在设置里的

925
00:29:21,836 --> 00:29:23,146
密码列表向上

926
00:29:23,146 --> 00:29:25,156
迁移到了顶层

927
00:29:25,156 --> 00:29:27,136
一个更显眼的位置

928
00:29:27,136 --> 00:29:28,946
叫做 账户与密码

929
00:29:30,126 --> 00:29:33,006
在这个目录下面

930
00:29:33,006 --> 00:29:34,346
我们可以使用

931
00:29:34,346 --> 00:29:36,826
Touch ID 进行认证

932
00:29:36,826 --> 00:29:38,236
查看安全密码列表

933
00:29:38,236 --> 00:29:39,696
还可以添加

934
00:29:39,696 --> 00:29:40,286
新密码

935
00:29:41,566 --> 00:29:43,166
在你们的 App 全部

936
00:29:43,166 --> 00:29:44,566
采用了密码自动填充后

937
00:29:44,566 --> 00:29:46,266
用户也就没有理由

938
00:29:46,266 --> 00:29:47,836
再到这里来

939
00:29:47,836 --> 00:29:49,446
拷贝粘贴

940
00:29:49,446 --> 00:29:49,856
密码了

941
00:29:50,776 --> 00:29:51,816
但它仍然是有用的

942
00:29:51,816 --> 00:29:53,436
比如当你在朋友的设备上

943
00:29:53,436 --> 00:29:54,946
填写你的某个密码

944
00:29:54,996 --> 00:29:56,096
你没有 iCloud 钥匙串

945
00:29:56,096 --> 00:29:56,536
就可以在这里查到

946
00:29:57,116 --> 00:30:01,706
好了 我们一直在讲解

947
00:29:57,116 --> 00:30:01,706
好了 我们一直在讲解

948
00:30:01,706 --> 00:30:03,226
一种特定形式的认证

949
00:30:03,226 --> 00:30:05,546
也就是你的 App

950
00:30:05,546 --> 00:30:06,866
和你的网站 它们的实体

951
00:30:06,866 --> 00:30:07,676
是同一个

952
00:30:07,676 --> 00:30:08,846
你要登入你或者你的公司

953
00:30:08,846 --> 00:30:10,536
所拥有的一项服务

954
00:30:11,506 --> 00:30:12,236
但我知道

955
00:30:12,236 --> 00:30:13,746
在座的一些人

956
00:30:14,196 --> 00:30:16,316
还需要另一种认证形式

957
00:30:16,316 --> 00:30:17,786
也就是登入第三方服务

958
00:30:17,786 --> 00:30:19,536
比如某个流行的

959
00:30:21,336 --> 00:30:22,186
社交网络 

960
00:30:22,186 --> 00:30:23,266
iOS 为在社交网络上

961
00:30:23,266 --> 00:30:25,046
使用类似 O-Off 的技术

962
00:30:25,046 --> 00:30:27,386
进行认证提供的解决方案

963
00:30:27,446 --> 00:30:29,766
Safari 视图控制器

964
00:30:30,436 --> 00:30:32,146
这样做的原因是

965
00:30:32,146 --> 00:30:33,366
Safari 视图控制器具备

966
00:30:33,366 --> 00:30:35,186
Safari 的自动填充功能

967
00:30:35,186 --> 00:30:36,226
这让登录变得

968
00:30:36,226 --> 00:30:36,846
很容易

969
00:30:37,506 --> 00:30:39,436
与此同时 Safari 视图控制器

970
00:30:39,436 --> 00:30:41,496
还是隔绝第三方 App 的沙箱技术

971
00:30:41,496 --> 00:30:43,706
这会给被认证的服务

972
00:30:43,706 --> 00:30:44,486
一种保障

973
00:30:44,486 --> 00:30:46,186
保证了

974
00:30:46,186 --> 00:30:47,796
密码的

975
00:30:47,796 --> 00:30:48,496
安全

976
00:30:49,136 --> 00:30:52,496
在 iOS 11里面  Safari 视图控制器

977
00:30:52,496 --> 00:30:53,396
得到了更新

978
00:30:54,196 --> 00:30:56,076
具有了新的外观

979
00:30:56,076 --> 00:30:57,926
你可以定制外观 让它

980
00:30:57,926 --> 00:30:59,386
看上去更像你 App 的一部分

981
00:31:00,336 --> 00:31:02,266
大家看到这个演示用 App

982
00:31:02,426 --> 00:31:03,456
它上面的 Safari 视图

983
00:31:03,456 --> 00:31:04,936
控制器的颜色是

984
00:31:04,936 --> 00:31:05,126
蓝白相间的

985
00:31:05,576 --> 00:31:06,506
它看上去不像

986
00:31:06,506 --> 00:31:06,936
Safari 的一部分

987
00:31:06,966 --> 00:31:08,356
而是像这个 App 本身

988
00:31:09,006 --> 00:31:11,006
同时 这个 App 还

989
00:31:11,476 --> 00:31:12,966
把Safari 视图控制器

990
00:31:12,966 --> 00:31:14,246
左上角的按键

991
00:31:14,246 --> 00:31:16,126
改成了“Cancel” 而不是原来的

992
00:31:16,126 --> 00:31:16,516
“Done”

993
00:31:17,436 --> 00:31:18,396
因为在 Safari 视图控制器

994
00:31:18,396 --> 00:31:19,756
被用于认证时

995
00:31:19,756 --> 00:31:21,666
关闭 Safari 视图

996
00:31:21,666 --> 00:31:22,736
控制器就

997
00:31:22,736 --> 00:31:24,536
意味着取消

998
00:31:24,536 --> 00:31:24,746
登录

999
00:31:25,086 --> 00:31:26,266
而不是代表成功地

1000
00:31:26,266 --> 00:31:27,026
完成了某件事

1001
00:31:27,026 --> 00:31:30,246
所以用“Done”就没有意义了

1002
00:31:30,416 --> 00:31:31,616
要了解更多关于

1003
00:31:31,616 --> 00:31:33,566
Safari 视图控制器

1004
00:31:33,566 --> 00:31:35,136
自定义的问题 以及如何执行

1005
00:31:35,136 --> 00:31:36,446
我刚才演示的这些行为

1006
00:31:36,446 --> 00:31:37,546
请大家务必去参加

1007
00:31:37,546 --> 00:31:39,126
明天上午 10 点的会议

1008
00:31:39,466 --> 00:31:40,826
“What’s New in Safari View Controller

1009
00:31:40,826 --> 00:31:41,276
（Safari 视图控制器新内容）”

1010
00:31:41,816 --> 00:31:43,826
如果你想了解

1011
00:31:43,826 --> 00:31:45,636
如何使用 Safari 视图控制器

1012
00:31:45,636 --> 00:31:47,376
执行一个 O-OFF 流程

1013
00:31:47,376 --> 00:31:49,386
你可以回顾

1014
00:31:49,386 --> 00:31:51,056
2015 年的会议

1015
00:31:51,106 --> 00:31:52,176
“Introducing Safari View Controller

1016
00:31:52,176 --> 00:31:52,596
（Safari 视图控制器简介）”

1017
00:31:53,836 --> 00:31:54,766
你甚至可能不用

1018
00:31:54,766 --> 00:31:55,816
亲自去执行 Safari 视图

1019
00:31:55,816 --> 00:31:57,486
控制器来实现 O-Off

1020
00:31:57,786 --> 00:31:59,246
实际上它可能作为

1021
00:31:59,246 --> 00:32:00,666
你为了认证所使用的 SDK

1022
00:31:59,246 --> 00:32:00,666
你为了认证所使用的 SDK

1023
00:32:00,666 --> 00:32:01,486
的一部分免费实现

1024
00:32:01,486 --> 00:32:02,666
这确实值得一提

1025
00:32:04,276 --> 00:32:04,866
好了

1026
00:32:05,376 --> 00:32:07,866
咱们总结一下今天

1027
00:32:07,866 --> 00:32:08,686
讲解的内容

1028
00:32:11,696 --> 00:32:13,916
登录时带来的麻烦

1029
00:32:13,916 --> 00:32:15,336
可能会让用户卸载

1030
00:32:15,336 --> 00:32:15,546
你的 App

1031
00:32:16,056 --> 00:32:16,756
我们不希望这类事情发生

1032
00:32:16,976 --> 00:32:17,876
你的 App 特别棒

1033
00:32:17,876 --> 00:32:19,116
我们希望用户使用它们

1034
00:32:20,056 --> 00:32:21,826
幸好在 iOS 11 里

1035
00:32:22,156 --> 00:32:23,486
密码自动填充能够

1036
00:32:23,486 --> 00:32:23,766
派上用场

1037
00:32:24,526 --> 00:32:26,046
密码自动填充在很多 App 里

1038
00:32:26,046 --> 00:32:28,446
使用启发式算法

1039
00:32:28,446 --> 00:32:30,106
自动工作

1040
00:32:30,106 --> 00:32:31,336
你不用做任何改变

1041
00:32:31,866 --> 00:32:34,266
但为了给用户

1042
00:32:34,266 --> 00:32:36,176
最佳体验 并保证

1043
00:32:36,176 --> 00:32:37,786
现在和未来都会

1044
00:32:37,786 --> 00:32:39,736
有效 你还需要采取简单的

1045
00:32:39,736 --> 00:32:40,386
几步措施

1046
00:32:41,576 --> 00:32:44,386
首先在你的手机中

1047
00:32:44,386 --> 00:32:46,006
安装测试版 iOS 11

1048
00:32:46,006 --> 00:32:47,256
并运行你的 App 	

1049
00:32:47,256 --> 00:32:48,026
看看当前的状态

1050
00:32:49,416 --> 00:32:51,076
然后你可以采用

1051
00:32:51,076 --> 00:32:52,806
用户名与密码文本

1052
00:32:52,806 --> 00:32:53,616
内容类型

1053
00:32:54,376 --> 00:32:56,306
那会保证 即便

1054
00:32:56,426 --> 00:32:58,086
iOS 或者你的视图分层

1055
00:32:58,086 --> 00:32:59,426
在未来几年发生了变化

1056
00:32:59,816 --> 00:33:01,116
密码自动填充还是会有效

1057
00:32:59,816 --> 00:33:01,116
密码自动填充还是会有效

1058
00:33:02,156 --> 00:33:03,306
现在花 3 分钟做这件事

1059
00:33:03,306 --> 00:33:04,896
你就可能

1060
00:33:04,896 --> 00:33:06,136
在几年后避免了一个 Bug 出现的

1061
00:33:06,136 --> 00:33:06,286
可能性

1062
00:33:06,846 --> 00:33:09,846
最后 通过使用 

1063
00:33:09,846 --> 00:33:11,486
网络认证关联

1064
00:33:11,486 --> 00:33:13,586
域名服务 你可以在你的 App

1065
00:33:13,586 --> 00:33:15,576
和你的网站之间设置一个

1066
00:33:15,686 --> 00:33:16,516
紧密的双向链接

1067
00:33:16,516 --> 00:33:19,156
那会让 iOS 为

1068
00:33:19,436 --> 00:33:20,566
用户提供他们需要的

1069
00:33:20,566 --> 00:33:22,196
正确的身份信息

1070
00:33:22,196 --> 00:33:23,416
他们已经把这个信息

1071
00:33:23,416 --> 00:33:24,826
存储在 Safari 和

1072
00:33:24,826 --> 00:33:26,616
iCloud 钥匙串里 现在这些信息就能

1073
00:33:26,616 --> 00:33:28,486
直接出现在你 App 的键盘上了

1074
00:33:30,416 --> 00:33:32,336
如果你在今年夏天

1075
00:33:32,466 --> 00:33:34,056
使用密码自动填充的时候出现了

1076
00:33:34,056 --> 00:33:36,296
任何问题 你可以用

1077
00:33:36,336 --> 00:33:37,816
我刚才提过的方法

1078
00:33:37,816 --> 00:33:39,926
解决它们 并给我们发来

1079
00:33:39,926 --> 00:33:40,326
反馈

1080
00:33:40,556 --> 00:33:41,486
请记录 Bug

1081
00:33:42,326 --> 00:33:43,726
我们需要你们的帮助 以确保

1082
00:33:43,726 --> 00:33:45,096
用户在你们的 App 里

1083
00:33:45,096 --> 00:33:46,866
在现场所有人的 App 里

1084
00:33:46,866 --> 00:33:48,026
能得到最佳

1085
00:33:48,026 --> 00:33:48,286
体验

1086
00:33:49,516 --> 00:33:50,776
你们的反馈会对我们的工作

1087
00:33:50,776 --> 00:33:52,386
大有帮助

1088
00:33:54,586 --> 00:33:55,856
想了解关于

1089
00:33:55,856 --> 00:33:57,436
密码自动填充的更多信息

1090
00:33:57,436 --> 00:33:58,796
请参阅开发人员网站上的

1091
00:33:58,796 --> 00:33:59,596
这个网页

1092
00:34:00,136 --> 00:34:02,426
今年我们还有几场相关会议

1093
00:34:02,426 --> 00:34:03,236
都非常好

1094
00:34:04,006 --> 00:34:05,136
我刚才已经说过有

1095
00:34:05,136 --> 00:34:06,546
Safari 视图控制器演讲

1096
00:34:07,266 --> 00:34:10,166
周五早晨还有一场

1097
00:34:10,166 --> 00:34:11,356
讲的是让你 App 内的

1098
00:34:11,356 --> 00:34:12,876
键盘输入体验

1099
00:34:12,876 --> 00:34:13,996
变得更棒

1100
00:34:14,516 --> 00:34:15,536
建议大家都去看

1101
00:34:15,536 --> 00:34:16,806
好了

1102
00:34:17,096 --> 00:34:18,226
谢谢大家

1103
00:34:18,226 --> 00:34:19,985
祝大家享受你们的 WWDC 旅程

1104
00:34:21,516 --> 00:34:27,639
[掌声]
