1
00:00:07,516 --> 00:00:15,500
[掌声]

2
00:00:18,346 --> 00:00:19,436
&gt;&gt; 大家早上好

3
00:00:19,916 --> 00:00:22,256
欢迎大家在周五的凌晨

4
00:00:22,256 --> 00:00:23,386
来到 237 分会场

5
00:00:23,716 --> 00:00:25,086
我叫 Fredrik Olsson 

6
00:00:25,136 --> 00:00:26,396
我是 MapKit 团队的一名工程师

7
00:00:26,996 --> 00:00:28,916
今天我在这里

8
00:00:28,916 --> 00:00:30,286
想跟大家聊聊 Mapkit 的新鲜事

9
00:00:31,496 --> 00:00:33,376
很久之前

10
00:00:33,376 --> 00:00:35,476
我们就有了

11
00:00:35,476 --> 00:00:37,566
一般的 标准的地图

12
00:00:37,566 --> 00:00:39,476
也的确是不错的地图

13
00:00:39,736 --> 00:00:41,566
其道路网络

14
00:00:41,566 --> 00:00:42,346
利于导航

15
00:00:42,346 --> 00:00:43,896
你可根据自己的意愿

16
00:00:43,896 --> 00:00:44,886
来参考地图

17
00:00:45,376 --> 00:00:48,226
但有时地图应用程序

18
00:00:48,606 --> 00:00:51,446
上面的信息

19
00:00:51,486 --> 00:00:52,916
有些过于细致

20
00:00:52,916 --> 00:00:53,636
以至于你想突出显示一些信息

21
00:00:54,006 --> 00:00:56,896
就比如 Apple 地图

22
00:00:56,896 --> 00:00:58,996
我们打开公交模式的时候

23
00:00:58,996 --> 00:01:01,046
我们希望自己的线路可以突出显示

24
00:00:58,996 --> 00:01:01,046
我们希望自己的线路可以突出显示

25
00:01:01,046 --> 00:01:03,046
地图的其他信息

26
00:01:03,046 --> 00:01:05,495
可以淡去

27
00:01:05,495 --> 00:01:07,856
凸显出的信息

28
00:01:07,856 --> 00:01:09,246
能让用户第一时间

29
00:01:09,246 --> 00:01:09,686
看到最重要的东西

30
00:01:10,316 --> 00:01:14,246
新的 iOS 11 系统中

31
00:01:14,316 --> 00:01:16,626
提供了这种可淡去的标准地图

32
00:01:16,626 --> 00:01:18,706
对应用程序也做出了相同的改变

33
00:01:18,706 --> 00:01:20,746
所以你的信息可以

34
00:01:20,746 --> 00:01:22,796
在你的地图 你的应用程序中凸显出来

35
00:01:25,276 --> 00:01:28,756
这个地图不仅仅是地图

36
00:01:29,456 --> 00:01:30,816
我们还免费提供了

37
00:01:30,816 --> 00:01:32,966
一些系统控制

38
00:01:32,966 --> 00:01:34,696
就在地图上面

39
00:01:35,596 --> 00:01:37,536
你可以在左上角这里

40
00:01:37,536 --> 00:01:39,616
看到比例尺

41
00:01:39,616 --> 00:01:42,186
右上角

42
00:01:42,186 --> 00:01:43,016
是指南针

43
00:01:43,376 --> 00:01:46,376
右下角

44
00:01:46,376 --> 00:01:48,006
是一直可在

45
00:01:48,006 --> 00:01:50,796
应用程序界面使用的

46
00:01:51,036 --> 00:01:52,996
用户底部追踪栏项目

47
00:01:54,766 --> 00:01:57,546
这是个底部栏

48
00:01:57,546 --> 00:01:58,736
意味着

49
00:01:58,736 --> 00:02:01,496
你只能在

50
00:01:58,736 --> 00:02:01,496
你只能在

51
00:02:01,496 --> 00:02:04,296
栏中使用

52
00:02:04,296 --> 00:02:04,916
比如导航栏和工具栏

53
00:02:05,396 --> 00:02:07,326
如果

54
00:02:07,566 --> 00:02:10,126
你想把它挪到别的地方

55
00:02:10,366 --> 00:02:11,886
那么你只能自己来

56
00:02:12,216 --> 00:02:17,206
在 iOS 11 中 我们改进了这个问题

57
00:02:17,206 --> 00:02:18,836
我们提供了合适的

58
00:02:18,836 --> 00:02:20,616
用户追踪按钮

59
00:02:20,616 --> 00:02:22,996
是个视图子类

60
00:02:22,996 --> 00:02:26,516
这样的话

61
00:02:27,766 --> 00:02:29,866
只要利于应用程序的使用

62
00:02:29,866 --> 00:02:30,856
你就可以随时随地使用它

63
00:02:32,256 --> 00:02:33,916
当我们提供了用户追踪按钮之后

64
00:02:33,916 --> 00:02:36,436
我们就在想

65
00:02:36,436 --> 00:02:37,756
为什么不多提供一些呢

66
00:02:37,756 --> 00:02:40,676
所以

67
00:02:40,676 --> 00:02:42,256
我们把指南针按钮也放了上来

68
00:02:43,706 --> 00:02:46,076
指南针按钮放在

69
00:02:46,076 --> 00:02:48,546
标准应用程序的

70
00:02:48,546 --> 00:02:48,986
右上角

71
00:02:49,506 --> 00:02:52,456
这是一个用户界面视图按钮

72
00:02:52,456 --> 00:02:54,056
你可以

73
00:02:54,056 --> 00:02:54,496
把它放在任何你想放的位置

74
00:02:54,926 --> 00:02:56,966
甚至

75
00:02:56,966 --> 00:02:58,476
如果你想把它放在导航按钮上面

76
00:02:58,476 --> 00:02:58,686
都是可以的

77
00:02:59,386 --> 00:03:02,326
指南针按钮

78
00:02:59,386 --> 00:03:02,326
指南针按钮

79
00:03:02,326 --> 00:03:04,506
要比用户追踪按钮

80
00:03:04,506 --> 00:03:05,126
多一个功能

81
00:03:05,446 --> 00:03:07,756
那就是指南针可视性

82
00:03:08,276 --> 00:03:10,716
指南针可视性

83
00:03:10,716 --> 00:03:12,946
不是单单

84
00:03:12,946 --> 00:03:15,596
把隐藏属性展示出来

85
00:03:15,996 --> 00:03:19,386
也不是简单的布尔选择

86
00:03:19,386 --> 00:03:21,096
要不要显示

87
00:03:21,766 --> 00:03:23,476
我们

88
00:03:23,476 --> 00:03:25,846
早就在地图视图里

89
00:03:25,846 --> 00:03:28,776
加入了

90
00:03:28,776 --> 00:03:29,556
指南针

91
00:03:29,656 --> 00:03:31,456
这就是是与否的布尔选择

92
00:03:31,776 --> 00:03:34,596
所以它很有局限性

93
00:03:34,996 --> 00:03:36,876
也没有

94
00:03:37,116 --> 00:03:38,626
所有我们想要的功能

95
00:03:38,906 --> 00:03:41,326
所以功能可视性

96
00:03:41,326 --> 00:03:41,816
是新的尝试

97
00:03:43,066 --> 00:03:44,546
有如下三种状态

98
00:03:44,786 --> 00:03:46,346
默认是适应模式

99
00:03:46,346 --> 00:03:48,386
还有隐藏和可视模式

100
00:03:49,226 --> 00:03:51,646
隐藏模式

101
00:03:52,426 --> 00:03:53,336
很明显

102
00:03:53,336 --> 00:03:54,726
行如其名

103
00:03:55,076 --> 00:03:57,526
可视模式也是这样

104
00:03:57,526 --> 00:04:00,676
所以

105
00:03:57,526 --> 00:04:00,676
所以

106
00:04:00,676 --> 00:04:01,166
就不过多讨论了

107
00:04:01,246 --> 00:04:04,376
但是

108
00:04:04,486 --> 00:04:05,646
我需要解释一下

109
00:04:05,646 --> 00:04:06,316
默认适应模式

110
00:04:07,246 --> 00:04:08,896
适应模式下

111
00:04:08,896 --> 00:04:11,006
若用户

112
00:04:11,006 --> 00:04:13,056
将方向旋转一点点偏离正北

113
00:04:13,056 --> 00:04:14,566
指南针会指示方向

114
00:04:15,186 --> 00:04:16,875
若用户旋转回正北

115
00:04:16,875 --> 00:04:19,536
指南针符号消失

116
00:04:20,546 --> 00:04:22,386
若用户轻点指南针按钮

117
00:04:22,386 --> 00:04:24,986
地图会

118
00:04:24,986 --> 00:04:26,826
旋回正北

119
00:04:26,826 --> 00:04:27,106
指南针符号就会消失

120
00:04:28,216 --> 00:04:29,876
在所有状态下

121
00:04:29,876 --> 00:04:32,186
该按钮都是可按的

122
00:04:33,056 --> 00:04:34,126
所以你可以永远轻点它

123
00:04:34,326 --> 00:04:35,536
它一直都是一个按钮

124
00:04:35,536 --> 00:04:37,386
但是你得点到它

125
00:04:37,786 --> 00:04:39,426
若用户将地图

126
00:04:39,426 --> 00:04:41,636
从正北旋过一定角度

127
00:04:41,636 --> 00:04:43,826
按钮也会消失

128
00:04:44,596 --> 00:04:46,386
以上是指南针按钮介绍

129
00:04:47,506 --> 00:04:49,836
最后一个功能

130
00:04:49,836 --> 00:04:50,116
比例尺

131
00:04:52,386 --> 00:04:54,736
也有可视功能

132
00:04:54,906 --> 00:04:57,356
同样

133
00:04:57,356 --> 00:04:59,026
也有三个状态

134
00:04:59,626 --> 00:05:01,636
隐藏模式不需解释

135
00:04:59,626 --> 00:05:01,636
隐藏模式不需解释

136
00:05:01,636 --> 00:05:04,426
可视模式同样不需解释

137
00:05:04,926 --> 00:05:07,936
适应模式是新模式

138
00:05:08,056 --> 00:05:10,636
用户缩放地图时

139
00:05:10,676 --> 00:05:14,226
比例尺图标

140
00:05:14,226 --> 00:05:14,836
就会出现

141
00:05:14,946 --> 00:05:16,206
其他时候我们会隐藏它

142
00:05:17,426 --> 00:05:19,016
之前的地图里

143
00:05:19,016 --> 00:05:20,856
也有比例尺图标

144
00:05:20,946 --> 00:05:23,956
以显示

145
00:05:23,996 --> 00:05:24,476
地图的比例尺

146
00:05:25,896 --> 00:05:28,076
比例尺

147
00:05:28,076 --> 00:05:30,146
和指南针

148
00:05:30,146 --> 00:05:31,706
的默认模式

149
00:05:31,796 --> 00:05:32,366
有些许不同

150
00:05:32,776 --> 00:05:33,956
指南针的默认模式

151
00:05:33,956 --> 00:05:36,596
是适应模式

152
00:05:36,596 --> 00:05:38,446
指南针按钮会隐藏

153
00:05:39,166 --> 00:05:41,566
比例尺默认模式

154
00:05:41,566 --> 00:05:42,706
是一直显示图标

155
00:05:43,126 --> 00:05:45,186
一直显示比例尺图标

156
00:05:45,506 --> 00:05:47,296
用户可选择

157
00:05:47,296 --> 00:05:49,786
三种模式

158
00:05:49,786 --> 00:05:50,996
以更好地

159
00:05:50,996 --> 00:05:51,746
适应应用程序

160
00:05:53,086 --> 00:05:56,926
比例尺

161
00:05:56,926 --> 00:05:57,516
还有一个功能

162
00:05:58,326 --> 00:05:59,916
图标对齐

163
00:06:00,336 --> 00:06:02,636
图标对齐

164
00:06:02,636 --> 00:06:04,646
与新的改进的

165
00:06:05,356 --> 00:06:07,306
地图视图定位支持

166
00:06:07,306 --> 00:06:07,586
有关

167
00:06:08,896 --> 00:06:11,656
之前

168
00:06:11,656 --> 00:06:13,226
指南针一直在右上角

169
00:06:13,756 --> 00:06:15,666
比例尺

170
00:06:15,856 --> 00:06:16,526
一直在左上角

171
00:06:17,666 --> 00:06:19,866
这是默认的

172
00:06:20,426 --> 00:06:23,976
但 iOS 11 系统里面

173
00:06:23,976 --> 00:06:26,306
若再编译 iOS 11 系统的软件开发工具包

174
00:06:26,746 --> 00:06:29,606
我们会将

175
00:06:29,716 --> 00:06:31,736
指南针放到尾源

176
00:06:31,736 --> 00:06:33,176
比例尺放到前源

177
00:06:33,176 --> 00:06:35,916
以便为从右到左的用户

178
00:06:36,336 --> 00:06:38,226
提供

179
00:06:38,336 --> 00:06:39,636
自然的视图

180
00:06:40,756 --> 00:06:42,986
但图标对齐

181
00:06:43,396 --> 00:06:46,546
和我们开发该功能的原因

182
00:06:46,546 --> 00:06:48,816
也给我们

183
00:06:48,816 --> 00:06:49,586
带来了困难

184
00:06:50,656 --> 00:06:53,836
默认是前源

185
00:06:53,836 --> 00:06:56,876
意味着

186
00:06:56,876 --> 00:07:00,796
我们要让串行点

187
00:06:56,876 --> 00:07:00,796
我们要让串行点

188
00:07:00,796 --> 00:07:02,946
放在前源

189
00:07:03,586 --> 00:07:05,086
图标的上半部分

190
00:07:05,086 --> 00:07:07,866
很灵活

191
00:07:07,866 --> 00:07:09,746
在用户缩放时也会移动

192
00:07:10,456 --> 00:07:12,516
此例中的前源

193
00:07:12,516 --> 00:07:14,376
在英国

194
00:07:14,376 --> 00:07:15,316
就是左手边

195
00:07:15,816 --> 00:07:18,006
对阿拉伯人

196
00:07:18,006 --> 00:07:20,076
这是右手边

197
00:07:20,706 --> 00:07:22,256
如果你想

198
00:07:22,596 --> 00:07:25,036
把比例尺图标

199
00:07:25,156 --> 00:07:27,516
放到屏幕另一边

200
00:07:27,516 --> 00:07:29,176
你需要设置

201
00:07:29,176 --> 00:07:32,146
图标对齐功能

202
00:07:32,236 --> 00:07:34,536
我们将重置固定的零点

203
00:07:34,536 --> 00:07:38,626
以使其

204
00:07:39,286 --> 00:07:41,476
灵活适应

205
00:07:41,476 --> 00:07:42,206
当前定位

206
00:07:42,416 --> 00:07:43,476
若我们将其视为

207
00:07:43,476 --> 00:07:45,776
用户与地图之间

208
00:07:45,966 --> 00:07:47,526
实际上的互动

209
00:07:47,526 --> 00:07:47,786
那就比较有意义了

210
00:07:47,846 --> 00:07:50,466
所有零点

211
00:07:50,966 --> 00:07:53,446
当用户还没开始时都是固定的

212
00:07:53,446 --> 00:07:55,806
但用户缩放地图 零点就不固定了

213
00:07:55,806 --> 00:07:57,856
上边缘在移动

214
00:07:58,536 --> 00:08:00,946
若上边缘靠屏幕较近

215
00:07:58,536 --> 00:08:00,946
若上边缘靠屏幕较近

216
00:08:00,946 --> 00:08:03,636
零点在中间

217
00:08:03,636 --> 00:08:05,476
一动不动

218
00:08:05,476 --> 00:08:06,746
而

219
00:08:06,746 --> 00:08:08,376
另一个却在移动

220
00:08:08,376 --> 00:08:09,166
这看起来有点蠢

221
00:08:09,436 --> 00:08:13,096
所以

222
00:08:13,166 --> 00:08:14,986
如果你将比例尺在另一页上对齐

223
00:08:14,986 --> 00:08:15,466
就需要改变

224
00:08:17,396 --> 00:08:20,896
使用这简单的应用程序界面时

225
00:08:21,806 --> 00:08:25,056
可淡去的标准地图

226
00:08:25,216 --> 00:08:27,776
及其控制可让我们

227
00:08:28,326 --> 00:08:29,846
使用

228
00:08:29,846 --> 00:08:32,186
现在神奇的

229
00:08:32,186 --> 00:08:32,566
共享单车软件

230
00:08:33,116 --> 00:08:35,416
这是在

231
00:08:35,416 --> 00:08:38,025
旧金山地区

232
00:08:38,025 --> 00:08:39,765
共享单轮脚踏车和三轮车的

233
00:08:39,765 --> 00:08:40,166
软件

234
00:08:40,976 --> 00:08:42,535
我们

235
00:08:42,905 --> 00:08:46,256
可使这一有点过时的应用程序

236
00:08:46,256 --> 00:08:48,556
稍微现代一点

237
00:08:49,566 --> 00:08:52,466
现在

238
00:08:52,466 --> 00:08:52,766
我们再来看一遍

239
00:08:53,176 --> 00:08:55,426
可能

240
00:08:55,426 --> 00:08:56,086
仅有一点点不同

241
00:08:56,086 --> 00:08:58,396
我们

242
00:08:58,396 --> 00:09:01,146
把这个有点过时的应用程序

243
00:08:58,396 --> 00:09:01,146
把这个有点过时的应用程序

244
00:09:01,146 --> 00:09:01,546
带向未来

245
00:09:03,146 --> 00:09:04,756
如图所示

246
00:09:04,756 --> 00:09:06,536
地图模式

247
00:09:06,536 --> 00:09:08,746
和控制系统

248
00:09:08,746 --> 00:09:09,506
没有太大的变化

249
00:09:09,716 --> 00:09:12,816
您的应用程序里地图

250
00:09:12,936 --> 00:09:15,166
的重要部分是

251
00:09:15,336 --> 00:09:17,366
数据 注解

252
00:09:17,436 --> 00:09:19,916
重复占位段等等

253
00:09:19,916 --> 00:09:21,786
这也是我们接下来关注的方面

254
00:09:23,136 --> 00:09:24,806
我们显示注解的

255
00:09:24,806 --> 00:09:26,786
标准方式是

256
00:09:26,786 --> 00:09:29,136
两天前开始的

257
00:09:29,136 --> 00:09:29,556
大头针注解

258
00:09:30,206 --> 00:09:32,146
大头针注解视图

259
00:09:32,266 --> 00:09:33,656
有两种不同状态

260
00:09:34,016 --> 00:09:35,746
正常状态下

261
00:09:35,836 --> 00:09:37,716
地图上有个大头针

262
00:09:38,276 --> 00:09:40,366
用户轻点大头针

263
00:09:40,366 --> 00:09:42,386
程序就会自动选定它

264
00:09:42,466 --> 00:09:43,816
大头针图标变成了被选状态

265
00:09:43,816 --> 00:09:46,066
上面就会出现标注

266
00:09:46,066 --> 00:09:47,726
并显示标题和副标题

267
00:09:48,936 --> 00:09:50,656
这有一个小小的缺点

268
00:09:50,656 --> 00:09:53,236
就是大头针只有在选定状态下

269
00:09:53,316 --> 00:09:56,646
才会显示

270
00:09:56,646 --> 00:09:57,286
标题和副标题

271
00:09:57,946 --> 00:10:01,476
所以

272
00:09:57,946 --> 00:10:01,476
所以

273
00:10:01,476 --> 00:10:02,756
用户只能轻点所有图标

274
00:10:02,756 --> 00:10:04,856
才能知道这到底是干嘛的

275
00:10:04,856 --> 00:10:05,736
有点麻烦

276
00:10:06,086 --> 00:10:08,496
在 iOS 10 系统里

277
00:10:08,566 --> 00:10:12,536
我们用了

278
00:10:12,536 --> 00:10:14,006
类似这样的

279
00:10:14,006 --> 00:10:14,526
图标

280
00:10:15,016 --> 00:10:17,356
iOS 11 系统中

281
00:10:17,356 --> 00:10:18,136
这个也是可用的

282
00:10:18,356 --> 00:10:18,806
我们把它称为

283
00:10:18,806 --> 00:10:20,046
MarkerAnnotationView（标记注解视图）

284
00:10:21,046 --> 00:10:23,686
是注解视图的一种

285
00:10:23,806 --> 00:10:25,556
和大头针注解试图

286
00:10:25,556 --> 00:10:26,346
也有些类似

287
00:10:27,176 --> 00:10:28,626
我们认为

288
00:10:28,626 --> 00:10:30,726
你们会很喜欢它

289
00:10:30,726 --> 00:10:33,536
这是 iOS 和 tvOS 的新默认状态

290
00:10:34,146 --> 00:10:36,046
所以

291
00:10:36,046 --> 00:10:37,576
如果你没有选择

292
00:10:37,576 --> 00:10:40,216
关掉它

293
00:10:40,216 --> 00:10:41,886
就会默认出现

294
00:10:41,886 --> 00:10:44,036
标记注解视图

295
00:10:44,466 --> 00:10:45,266
如果你重新编译 iOS 11 系统

296
00:10:46,596 --> 00:10:49,006
标记注解视图

297
00:10:49,096 --> 00:10:50,546
会有两种状态

298
00:10:50,766 --> 00:10:52,886
正常状态下

299
00:10:52,886 --> 00:10:55,166
如果地图上有空余

300
00:10:55,166 --> 00:10:58,246
标题出现在

301
00:10:58,246 --> 00:10:59,076
标记下方

302
00:10:59,726 --> 00:11:01,496
还有被选状态

303
00:10:59,726 --> 00:11:01,496
还有被选状态

304
00:11:01,736 --> 00:11:02,816
被选状态下

305
00:11:02,816 --> 00:11:05,766
若有空余

306
00:11:05,766 --> 00:11:06,556
会显示副标题

307
00:11:07,026 --> 00:11:09,986
这样的话

308
00:11:09,986 --> 00:11:11,596
用户看一眼地图

309
00:11:11,596 --> 00:11:13,746
就可以知道

310
00:11:14,006 --> 00:11:15,576
这些数据点是什么

311
00:11:15,776 --> 00:11:16,866
而无需一一轻点

312
00:11:17,626 --> 00:11:21,636
还有件事

313
00:11:21,636 --> 00:11:23,066
我们需要

314
00:11:23,416 --> 00:11:25,106
再看看大头针图标

315
00:11:25,646 --> 00:11:27,586
来看一下大头针

316
00:11:27,586 --> 00:11:30,226
及其标注

317
00:11:30,226 --> 00:11:32,306
标注也有一个小功能

318
00:11:32,716 --> 00:11:34,706
你可以

319
00:11:34,706 --> 00:11:34,976
在里面添加辅助视图

320
00:11:35,196 --> 00:11:36,736
还可以

321
00:11:36,736 --> 00:11:36,936
添加细节视图

322
00:11:36,936 --> 00:11:37,926
也可以设置它

323
00:11:38,736 --> 00:11:41,596
标记注解视图是

324
00:11:41,596 --> 00:11:42,386
注解视图

325
00:11:42,386 --> 00:11:44,996
所有注解视图的

326
00:11:44,996 --> 00:11:47,006
应用程序接口

327
00:11:47,006 --> 00:11:48,926
也都支持标记注解视图

328
00:11:49,706 --> 00:11:53,566
在这里如果

329
00:11:53,566 --> 00:11:55,366
添加右辅助视图

330
00:11:55,366 --> 00:11:58,216
在较大的标记里

331
00:11:58,216 --> 00:12:01,306
就无法

332
00:11:58,216 --> 00:12:01,306
就无法

333
00:12:01,306 --> 00:12:03,266
自然地

334
00:12:03,266 --> 00:12:03,866
显示这些数据

335
00:12:04,256 --> 00:12:06,116
显然

336
00:12:06,116 --> 00:12:07,566
我们想想细节视图

337
00:12:07,806 --> 00:12:10,726
你可以添加无限数量的数据

338
00:12:10,726 --> 00:12:12,906
很多数据

339
00:12:13,076 --> 00:12:15,446
如果你想

340
00:12:15,446 --> 00:12:15,796
还可以放一整个座位卡的东西

341
00:12:16,216 --> 00:12:18,806
所以我们要做些什么呢

342
00:12:19,806 --> 00:12:23,456
我们需要标记注解视图

343
00:12:23,456 --> 00:12:24,926
的第三种状态

344
00:12:25,426 --> 00:12:27,166
所以实际上

345
00:12:27,166 --> 00:12:28,966
标记注解视图

346
00:12:28,966 --> 00:12:29,526
有三种状态

347
00:12:29,996 --> 00:12:31,886
没被选择时

348
00:12:31,886 --> 00:12:32,786
是正常状态

349
00:12:33,276 --> 00:12:34,426
被选状态

350
00:12:34,866 --> 00:12:36,436
和有标注的

351
00:12:36,436 --> 00:12:38,346
被选状态

352
00:12:38,346 --> 00:12:40,116
若你设置了带视图的标记注解

353
00:12:40,456 --> 00:12:42,356
但是标记显示不下

354
00:12:42,386 --> 00:12:44,506
就会启用该状态

355
00:12:45,736 --> 00:12:47,726
让我们

356
00:12:47,726 --> 00:12:48,096
看看代码

357
00:12:48,496 --> 00:12:49,716
这是

358
00:12:49,716 --> 00:12:51,446
标记注解视图

359
00:12:52,786 --> 00:12:54,886
其最重要的是

360
00:12:54,886 --> 00:12:56,936
它有题目

361
00:12:57,316 --> 00:12:59,066
而且你可以设置

362
00:12:59,066 --> 00:13:00,786
底下的题目

363
00:12:59,066 --> 00:13:00,786
底下的题目

364
00:13:01,206 --> 00:13:02,976
注意一下

365
00:13:02,976 --> 00:13:04,756
我们又可以看到

366
00:13:04,846 --> 00:13:06,346
三种视图状态的细目

367
00:13:06,986 --> 00:13:10,736
因为你可以

368
00:13:10,736 --> 00:13:12,216
进行很多不同设置

369
00:13:12,216 --> 00:13:13,286
不仅仅是可视和隐藏模式

370
00:13:13,666 --> 00:13:14,946
很显然

371
00:13:14,946 --> 00:13:16,146
隐藏模式就是不显示

372
00:13:16,826 --> 00:13:19,386
可视模式也显而易见

373
00:13:19,436 --> 00:13:21,256
你设置可视模式后

374
00:13:21,576 --> 00:13:23,126
我们会尽量 

375
00:13:23,126 --> 00:13:24,156
显示

376
00:13:24,156 --> 00:13:24,646
标题和副标题

377
00:13:25,256 --> 00:13:27,376
记一下 我说我们会尽力

378
00:13:28,526 --> 00:13:31,446
若地图数据太密集

379
00:13:31,866 --> 00:13:35,166
我们就只能隐藏标题

380
00:13:35,686 --> 00:13:37,726
使地图更加整洁

381
00:13:37,726 --> 00:13:39,366
显示更多必需信息

382
00:13:39,456 --> 00:13:41,366
所以 大部分时候标题是可视的

383
00:13:41,366 --> 00:13:43,396
但它们也可被隐藏

384
00:13:43,956 --> 00:13:46,686
最后一种可视性模式

385
00:13:46,686 --> 00:13:48,226
是适应模式

386
00:13:48,556 --> 00:13:49,976
这个模式

387
00:13:49,976 --> 00:13:52,716
也是默认的

388
00:13:53,906 --> 00:13:56,376
你可自由选择副标题可视性

389
00:13:56,376 --> 00:13:58,786
正常状态下

390
00:13:58,786 --> 00:14:01,206
是不显示的

391
00:13:58,786 --> 00:14:01,206
是不显示的

392
00:14:01,206 --> 00:14:03,476
被选状态下

393
00:14:03,476 --> 00:14:04,516
是显示的

394
00:14:05,986 --> 00:14:08,216
所以这就是

395
00:14:08,216 --> 00:14:08,786
标记下面的标题

396
00:14:09,006 --> 00:14:10,226
接下来

397
00:14:10,226 --> 00:14:11,846
你还可以设置

398
00:14:11,846 --> 00:14:12,476
标记

399
00:14:13,416 --> 00:14:14,696
首先是颜色

400
00:14:15,116 --> 00:14:16,656
这是标记着色

401
00:14:16,656 --> 00:14:18,616
这是图像符号着色

402
00:14:19,126 --> 00:14:22,816
标记颜色

403
00:14:22,816 --> 00:14:24,086
是标记自身的颜色

404
00:14:24,556 --> 00:14:26,536
是正常的用户界面颜色

405
00:14:26,986 --> 00:14:28,806
默认值是零

406
00:14:28,806 --> 00:14:30,216
也是

407
00:14:30,216 --> 00:14:32,766
系统默认颜色

408
00:14:33,056 --> 00:14:34,136
现在是红色

409
00:14:34,686 --> 00:14:35,836
你也可设置成其他颜色

410
00:14:35,836 --> 00:14:37,866
比如

411
00:14:37,866 --> 00:14:38,606
为什么不用橙色

412
00:14:39,196 --> 00:14:41,126
注意我们把它叫做标记着色

413
00:14:41,476 --> 00:14:43,576
而不是简单的颜色二字

414
00:14:43,906 --> 00:14:45,906
是因为

415
00:14:45,906 --> 00:14:47,956
你提供的颜色

416
00:14:47,956 --> 00:14:50,666
可能不是我们最后用的

417
00:14:50,816 --> 00:14:51,696
那一个颜色

418
00:14:51,696 --> 00:14:54,056
我们可能

419
00:14:54,366 --> 00:14:55,876
会用一些视觉效果

420
00:14:55,876 --> 00:14:56,426
让颜色看起来更好看一些

421
00:14:56,816 --> 00:14:59,896
这是你可应用的

422
00:14:59,896 --> 00:15:00,376
着色

423
00:14:59,896 --> 00:15:00,376
着色

424
00:15:00,746 --> 00:15:02,386
当然

425
00:15:02,476 --> 00:15:05,666
你也可用新 iOS 里面的

426
00:15:05,666 --> 00:15:06,126
颜色目录

427
00:15:06,566 --> 00:15:09,666
图像符号着色

428
00:15:10,086 --> 00:15:12,206
也是一样的

429
00:15:12,246 --> 00:15:15,066
是标记内

430
00:15:15,066 --> 00:15:18,316
图像符号的颜色

431
00:15:18,316 --> 00:15:19,986
默认是白色

432
00:15:22,876 --> 00:15:25,156
说到图像符号

433
00:15:25,336 --> 00:15:27,116
你也会想设置

434
00:15:27,116 --> 00:15:29,266
标记里面的东西

435
00:15:29,266 --> 00:15:30,586
这个小图像符号

436
00:15:30,936 --> 00:15:32,886
最简单的办法是

437
00:15:33,366 --> 00:15:35,276
设置

438
00:15:35,406 --> 00:15:35,856
图像符号文本性质

439
00:15:36,586 --> 00:15:37,686
是很简单的字符串

440
00:15:38,486 --> 00:15:39,656
我们能看到一些规律

441
00:15:39,656 --> 00:15:40,906
默认是零

442
00:15:41,466 --> 00:15:42,956
这时

443
00:15:42,956 --> 00:15:44,956
我们选择的系统默认

444
00:15:44,956 --> 00:15:45,406
是大头针

445
00:15:46,366 --> 00:15:47,606
在气球里的一个大头针

446
00:15:47,606 --> 00:15:48,886
可能会危险

447
00:15:48,886 --> 00:15:49,366
但是看起来很好

448
00:15:50,236 --> 00:15:52,376
你可以设置成

449
00:15:52,376 --> 00:15:52,796
任何你想要的文本

450
00:15:52,796 --> 00:15:54,706
你可以

451
00:15:54,706 --> 00:15:55,546
把注解分级

452
00:15:55,906 --> 00:15:58,116
你甚至可以使用字符

453
00:15:58,116 --> 00:15:59,996
或统一字符编码标准

454
00:15:59,996 --> 00:16:01,526
自由设置矢量图

455
00:15:59,996 --> 00:16:01,526
自由设置矢量图

456
00:16:02,496 --> 00:16:05,296
图像符号是一个字符串

457
00:16:05,296 --> 00:16:07,466
所以

458
00:16:07,466 --> 00:16:07,906
你可以设置成任意文本

459
00:16:07,906 --> 00:16:09,386
如果你想

460
00:16:09,926 --> 00:16:12,766
你可以把伊利亚特放进去

461
00:16:12,766 --> 00:16:13,306
我们会尽力显示

462
00:16:13,716 --> 00:16:16,236
但看起来有点蠢

463
00:16:16,426 --> 00:16:18,066
我们会尽力

464
00:16:18,066 --> 00:16:21,206
缩小文本

465
00:16:21,206 --> 00:16:23,136
但

466
00:16:23,136 --> 00:16:24,576
用户其实在屏幕上看不太到

467
00:16:24,816 --> 00:16:26,916
所以

468
00:16:26,976 --> 00:16:29,436
尽量设置

469
00:16:29,966 --> 00:16:31,376
在两到三个字符内

470
00:16:32,676 --> 00:16:36,026
但

471
00:16:36,026 --> 00:16:39,186
不是所有的东西

472
00:16:39,256 --> 00:16:39,786
都用文本显示

473
00:16:39,996 --> 00:16:41,816
不仅是

474
00:16:41,816 --> 00:16:43,736
统一字符编码标准

475
00:16:43,736 --> 00:16:44,106
每年都在扩大

476
00:16:44,346 --> 00:16:46,256
所以

477
00:16:46,256 --> 00:16:47,946
你可能想用自己的图形图像

478
00:16:48,126 --> 00:16:49,896
所以我们有图像符号图形

479
00:16:50,206 --> 00:16:51,606
和

480
00:16:51,706 --> 00:16:52,296
被选图像符号图形性能

481
00:16:53,096 --> 00:16:55,976
图像符号图形性能

482
00:16:55,976 --> 00:16:58,146
估计是

483
00:16:58,146 --> 00:17:00,006
你最想用的

484
00:16:58,146 --> 00:17:00,006
你最想用的

485
00:17:00,006 --> 00:17:00,426
且用得最多的性能

486
00:17:00,766 --> 00:17:03,576
你可以提供

487
00:17:03,856 --> 00:17:05,736
40 x 40 的图像

488
00:17:06,266 --> 00:17:08,766
这是

489
00:17:08,766 --> 00:17:09,546
在被选状态下的大小

490
00:17:10,195 --> 00:17:11,955
正常状态下

491
00:17:11,955 --> 00:17:13,766
我们会把它缩小到 20 x 20

492
00:17:15,016 --> 00:17:16,546
大部分时间这都是可行的

493
00:17:16,925 --> 00:17:18,915
除非你的图像太细致

494
00:17:18,915 --> 00:17:21,156
然后

495
00:17:21,415 --> 00:17:23,396
你就可以看到

496
00:17:23,396 --> 00:17:25,266
我们缩小的器物

497
00:17:25,536 --> 00:17:27,776
如果这样

498
00:17:27,776 --> 00:17:29,096
你需要使用

499
00:17:29,096 --> 00:17:29,716
这两个性能

500
00:17:29,896 --> 00:17:31,906
所以

501
00:17:31,906 --> 00:17:33,406
你可以提供 20 x 20 的小图

502
00:17:34,386 --> 00:17:35,876
和

503
00:17:35,876 --> 00:17:38,086
40 x 40 的大图

504
00:17:38,426 --> 00:17:39,836
然后

505
00:17:39,836 --> 00:17:42,016
我们会处理图像

506
00:17:42,266 --> 00:17:44,416
所以

507
00:17:45,616 --> 00:17:45,776
你可以在正常和选择状态下看到图像

508
00:17:45,946 --> 00:17:49,606
利用这项技术

509
00:17:49,736 --> 00:17:51,676
我们就可

510
00:17:51,676 --> 00:17:52,456
让应用程序看起来更加 更加现代

511
00:17:53,056 --> 00:17:55,846
但现在

512
00:17:56,626 --> 00:17:58,206
如果必须要说的话

513
00:17:58,206 --> 00:17:58,886
这个应用程序有点混乱

514
00:17:59,386 --> 00:18:00,766
你可能会想整理一下

515
00:17:59,386 --> 00:18:00,766
你可能会想整理一下

516
00:18:00,766 --> 00:18:02,846
使其看起来更简单

517
00:18:02,846 --> 00:18:04,696
找到你需要的内容

518
00:18:05,016 --> 00:18:06,216
你会想让

519
00:18:06,216 --> 00:18:07,166
它这样显示

520
00:18:07,546 --> 00:18:10,416
在 iOS 11 系统里

521
00:18:11,276 --> 00:18:13,076
我们添加了一个性能

522
00:18:13,076 --> 00:18:13,346
可以做到这样

523
00:18:13,656 --> 00:18:15,786
我们把它叫做显示优先级

524
00:18:16,526 --> 00:18:19,566
可以让注解视图

525
00:18:19,566 --> 00:18:22,776
根据你的想法

526
00:18:22,776 --> 00:18:24,166
在屏幕上优先显示

527
00:18:24,866 --> 00:18:27,136
显示优先级功能

528
00:18:27,666 --> 00:18:29,296
是在 UIKit 和 MapKit 的

529
00:18:29,526 --> 00:18:31,886
优先布局限制之后

530
00:18:32,176 --> 00:18:32,796
塑造出来的

531
00:18:33,866 --> 00:18:35,286
也就是说

532
00:18:35,286 --> 00:18:37,886
它是在 0-1000 之间的

533
00:18:38,356 --> 00:18:39,996
浮动点区间

534
00:18:39,996 --> 00:18:40,506
1000 是必须的值

535
00:18:40,826 --> 00:18:42,856
让我们看看它们能做什么

536
00:18:43,556 --> 00:18:45,496
必须值 意味着选择排除

537
00:18:46,006 --> 00:18:48,306
在注解视图重叠时

538
00:18:48,306 --> 00:18:50,166
不挡住或隐藏任何东西

539
00:18:50,526 --> 00:18:51,236
什么都不做

540
00:18:51,596 --> 00:18:52,876
但若你把优先显示

541
00:18:52,876 --> 00:18:54,546
设置成了其他的

542
00:18:54,546 --> 00:18:56,136
比如

543
00:18:56,136 --> 00:18:56,886
defaults.

544
00:18:57,226 --> 00:19:00,826
默认最高是 750

545
00:18:57,226 --> 00:19:00,826
默认最高是 750

546
00:19:00,826 --> 00:19:03,436
最低 250

547
00:19:03,436 --> 00:19:04,376
这就是布局限制

548
00:19:05,196 --> 00:19:07,876
然后

549
00:19:08,206 --> 00:19:08,576
注解就会被隐藏

550
00:19:09,136 --> 00:19:14,106
然后

551
00:19:16,756 --> 00:19:18,646
浮动点值在 0-1000 之间

552
00:19:18,976 --> 00:19:21,146
意味着

553
00:19:21,146 --> 00:19:23,436
你可利用它 把地图变得更好看

554
00:19:24,456 --> 00:19:26,356
比如

555
00:19:26,356 --> 00:19:27,866
如果根据受欢迎程度

556
00:19:27,966 --> 00:19:29,716
来设置显示优先级

557
00:19:29,716 --> 00:19:31,916
所以

558
00:19:31,916 --> 00:19:33,496
比较受欢迎的地点

559
00:19:33,496 --> 00:19:35,616
就会优先显示

560
00:19:35,616 --> 00:19:37,806
不受欢迎的地点的优先级就较低

561
00:19:37,806 --> 00:19:39,666
也就是说

562
00:19:39,666 --> 00:19:41,236
用户把屏幕缩到很小

563
00:19:41,236 --> 00:19:42,456
俯瞰整个城市

564
00:19:42,456 --> 00:19:44,996
留在屏幕上

565
00:19:44,996 --> 00:19:46,686
能看到的

566
00:19:46,686 --> 00:19:47,636
是最受欢迎的地点

567
00:19:48,016 --> 00:19:50,606
用户放大后

568
00:19:50,606 --> 00:19:52,516
可看到其他数据

569
00:19:53,166 --> 00:19:55,426
这样

570
00:19:55,866 --> 00:19:58,076
混乱的地图

571
00:19:58,076 --> 00:19:59,346
就看起来整洁多了

572
00:20:00,696 --> 00:20:03,006
现在如果你是这么做的

573
00:20:04,966 --> 00:20:07,766
数据就会被隐藏

574
00:20:07,986 --> 00:20:09,736
所以

575
00:20:09,736 --> 00:20:11,436
用户放大一点 才能发现次优先级的地点

576
00:20:11,436 --> 00:20:13,956
缩小之后

577
00:20:13,956 --> 00:20:14,536
可以看到其余的

578
00:20:14,956 --> 00:20:17,756
其实

579
00:20:17,756 --> 00:20:17,896
还有一个更好的方法

580
00:20:17,896 --> 00:20:20,736
我们可以直接集中这些注解

581
00:20:20,826 --> 00:20:23,906
是的

582
00:20:23,906 --> 00:20:25,946
这里多了 11 个

583
00:20:25,946 --> 00:20:27,036
这里多了 8 个

584
00:20:27,276 --> 00:20:28,576
无需放大

585
00:20:28,836 --> 00:20:29,556
就会显示

586
00:20:30,286 --> 00:20:32,986
这个应用程序界面

587
00:20:32,986 --> 00:20:35,846
和显示优先级的

588
00:20:35,846 --> 00:20:36,346
一样简单

589
00:20:36,636 --> 00:20:38,046
我们叫它聚类标识符

590
00:20:39,556 --> 00:20:41,296
这也是字符串

591
00:20:41,296 --> 00:20:42,316
所以你可以对其进行设置

592
00:20:42,936 --> 00:20:44,896
这是在重复使用标志符之后塑造的

593
00:20:45,726 --> 00:20:47,626
两种注解视图都可以

594
00:20:47,626 --> 00:20:49,396
表格视图单元格

595
00:20:49,396 --> 00:20:49,996
和集合视图单元格

596
00:20:50,396 --> 00:20:52,256
现有就有了群组

597
00:20:52,756 --> 00:20:54,766
在我们的应用程序中

598
00:20:55,066 --> 00:20:57,246
共享单车应用程序

599
00:20:57,276 --> 00:20:59,286
我们可能会想

600
00:20:59,476 --> 00:21:02,836
把单轮脚踏车集中起来

601
00:20:59,476 --> 00:21:02,836
把单轮脚踏车集中起来

602
00:21:02,836 --> 00:21:05,036
三轮车集中起来

603
00:21:05,036 --> 00:21:06,356
但我们不想把两者混在一起

604
00:21:06,786 --> 00:21:09,176
你若能达到此目标

605
00:21:09,176 --> 00:21:11,186
给它们注解视图

606
00:21:11,396 --> 00:21:12,946
以及不同于彼此的

607
00:21:13,196 --> 00:21:14,716
标识符

608
00:21:15,276 --> 00:21:17,476
使用时

609
00:21:17,476 --> 00:21:18,006
默认是零

610
00:21:18,646 --> 00:21:20,236
若你设置为零

611
00:21:20,236 --> 00:21:21,456
选择排除后 什么都不会发生

612
00:21:22,206 --> 00:21:23,386
若设置成其他字符串

613
00:21:23,386 --> 00:21:26,196
所有

614
00:21:26,196 --> 00:21:27,916
相同的注解视图

615
00:21:27,916 --> 00:21:29,716
会重叠在一起

616
00:21:30,066 --> 00:21:34,286
很难按类别区分

617
00:21:34,286 --> 00:21:36,866
这个功能很美很强大

618
00:21:36,866 --> 00:21:38,816
但

619
00:21:38,816 --> 00:21:40,376
有点难解释

620
00:21:40,536 --> 00:21:43,036
所以

621
00:21:43,036 --> 00:21:45,466
让我来拿模型机

622
00:21:45,466 --> 00:21:45,796
给大家展示一下

623
00:21:48,456 --> 00:21:49,856
这是模型机

624
00:21:50,956 --> 00:21:53,726
在这个简单的应用程序里

625
00:21:53,726 --> 00:21:55,246
我有四个注解

626
00:21:55,996 --> 00:21:58,236
这里有个单轮脚踏车

627
00:21:58,236 --> 00:21:59,876
这还有一个

628
00:22:00,196 --> 00:22:01,716
它们的聚类标识是一样的

629
00:22:02,306 --> 00:22:04,496
这是三轮车

630
00:22:04,496 --> 00:22:06,196
这个也是

631
00:22:06,196 --> 00:22:06,886
它们的标识是一样的

632
00:22:07,366 --> 00:22:09,166
如果移到一起

633
00:22:09,166 --> 00:22:09,946
就可以看到它们聚起来了

634
00:22:11,136 --> 00:22:12,856
把它们分开

635
00:22:12,856 --> 00:22:13,816
它们也就散开了

636
00:22:14,756 --> 00:22:17,386
这四个的

637
00:22:17,386 --> 00:22:19,166
显示优先级是一样的

638
00:22:19,586 --> 00:22:20,736
所以

639
00:22:20,736 --> 00:22:21,636
四个显示优先级别相同

640
00:22:22,666 --> 00:22:25,396
我把它们

641
00:22:25,396 --> 00:22:27,486
聚到一起

642
00:22:27,486 --> 00:22:30,376
它们就会按照群组内最高优先级

643
00:22:30,376 --> 00:22:32,296
来显示

644
00:22:33,296 --> 00:22:35,526
所以 实际上

645
00:22:35,526 --> 00:22:37,096
这个例子里

646
00:22:37,096 --> 00:22:38,576
这两个标识

647
00:22:38,576 --> 00:22:39,136
有着同样的优先级

648
00:22:39,816 --> 00:22:40,836
如果

649
00:22:40,836 --> 00:22:43,246
我进一步缩小屏幕

650
00:22:43,546 --> 00:22:44,596
它们就会碰到一起 合在一起

651
00:22:45,216 --> 00:22:46,456
把它们分开

652
00:22:46,456 --> 00:22:47,276
然后再把它们并起来

653
00:22:47,956 --> 00:22:50,116
若两个注解视图

654
00:22:50,166 --> 00:22:52,056
有着一样的优先等级

655
00:22:52,336 --> 00:22:53,776
那么该隐藏哪个呢

656
00:22:55,006 --> 00:22:57,476
其实是有逻辑的

657
00:22:58,066 --> 00:22:59,616
若我们把地图旋转一点点

658
00:22:59,616 --> 00:23:01,786
然后把它们合在一起

659
00:22:59,616 --> 00:23:01,786
然后把它们合在一起

660
00:23:01,786 --> 00:23:03,356
还是绿色的

661
00:23:03,356 --> 00:23:03,946
被隐藏了

662
00:23:04,936 --> 00:23:08,596
若我们旋转 180 度

663
00:23:08,596 --> 00:23:10,866
然后把它们合在一起

664
00:23:11,066 --> 00:23:12,466
现在

665
00:23:12,466 --> 00:23:13,056
橙色的被隐藏了

666
00:23:13,686 --> 00:23:16,426
所以 逻辑就是

667
00:23:16,426 --> 00:23:18,296
若优先级相同

668
00:23:18,376 --> 00:23:20,806
我们把靠近屏幕顶端的注解

669
00:23:20,806 --> 00:23:21,906
隐藏起来

670
00:23:22,936 --> 00:23:25,696
这对开发人员和用户都有好处

671
00:23:25,696 --> 00:23:28,196
因为

672
00:23:28,196 --> 00:23:29,626
我们可以知道

673
00:23:29,626 --> 00:23:30,026
接下来会发生什么

674
00:23:30,506 --> 00:23:32,816
但是其中一个原因是

675
00:23:32,816 --> 00:23:34,546
我必须说

676
00:23:34,576 --> 00:23:37,196
若我们把地图倾斜到 3D 模式

677
00:23:37,196 --> 00:23:39,196
旋转的时候

678
00:23:39,196 --> 00:23:41,146
一个把另一个挡住

679
00:23:41,146 --> 00:23:41,766
看起来很酷

680
00:23:43,696 --> 00:23:47,866
现在 让我把屏幕放大一点

681
00:23:47,866 --> 00:23:49,796
然后

682
00:23:49,796 --> 00:23:50,066
在地图上再放一个注解

683
00:23:50,906 --> 00:23:52,486
注解视图中

684
00:23:52,486 --> 00:23:54,736
有所有注解视图的

685
00:23:54,736 --> 00:23:57,046
应用程序界面

686
00:23:57,166 --> 00:23:57,676
包括拖动

687
00:23:57,726 --> 00:23:59,756
所以 我可以把它拿起来

688
00:23:59,756 --> 00:24:00,246
再放下去

689
00:23:59,756 --> 00:24:00,246
再放下去

690
00:24:01,016 --> 00:24:03,436
拿起来 拖动它

691
00:24:04,046 --> 00:24:06,326
然后再把它放下

692
00:24:09,016 --> 00:24:10,236
[掌声]

693
00:24:10,236 --> 00:24:11,356
当我把它放到

694
00:24:11,356 --> 00:24:12,976
海滩路上时

695
00:24:12,976 --> 00:24:14,606
你们有没有注意到什么

696
00:24:15,426 --> 00:24:17,316
看仔细一点 我把它拿起来

697
00:24:17,966 --> 00:24:19,906
然后把它放到租车行上面

698
00:24:22,246 --> 00:24:23,106
它就被隐藏了

699
00:24:23,706 --> 00:24:25,626
若你在注解视图里面

700
00:24:25,716 --> 00:24:27,756
设置显示优先级

701
00:24:27,756 --> 00:24:29,716
我们也会

702
00:24:29,716 --> 00:24:32,156
把注解

703
00:24:32,156 --> 00:24:34,126
和基本地图上的地点合起来

704
00:24:34,126 --> 00:24:36,296
以使地图更加整洁

705
00:24:36,736 --> 00:24:39,056
所以 我可以把它拿起来

706
00:24:39,056 --> 00:24:40,956
拖动它

707
00:24:40,956 --> 00:24:42,756
为什么不把它放到另一个注解上呢

708
00:24:42,906 --> 00:24:45,096
它们在平稳的动画之后会合在一起

709
00:24:45,746 --> 00:24:47,016
其实

710
00:24:47,616 --> 00:24:48,126
所有的都可以拖动

711
00:24:48,706 --> 00:24:51,196
所以我可以把它们拿起来

712
00:24:51,396 --> 00:24:54,236
但这是不对的

713
00:24:54,386 --> 00:24:58,746
因为

714
00:24:58,746 --> 00:24:59,666
聚类是不能拖动的

715
00:25:00,256 --> 00:25:02,506
为了让注解能够拖动

716
00:25:02,506 --> 00:25:04,196
你需要

717
00:25:04,256 --> 00:25:04,806
一个坐标

718
00:25:05,886 --> 00:25:08,636
聚类自身

719
00:25:08,636 --> 00:25:10,006
是没有坐标的

720
00:25:10,386 --> 00:25:12,706
聚类的地理坐标

721
00:25:12,706 --> 00:25:14,716
实际上是

722
00:25:14,716 --> 00:25:17,016
周围注解的

723
00:25:17,016 --> 00:25:18,496
平均值

724
00:25:18,566 --> 00:25:20,086
这也是你为什么

725
00:25:20,086 --> 00:25:20,216
它无法拖动

726
00:25:20,816 --> 00:25:22,356
回到幻灯片

727
00:25:23,216 --> 00:25:24,776
这是简单有力的一个应用程序界面

728
00:25:25,426 --> 00:25:27,116
可以让

729
00:25:28,006 --> 00:25:29,906
混乱的屏幕

730
00:25:29,906 --> 00:25:31,276
变得

731
00:25:31,826 --> 00:25:32,646
整洁一点

732
00:25:33,196 --> 00:25:37,166
这是很好的

733
00:25:37,166 --> 00:25:39,136
这有 11 个注解

734
00:25:39,136 --> 00:25:41,086
那还有

735
00:25:41,086 --> 00:25:41,626
两个

736
00:25:41,626 --> 00:25:44,236
但是

737
00:25:44,236 --> 00:25:46,216
我们不能清楚地

738
00:25:46,216 --> 00:25:46,516
看到那是什么注解

739
00:25:47,036 --> 00:25:48,556
如果有单轮脚踏车

740
00:25:48,556 --> 00:25:50,886
和三轮车

741
00:25:50,886 --> 00:25:52,416
我可不想过去了才发现

742
00:25:52,416 --> 00:25:53,756
那只有单轮脚踏车

743
00:25:53,756 --> 00:25:55,526
因为

744
00:25:55,526 --> 00:25:57,066
我不会骑

745
00:25:57,066 --> 00:25:58,366
所以我要确保我去的地方

746
00:25:58,866 --> 00:26:00,396
只有三轮车

747
00:25:58,866 --> 00:26:00,396
只有三轮车

748
00:26:00,846 --> 00:26:03,426
所以

749
00:26:03,426 --> 00:26:06,026
我们想看一眼这些聚类

750
00:26:06,026 --> 00:26:07,936
就知道这个地方

751
00:26:07,936 --> 00:26:08,566
有什么数据

752
00:26:08,906 --> 00:26:11,116
我们可以

753
00:26:11,116 --> 00:26:13,086
通过定制注解视图完成

754
00:26:13,396 --> 00:26:14,616
也可以通过

755
00:26:14,616 --> 00:26:15,676
饼图来显示

756
00:26:16,856 --> 00:26:19,136
我能看到

757
00:26:19,136 --> 00:26:21,526
这里至少有两辆三轮车

758
00:26:21,526 --> 00:26:22,736
安心了 我可以去这里

759
00:26:23,276 --> 00:26:24,286
我们是怎么做到的呢

760
00:26:24,766 --> 00:26:26,606
我们借助了老朋友

761
00:26:26,606 --> 00:26:28,806
那就是

762
00:26:28,806 --> 00:26:30,576
注解代表回调函数的地图视图

763
00:26:31,726 --> 00:26:33,336
代表回调函数

764
00:26:33,476 --> 00:26:36,196
一直都会为你

765
00:26:36,406 --> 00:26:37,406
提供系统注解

766
00:26:37,476 --> 00:26:39,196
用户定位注解

767
00:26:39,196 --> 00:26:41,016
代表的是

768
00:26:41,016 --> 00:26:43,616
用户

769
00:26:43,616 --> 00:26:44,076
现在在地球上所处的位置

770
00:26:44,796 --> 00:26:46,646
你可以回到零点

771
00:26:46,646 --> 00:26:48,206
这样

772
00:26:48,206 --> 00:26:48,696
就回到了默认包

773
00:26:49,156 --> 00:26:50,836
或者你可

774
00:26:50,836 --> 00:26:52,526
回到定制注解

775
00:26:52,526 --> 00:26:53,836
以一种完全不同的方式

776
00:26:54,186 --> 00:26:55,456
显示用户定位

777
00:26:55,456 --> 00:26:56,816
来适应应用程序

778
00:26:57,206 --> 00:27:00,696
适应其他

779
00:26:57,206 --> 00:27:00,696
适应其他

780
00:27:00,696 --> 00:27:02,776
你定量设置的注解视图

781
00:27:02,836 --> 00:27:03,926
然后返回

782
00:27:04,526 --> 00:27:06,456
若你返回零点

783
00:27:06,456 --> 00:27:09,466
就是系统默认

784
00:27:09,656 --> 00:27:11,116
在 iOS 11 里就是标记注解视图

785
00:27:11,826 --> 00:27:15,826
现在 在 iOS 11 里

786
00:27:15,826 --> 00:27:18,676
你还有一个不同的注解

787
00:27:18,876 --> 00:27:21,416
在你回调函数里的

788
00:27:21,416 --> 00:27:22,246
系统注解

789
00:27:22,606 --> 00:27:23,656
你可能会有

790
00:27:23,846 --> 00:27:25,076
聚类注解

791
00:27:25,496 --> 00:27:27,366
所以 若你选择聚类

792
00:27:28,086 --> 00:27:30,406
然后它们碰到一起

793
00:27:30,406 --> 00:27:31,616
是没有新回调函数的

794
00:27:31,616 --> 00:27:33,636
我们重新使用现有回调函数

795
00:27:33,966 --> 00:27:36,006
给你一个聚类注解

796
00:27:36,086 --> 00:27:37,906
这代表了聚类

797
00:27:37,906 --> 00:27:38,916
而且你还可以

798
00:27:38,916 --> 00:27:40,776
回到你想要的注解视图

799
00:27:41,116 --> 00:27:43,336
聚类视图

800
00:27:43,336 --> 00:27:45,836
是注解协议的

801
00:27:45,836 --> 00:27:47,416
一个简单的具体类

802
00:27:48,076 --> 00:27:49,746
给你提供了

803
00:27:49,746 --> 00:27:51,056
所有注解的一个数组

804
00:27:51,606 --> 00:27:53,426
这是一个扁平化数组

805
00:27:53,426 --> 00:27:54,986
所以我们可保证

806
00:27:54,986 --> 00:27:56,636
在聚类里面

807
00:27:56,636 --> 00:27:57,096
不会再有聚类

808
00:27:57,096 --> 00:27:58,626
这只是

809
00:27:58,626 --> 00:28:00,546
所有显示注解

810
00:27:58,626 --> 00:28:00,546
所有显示注解

811
00:28:00,546 --> 00:28:02,066
的扁平化数组

812
00:28:02,586 --> 00:28:04,536
我们给它排序

813
00:28:04,666 --> 00:28:06,686
第一个是

814
00:28:06,686 --> 00:28:07,136
最高的显示优先级

815
00:28:08,146 --> 00:28:09,806
所以 你若

816
00:28:09,806 --> 00:28:11,666
像我之前所说的那样

817
00:28:11,666 --> 00:28:12,846
利用显示优先级

818
00:28:12,876 --> 00:28:14,186
并以受欢迎程度为根据

819
00:28:14,186 --> 00:28:16,916
那么最开始的就是最受欢迎的

820
00:28:17,556 --> 00:28:19,216
标记注解视图和聚类注解

821
00:28:19,216 --> 00:28:21,876
运行良好

822
00:28:22,076 --> 00:28:24,046
所以我们可以把计数

823
00:28:24,046 --> 00:28:26,266
显示为字符

824
00:28:26,446 --> 00:28:27,676
你看一眼

825
00:28:27,676 --> 00:28:28,356
就知道这里有多少

826
00:28:29,056 --> 00:28:31,466
我们也会为标题和副标题

827
00:28:31,466 --> 00:28:34,016
提供良好的默认模式

828
00:28:34,366 --> 00:28:36,726
题目就会是

829
00:28:36,726 --> 00:28:38,646
最受欢迎的地方

830
00:28:38,646 --> 00:28:40,256
或一等注解

831
00:28:40,686 --> 00:28:42,836
副标题是局部的加 X 数字

832
00:28:43,156 --> 00:28:45,276
或者是

833
00:28:45,276 --> 00:28:46,876
其他你想要的注解

834
00:28:48,296 --> 00:28:49,406
这两个功能都是可变的

835
00:28:49,406 --> 00:28:51,046
所以

836
00:28:51,156 --> 00:28:52,786
你可以随时变更

837
00:28:52,786 --> 00:28:53,456
或提供其他选项

838
00:28:53,936 --> 00:28:55,546
我们可能想改变它

839
00:28:55,546 --> 00:28:59,066
比如 三辆单轮脚踏车和两辆三轮车

840
00:28:59,066 --> 00:29:00,686
所以

841
00:28:59,066 --> 00:29:00,686
所以

842
00:29:00,686 --> 00:29:02,796
即使没有定制注解视图

843
00:29:03,036 --> 00:29:04,956
你也可看到

844
00:29:04,956 --> 00:29:05,706
注解字幕是什么

845
00:29:06,236 --> 00:29:08,746
但是

846
00:29:08,746 --> 00:29:09,756
你也可能想要定制注解视图

847
00:29:10,866 --> 00:29:13,376
所以定制注解视图

848
00:29:14,686 --> 00:29:16,016
现在让我们看看这个小饼图

849
00:29:16,816 --> 00:29:19,646
注解视图是一个视图

850
00:29:20,126 --> 00:29:21,906
视图就会有边框

851
00:29:22,946 --> 00:29:25,646
但

852
00:29:25,716 --> 00:29:27,746
使显示优先等级

853
00:29:27,746 --> 00:29:30,016
隐藏内容并聚集起来的潜在要求

854
00:29:30,016 --> 00:29:31,976
是注解必须能察觉到

855
00:29:31,976 --> 00:29:33,716
是否有重叠

856
00:29:34,956 --> 00:29:36,426
既然是视图

857
00:29:36,426 --> 00:29:38,756
还有边框 

858
00:29:38,756 --> 00:29:39,986
我们可以利用边框

859
00:29:39,986 --> 00:29:40,396
来察觉碰撞

860
00:29:41,856 --> 00:29:43,546
这看起来不太好

861
00:29:44,236 --> 00:29:46,216
我是说 这是圆形的

862
00:29:46,216 --> 00:29:48,356
边框碰到了一起

863
00:29:48,356 --> 00:29:50,316
但是视觉上

864
00:29:50,316 --> 00:29:50,996
它们还没有碰上

865
00:29:51,066 --> 00:29:52,926
所以

866
00:29:52,926 --> 00:29:53,316
这不是我们想要的

867
00:29:53,686 --> 00:29:56,036
所以

868
00:29:56,116 --> 00:29:56,836
我们在注解视图里多加了一个性能

869
00:29:56,936 --> 00:29:58,056
我们叫它碰撞模式

870
00:29:58,776 --> 00:30:00,846
默认值是矩形

871
00:29:58,776 --> 00:30:00,846
默认值是矩形

872
00:30:01,486 --> 00:30:03,546
我们必须利用这个边框

873
00:30:04,196 --> 00:30:06,046
我们的另一个选项是

874
00:30:06,046 --> 00:30:06,596
圆形

875
00:30:07,516 --> 00:30:09,016
这里的注解边框

876
00:30:09,016 --> 00:30:11,956
我们用的是

877
00:30:11,956 --> 00:30:13,156
內接圆形

878
00:30:13,226 --> 00:30:14,446
现在我们把它们放到一起

879
00:30:14,446 --> 00:30:17,236
它们会碰撞

880
00:30:17,236 --> 00:30:18,806
就会在视觉碰撞时

881
00:30:18,806 --> 00:30:19,896
察觉到碰撞

882
00:30:20,646 --> 00:30:23,796
但不是所有注解视图

883
00:30:23,796 --> 00:30:25,996
都是完美的形状

884
00:30:26,216 --> 00:30:27,406
有一些还是

885
00:30:27,406 --> 00:30:28,146
矩形

886
00:30:28,636 --> 00:30:30,406
碰撞模式的矩形

887
00:30:30,976 --> 00:30:32,926
在碰撞时

888
00:30:32,926 --> 00:30:33,566
用的还是这个矩形

889
00:30:33,816 --> 00:30:35,546
但若把它改成圆形

890
00:30:35,546 --> 00:30:37,746
它就变成了一个圆形

891
00:30:37,956 --> 00:30:40,256
所以 我们就可以利用

892
00:30:40,336 --> 00:30:41,836
矩形里的內接圆形

893
00:30:41,836 --> 00:30:43,376
而不是內接椭圆

894
00:30:44,646 --> 00:30:45,916
这里需要

895
00:30:45,916 --> 00:30:46,736
记一下笔记

896
00:30:47,106 --> 00:30:49,936
有的边框

897
00:30:49,936 --> 00:30:50,996
不是矩形也不是圆形

898
00:30:50,996 --> 00:30:51,996
我们可能有

899
00:30:51,996 --> 00:30:52,966
好看一点的

900
00:30:53,446 --> 00:30:55,776
比如 高尔夫应用程序上的

901
00:30:55,776 --> 00:30:58,256
好看的 3D 的

902
00:30:58,606 --> 00:31:00,566
高尔夫俱乐部的图标

903
00:30:58,606 --> 00:31:00,566
高尔夫俱乐部的图标

904
00:31:00,726 --> 00:31:02,626
我们把地图倾斜到 3D 模式时

905
00:31:02,626 --> 00:31:04,236
把它们合到了一起

906
00:31:04,236 --> 00:31:05,196
其实是想稍稍重叠

907
00:31:05,196 --> 00:31:06,716
因为

908
00:31:06,716 --> 00:31:07,016
这样看起来很酷

909
00:31:07,796 --> 00:31:09,056
其实很好看

910
00:31:09,476 --> 00:31:10,806
所以如果我们只用矩形

911
00:31:10,806 --> 00:31:13,306
这早就

912
00:31:13,306 --> 00:31:16,226
超过了

913
00:31:16,266 --> 00:31:16,716
可察觉的碰撞范围

914
00:31:17,196 --> 00:31:19,436
如果用圆形呢

915
00:31:19,596 --> 00:31:21,056
不行 这不太合适

916
00:31:21,056 --> 00:31:22,486
我想说

917
00:31:22,486 --> 00:31:23,536
我们想要的是

918
00:31:23,536 --> 00:31:25,566
类似这样的 

919
00:31:25,566 --> 00:31:26,666
就是底部的

920
00:31:26,666 --> 00:31:30,076
五点外嵌选项的圆形

921
00:31:30,076 --> 00:31:31,056
我们之前没给过你们

922
00:31:32,916 --> 00:31:34,126
对不起

923
00:31:34,236 --> 00:31:34,536
你们没有这个选项

924
00:31:35,556 --> 00:31:38,256
相反 

925
00:31:38,256 --> 00:31:39,716
我们回到了

926
00:31:39,716 --> 00:31:42,446
去年 iOS 和 macOS

927
00:31:42,446 --> 00:31:43,596
引入外部布局的时候

928
00:31:43,976 --> 00:31:45,096
你们有

929
00:31:45,096 --> 00:31:46,996
直线矩形嵌入物

930
00:31:46,996 --> 00:31:49,126
若两个视图要排在一起

931
00:31:49,126 --> 00:31:51,546
你可以进行设置

932
00:31:51,546 --> 00:31:53,686
那么

933
00:31:53,686 --> 00:31:56,246
你要用什么样的嵌入物

934
00:31:56,246 --> 00:31:57,526
才能让它们看起来好看

935
00:31:58,196 --> 00:31:59,626
这也是我们正在

936
00:31:59,626 --> 00:32:00,776
对注解视图所做的事情

937
00:31:59,626 --> 00:32:00,776
对注解视图所做的事情

938
00:32:01,656 --> 00:32:03,396
什么是

939
00:32:04,166 --> 00:32:05,476
看起来好看的碰撞矩形

940
00:32:05,776 --> 00:32:07,016
所以 你要做的就是

941
00:32:07,386 --> 00:32:09,726
覆盖它

942
00:32:09,726 --> 00:32:10,176
但是找点什么补上去

943
00:32:10,356 --> 00:32:11,946
所以

944
00:32:11,946 --> 00:32:13,836
上面我们可以设置 50 点

945
00:32:14,056 --> 00:32:15,156
然后把碰撞区域移下来

946
00:32:15,676 --> 00:32:17,596
左边  0 

947
00:32:17,706 --> 00:32:19,026
我们不需要改动

948
00:32:19,406 --> 00:32:21,176
底边 我们移动 -5

949
00:32:21,176 --> 00:32:23,326
因为

950
00:32:23,426 --> 00:32:24,746
我们想要外嵌 不是内嵌

951
00:32:25,206 --> 00:32:26,966
然后

952
00:32:26,966 --> 00:32:27,256
右边缘也这样改动

953
00:32:27,726 --> 00:32:30,756
现在就是

954
00:32:31,056 --> 00:32:32,966
底部的一个五点外嵌小圆

955
00:32:32,966 --> 00:32:34,876
是我们想要的

956
00:32:35,426 --> 00:32:38,356
当我们把它们碰在一起的时候

957
00:32:38,356 --> 00:32:40,366
这看起来就很美观了

958
00:32:41,256 --> 00:32:42,946
让我们看看

959
00:32:42,946 --> 00:32:44,166
设置

960
00:32:44,166 --> 00:32:45,156
定制注解视图的代码

961
00:32:45,516 --> 00:32:48,816
有一点建议和技巧

962
00:32:48,816 --> 00:32:50,516
可以代码看起来

963
00:32:50,516 --> 00:32:53,186
更现代化 更美观

964
00:32:54,046 --> 00:32:55,466
开始吧

965
00:32:57,256 --> 00:32:59,876
所以 先运行应用程序

966
00:32:59,876 --> 00:33:01,816
确保正常运转

967
00:32:59,876 --> 00:33:01,816
确保正常运转

968
00:33:04,196 --> 00:33:05,366
建立成功

969
00:33:05,806 --> 00:33:06,506
编译

970
00:33:07,106 --> 00:33:07,806
开始运行了

971
00:33:08,796 --> 00:33:12,426
我们把它们放到一起时

972
00:33:12,426 --> 00:33:13,476
它们发生了碰撞

973
00:33:14,286 --> 00:33:15,116
它们分开了

974
00:33:16,156 --> 00:33:16,806
所以 这是有效的

975
00:33:18,196 --> 00:33:20,646
看看代码

976
00:33:20,646 --> 00:33:23,056
我们有地图视图

977
00:33:23,056 --> 00:33:23,686
注解视图

978
00:33:25,016 --> 00:33:26,346
要做的第一件事是

979
00:33:26,346 --> 00:33:28,386
看看这是不是

980
00:33:28,386 --> 00:33:29,226
我们自己的注解之一

981
00:33:29,486 --> 00:33:34,606
如果是

982
00:33:34,606 --> 00:33:36,346
我们把它进行大规模设置然后准备好

983
00:33:37,266 --> 00:33:39,856
否则

984
00:33:39,856 --> 00:33:41,206
我们要检查它是不是系统提供的

985
00:33:41,616 --> 00:33:42,706
聚类注解

986
00:33:43,396 --> 00:33:46,246
如果是

987
00:33:46,246 --> 00:33:46,986
我们用不同的方法设置

988
00:33:48,016 --> 00:33:50,286
其他情况下

989
00:33:50,286 --> 00:33:51,846
我们恢复零点

990
00:33:51,846 --> 00:33:52,406
回到系统默认

991
00:33:52,886 --> 00:33:54,526
现在是

992
00:33:54,526 --> 00:33:57,156
所有用户的定位

993
00:33:57,156 --> 00:33:58,836
但之后

994
00:33:58,996 --> 00:34:00,226
我们可能会

995
00:33:58,996 --> 00:34:00,226
我们可能会

996
00:34:00,226 --> 00:34:00,696
添加更多的系统注解

997
00:34:00,696 --> 00:34:02,106
所以 很好

998
00:34:02,776 --> 00:34:05,006
不要在默认时

999
00:34:05,006 --> 00:34:05,486
检查用户定位

1000
00:34:05,986 --> 00:34:07,616
做其他的事 恢复零值

1001
00:34:07,616 --> 00:34:08,795
其他情况下

1002
00:34:08,826 --> 00:34:11,386
让系统来正确处理

1003
00:34:12,376 --> 00:34:15,795
这有很多代码

1004
00:34:15,795 --> 00:34:18,436
但是

1005
00:34:18,755 --> 00:34:19,946
在我们的视图管理器看来

1006
00:34:19,946 --> 00:34:21,856
这和其将如何显示

1007
00:34:21,856 --> 00:34:24,606
或者

1008
00:34:24,606 --> 00:34:26,096
所有的东西将如何显示

1009
00:34:26,096 --> 00:34:26,565
没有任何关系

1010
00:34:26,856 --> 00:34:29,005
所以 

1011
00:34:29,005 --> 00:34:30,136
我觉得这不应该出现在视图管理器中

1012
00:34:30,746 --> 00:34:35,906
所以如果

1013
00:34:35,976 --> 00:34:39,416
我把我的项目视图拖过来 加进去

1014
00:34:39,416 --> 00:34:43,045
首先我要做的是

1015
00:34:43,045 --> 00:34:44,996
把文件加到目标文件里

1016
00:34:45,126 --> 00:34:47,085
不然它不会编译

1017
00:34:47,606 --> 00:34:48,045
就是这样

1018
00:34:48,946 --> 00:34:51,966
注解视图的另一条建议是

1019
00:34:51,966 --> 00:34:54,505
你可以不管

1020
00:34:54,505 --> 00:34:56,126
设置注解方法

1021
00:34:56,126 --> 00:34:58,186
并

1022
00:34:58,186 --> 00:34:58,516
进行配置

1023
00:34:58,886 --> 00:35:00,416
同样

1024
00:34:58,886 --> 00:35:00,416
同样

1025
00:35:00,416 --> 00:35:02,036
我知道会有一辆自行车

1026
00:35:02,326 --> 00:35:04,746
如果我得到了自行车

1027
00:35:04,746 --> 00:35:07,066
我对其进行设置 准备 然后就完成了

1028
00:35:08,876 --> 00:35:11,426
这可以让我

1029
00:35:11,746 --> 00:35:20,276
回到这里

1030
00:35:20,276 --> 00:35:20,726
把这些都删掉

1031
00:35:21,086 --> 00:35:23,846
不对 这不行

1032
00:35:23,996 --> 00:35:25,776
删掉所有的这些内容

1033
00:35:25,776 --> 00:35:27,816
因为这不适合

1034
00:35:27,816 --> 00:35:28,656
出现在视图管理器里

1035
00:35:28,656 --> 00:35:30,116
这小了很多

1036
00:35:31,546 --> 00:35:33,716
另一个可能会惹恼

1037
00:35:33,906 --> 00:35:38,276
SWF 开发人员的是

1038
00:35:38,276 --> 00:35:40,376
这里的这个视图是可选的

1039
00:35:40,986 --> 00:35:42,926
我们不想要可选的

1040
00:35:43,986 --> 00:35:47,416
我们想要正常的

1041
00:35:47,416 --> 00:35:48,536
需要变量的

1042
00:35:49,146 --> 00:35:52,326
现在 有视图的定量重复使用的

1043
00:35:52,416 --> 00:35:56,416
注解的确恢复成可选的

1044
00:35:57,366 --> 00:36:00,296
但是我们把它固定

1045
00:35:57,366 --> 00:36:00,296
但是我们把它固定

1046
00:36:00,296 --> 00:36:00,876
然后提供一个差不多的

1047
00:36:01,546 --> 00:36:04,506
有标识符的

1048
00:36:04,506 --> 00:36:07,116
定量可重复使用注解

1049
00:36:07,976 --> 00:36:09,556
这是根据

1050
00:36:09,556 --> 00:36:11,676
用户界面表格视图和用户界面结合视图

1051
00:36:11,676 --> 00:36:12,706
的定量方法塑造的

1052
00:36:13,366 --> 00:36:15,016
所以 

1053
00:36:15,016 --> 00:36:15,636
它总会恢复

1054
00:36:15,886 --> 00:36:21,066
让我们来试试

1055
00:36:21,546 --> 00:36:27,446
这是你们打字的方式

1056
00:36:27,446 --> 00:36:30,356
然后是注解

1057
00:36:30,896 --> 00:36:32,546
你可能注意到了

1058
00:36:32,546 --> 00:36:33,326
我没有美语键盘

1059
00:36:34,176 --> 00:36:36,976
这样的话

1060
00:36:37,566 --> 00:36:40,206
我们就不需要检查

1061
00:36:40,206 --> 00:36:42,886
我们到底做了没有

1062
00:36:42,886 --> 00:36:43,296
而是直接把它创造出来

1063
00:36:43,916 --> 00:36:45,346
我们无需设置注解

1064
00:36:45,346 --> 00:36:46,866
因为

1065
00:36:46,946 --> 00:36:48,256
我们把它

1066
00:36:48,786 --> 00:36:49,936
交给了初始程序

1067
00:36:50,916 --> 00:36:52,656
实际上 还可以进一步

1068
00:36:53,866 --> 00:36:56,566
我们把这个都删了

1069
00:36:56,606 --> 00:36:57,726
我们不需要这个

1070
00:36:58,556 --> 00:37:00,586
因为

1071
00:36:58,556 --> 00:37:00,586
因为

1072
00:37:00,586 --> 00:37:04,576
我们的注解

1073
00:37:04,576 --> 00:37:05,606
可以重复使用标识符

1074
00:37:06,456 --> 00:37:08,666
在表格视图

1075
00:37:09,196 --> 00:37:10,816
和集合视图中

1076
00:37:10,996 --> 00:37:13,406
我们倾斜了地图视图

1077
00:37:13,406 --> 00:37:14,086
我想注册

1078
00:37:14,476 --> 00:37:17,596
利用自行车视图分类

1079
00:37:17,596 --> 00:37:20,516
以使用任何重复使用的标识符

1080
00:37:20,516 --> 00:37:22,746
你就可以选取

1081
00:37:22,746 --> 00:37:24,666
一个或两个

1082
00:37:25,066 --> 00:37:26,566
我们提供给你的

1083
00:37:26,566 --> 00:37:26,776
常量

1084
00:37:27,146 --> 00:37:29,746
我们在任何单独注解视图中

1085
00:37:29,986 --> 00:37:31,496
使用的默认注解视图

1086
00:37:31,496 --> 00:37:33,006
是由

1087
00:37:33,006 --> 00:37:35,606
系统创建的

1088
00:37:35,796 --> 00:37:37,526
也是由我们在任何系统中的

1089
00:37:37,526 --> 00:37:39,826
默认聚类注解视图

1090
00:37:39,826 --> 00:37:40,006
创立的

1091
00:37:40,876 --> 00:37:49,226
现在我们运行的时候

1092
00:37:49,496 --> 00:37:50,186
它就会编译

1093
00:37:50,626 --> 00:37:52,496
运行 启动

1094
00:37:53,066 --> 00:37:55,236
我们不用代码把它们移到一起

1095
00:37:55,866 --> 00:37:57,636
它们就合起来了

1096
00:37:58,996 --> 00:38:01,136
我们把它们组团时

1097
00:37:58,996 --> 00:38:01,136
我们把它们组团时

1098
00:38:01,136 --> 00:38:02,626
饼图就更好看了

1099
00:38:03,506 --> 00:38:05,416
以上就是

1100
00:38:05,416 --> 00:38:06,586
为你们提供的建议

1101
00:38:06,586 --> 00:38:08,686
以使注解视图更加简洁

1102
00:38:09,456 --> 00:38:10,406
回到幻灯片

1103
00:38:11,516 --> 00:38:14,516
[掌声]

1104
00:38:15,016 --> 00:38:19,216
谢谢大家参加这次会议

1105
00:38:19,846 --> 00:38:21,036
今天

1106
00:38:21,036 --> 00:38:21,376
我们讲了很多

1107
00:38:21,826 --> 00:38:25,286
首先是新的地图类型

1108
00:38:25,286 --> 00:38:28,566
可淡去标准地图

1109
00:38:28,566 --> 00:38:30,786
可以使你在应用程序中的数据

1110
00:38:30,786 --> 00:38:32,326
突出显示

1111
00:38:33,146 --> 00:38:35,446
我们提供了所有

1112
00:38:35,516 --> 00:38:37,936
合适的地图视图

1113
00:38:37,936 --> 00:38:40,266
所以你可以设置显示

1114
00:38:40,266 --> 00:38:42,576
随时随地显示

1115
00:38:42,576 --> 00:38:43,666
以

1116
00:38:43,666 --> 00:38:44,516
适应应用程序

1117
00:38:45,066 --> 00:38:45,686
也有新的标记注解视图

1118
00:38:45,686 --> 00:38:47,506
可以

1119
00:38:47,506 --> 00:38:49,736
让你一眼

1120
00:38:49,736 --> 00:38:51,486
就看到更多信息

1121
00:38:51,486 --> 00:38:53,176
而不用

1122
00:38:53,176 --> 00:38:54,296
一直都在寻找数据

1123
00:38:54,976 --> 00:38:57,006
还有 标记注解视图

1124
00:38:57,006 --> 00:38:59,386
与新的应用程序界面

1125
00:38:59,416 --> 00:39:03,206
在显示优先级和聚类方面运行良好

1126
00:38:59,416 --> 00:39:03,206
在显示优先级和聚类方面运行良好

1127
00:39:03,236 --> 00:39:06,276
以使

1128
00:39:06,276 --> 00:39:08,906
数据更美观

1129
00:39:09,426 --> 00:39:10,236
地图更简洁

1130
00:39:10,946 --> 00:39:13,556
登陆这个网页

1131
00:39:13,556 --> 00:39:14,036
可以查看更多信息

1132
00:39:14,776 --> 00:39:17,666
今天

1133
00:39:17,766 --> 00:39:19,146
我也给大家展示了

1134
00:39:19,446 --> 00:39:20,326
应用程序的简单代码

1135
00:39:20,906 --> 00:39:22,466
请思考一下

1136
00:39:22,466 --> 00:39:24,106
然后

1137
00:39:24,106 --> 00:39:24,446
看看你能用它创造出什么

1138
00:39:24,796 --> 00:39:26,376
我非常期待

1139
00:39:26,376 --> 00:39:28,646
看到你们将要进行的工作

1140
00:39:29,186 --> 00:39:30,456
对了

1141
00:39:30,456 --> 00:39:32,486
别忘了看看

1142
00:39:32,706 --> 00:39:34,116
昨天

1143
00:39:34,116 --> 00:39:34,666
定位技术最新分享的视频

1144
00:39:34,966 --> 00:39:36,956
以及去年

1145
00:39:36,956 --> 00:39:38,136
MapKit 最新内容视频

1146
00:39:38,636 --> 00:39:39,416
非常感谢大家
