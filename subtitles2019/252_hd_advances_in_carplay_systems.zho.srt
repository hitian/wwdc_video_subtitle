1
00:00:06,406 --> 0:00:07,541
（CarPlay车载系统进阶）

2
00:00:07,608 --> 0:00:10,477
大家好 我是Tom

3
00:00:10,544 --> 0:00:13,347
欢迎参加我们的CarPlay

4
00:00:15,182 --> 0:00:19,686
你知道CarPlay车载是在车里

5
00:00:20,621 --> 0:00:23,457
iOS 13中有许多针对

6
00:00:23,524 --> 0:00:25,592
包括全新的CarPlay车载控制面板

7
00:00:25,659 --> 0:00:30,163
可以轻松地浏览你的音乐、

8
00:00:31,298 --> 0:00:34,368
在本场演讲中

9
00:00:34,434 --> 0:00:36,737
这是iOS 13中的新功能

10
00:00:37,538 --> 0:00:39,473
今天我们所谈到的全部功能

11
00:00:39,540 --> 0:00:42,309
都需要车载系统采用新API

12
00:00:42,376 --> 0:00:45,646
在CarPlay车载Communication

13
00:00:47,514 --> 0:00:51,218
今天我们将介绍CarPlay车载中

14
00:00:51,285 --> 0:00:53,787
你以后可以在车载系统中使用

15
00:00:55,422 --> 0:00:56,290
首先

16
00:00:56,356 --> 0:00:59,526
让我们看看CarPlay车载如何支持

17
00:01:00,727 --> 0:01:04,431
车载系统决定了显示屏的

18
00:01:04,498 --> 0:01:08,101
而iPhone将为那个尺寸

19
00:01:08,168 --> 0:01:09,703
将在显示屏中进行渲染

20
00:01:10,671 --> 0:01:12,005
在iOS 13之前

21
00:01:12,072 --> 0:01:15,742
会在视频屏幕上全屏显示

22
00:01:16,376 --> 0:01:19,847
然而 有些汽车显示屏装有一些配饰

23
00:01:19,913 --> 0:01:22,749
可能会掩盖CarPlay车载的

24
00:01:23,050 --> 0:01:25,352
限制使用一些触摸式控制

25
00:01:25,419 --> 0:01:26,486
并阻止用户

26
00:01:26,553 --> 0:01:29,089
查看UI的某些部分

27
00:01:30,591 --> 0:01:31,758
在iOS 13中

28
00:01:31,825 --> 0:01:34,595
CarPlay车载支持

29
00:01:35,162 --> 0:01:37,464
首先 你的系统定义了可视区域

30
00:01:37,698 --> 0:01:39,199
这代表CarPlay车载

31
00:01:39,266 --> 0:01:42,503
可以呈现用户界面图像的矩形

32
00:01:43,604 --> 0:01:46,440
可视区域还包含安全区域

33
00:01:47,407 --> 0:01:52,145
安全区域也是一个矩形

34
00:01:53,614 --> 0:01:56,183
安全区域代表那部分显示屏

35
00:01:56,250 --> 0:01:58,252
将包含交互内容

36
00:01:58,752 --> 0:02:02,022
这包括用户界面元素

37
00:01:58,752 --> 0:02:02,022
这包括用户界面元素

38
00:02:02,089 --> 0:02:05,659
以及重要的状态信息

39
00:02:05,726 --> 0:02:07,394
以及路径导航信息

40
00:02:07,794 --> 0:02:12,099
iPhone将在安全区域范围内

41
00:02:13,667 --> 0:02:16,503
现代的汽车显示屏可以是

42
00:02:16,737 --> 0:02:19,006
显示屏自身也许不是矩形的

43
00:02:19,072 --> 0:02:22,509
或者显示屏的一部分

44
00:02:23,010 --> 0:02:25,546
在iOS 13中

45
00:02:25,612 --> 0:02:28,382
来更好地支持非矩形显示屏

46
00:02:28,982 --> 0:02:31,585
首先 系统定义一个可视区域

47
00:02:32,252 --> 0:02:33,820
在这种情况下 可视区域矩形

48
00:02:33,887 --> 0:02:36,990
将由显示屏的最宽和最高点决定

49
00:02:37,291 --> 0:02:40,861
这就允许CarPlay车载图像

50
00:02:41,628 --> 0:02:43,197
然后安全区域矩形

51
00:02:43,263 --> 0:02:45,399
将在CarPlay车载UI

52
00:02:45,465 --> 0:02:48,168
确保用户可见

53
00:02:48,235 --> 0:02:50,304
并可交互的显示屏部分进行声明

54
00:02:51,872 --> 0:02:54,675
这就是我们在形状不规则的

55
00:02:56,510 --> 0:02:59,980
接下来让我们谈谈

56
00:03:01,014 --> 0:03:02,549
在iOS 13之前

57
00:03:02,616 --> 0:03:05,419
iPhone提供单一的

58
00:03:05,485 --> 0:03:08,722
用于在显示屏的中央控制台中

59
00:03:09,289 --> 0:03:12,993
这为用户提供了一种很好的方式

60
00:03:13,060 --> 0:03:15,329
以及与音乐app等进行交互

61
00:03:15,863 --> 0:03:20,000
但这把用户CarPlay车载体验

62
00:03:21,535 --> 0:03:24,705
许多汽车在驾驶位正前方

63
00:03:24,771 --> 0:03:27,941
用于显示重要信息

64
00:03:28,442 --> 0:03:32,913
在iOS 13中

65
00:03:32,980 --> 0:03:36,283
用于在汽车的仪表板中

66
00:03:36,917 --> 0:03:40,020
这个方法很棒 可以直接在仪表板中

67
00:03:40,087 --> 0:03:42,089
显示CarPlay车载app的

68
00:03:44,191 --> 0:03:46,093
并且可以在仪表板的不同区域

69
00:03:46,159 --> 0:03:48,228
显示不同类型的信息

70
00:03:48,295 --> 0:03:50,097
通过一个以上的视频流

71
00:03:51,665 --> 0:03:55,269
iOS 13中CarPlay车载

72
00:03:55,335 --> 0:03:56,803
由Apple Maps提供

73
00:03:57,371 --> 0:03:58,505
以及地图视图

74
00:03:58,572 --> 0:04:01,208
可以通过指令卡同时进行渲染

75
00:03:58,572 --> 0:04:01,208
可以通过指令卡同时进行渲染

76
00:04:01,275 --> 0:04:03,210
在两个独立的视频流中

77
00:04:04,378 --> 0:04:07,114
每个视频流都拥有独立的夜间模式

78
00:04:07,181 --> 0:04:09,850
允许车载系统为不同内容类型

79
00:04:09,917 --> 0:04:11,451
指定外观模式

80
00:04:12,219 --> 0:04:16,557
同时车载系统选择在每个视频流中

81
00:04:16,790 --> 0:04:17,791
对于仪表板

82
00:04:17,858 --> 0:04:20,427
CarPlay车载将只显示

83
00:04:20,494 --> 0:04:21,928
汽车所选择的内容类型

84
00:04:22,729 --> 0:04:25,032
但请注意对于平视显示器来说

85
00:04:25,098 --> 0:04:28,702
将继续使用来自

86
00:04:28,769 --> 0:04:30,137
那么考虑到这个

87
00:04:30,204 --> 0:04:33,307
让我们来看看

88
00:04:33,373 --> 0:04:36,109
把CarPlay车载

89
00:04:36,810 --> 0:04:40,647
可以从CarPlay车载的app中

90
00:04:40,714 --> 0:04:43,684
比如导航、音频和来电

91
00:04:44,418 --> 0:04:48,622
首先可以视频形式显示

92
00:04:48,689 --> 0:04:50,090
来自iPhone的地图或导航信息

93
00:04:50,457 --> 0:04:52,526
还可以使用

94
00:04:52,593 --> 0:04:57,231
以元数据形式提供

95
00:04:57,831 --> 0:05:00,267
这跟其它的iAP2功能一样

96
00:04:57,831 --> 0:05:00,267
这跟其它的iAP2功能一样

97
00:05:00,334 --> 0:05:04,104
要求车载系统

98
00:05:04,705 --> 0:05:08,642
当前所播放的音乐或广播 可以使用

99
00:05:08,709 --> 0:05:11,712
并使用iAP2 Communications功能

100
00:05:11,778 --> 0:05:14,281
处理正在进行中的来电的相关信息

101
00:05:15,115 --> 0:05:19,453
可以使用iAP2 Call Controls

102
00:05:19,520 --> 0:05:22,990
允许系统在来电时

103
00:05:23,056 --> 0:05:23,891
比如静音

104
00:05:24,458 --> 0:05:25,325
切换通话

105
00:05:26,093 --> 0:05:27,060
以及挂掉电话

106
00:05:29,196 --> 0:05:31,398
在仪表板中显示CarPlay车载内容

107
00:05:31,465 --> 0:05:33,100
是车载系统另一个受益于

108
00:05:33,166 --> 0:05:36,069
使用安全区域和可视区域的部分

109
00:05:36,670 --> 0:05:39,373
在这个例子中 可视区域是指

110
00:05:39,439 --> 0:05:42,209
虚拟转速表之间及其背后的矩形

111
00:05:42,709 --> 0:05:46,813
从审美角度来说 在这个区域填充

112
00:05:46,880 --> 0:05:49,516
其中有些内容

113
00:05:49,783 --> 0:05:53,687
因此应该在两个转速表之间

114
00:05:53,754 --> 0:05:56,290
这样CarPlay车载将会

115
00:05:56,356 --> 0:05:57,991
在用户可见的区域显示重要信息

116
00:05:59,526 --> 0:06:03,130
可以设置多个视频流来显示

117
00:05:59,526 --> 0:06:03,130
可以设置多个视频流来显示

118
00:06:03,197 --> 0:06:04,498
在仪表板中

119
00:06:05,065 --> 0:06:07,534
比如第二个视频流可以是地图视图

120
00:06:07,601 --> 0:06:09,870
第三个视频流可以是指令卡

121
00:06:11,104 --> 0:06:13,340
在虚拟转速表中显示内容

122
00:06:13,407 --> 0:06:16,310
也将充分利用可视区域和安全区域

123
00:06:17,077 --> 0:06:20,714
包含整个圆形的矩形将作为可视区域

124
00:06:20,781 --> 0:06:23,951
而完全包含在圆形内部的矩形

125
00:06:24,017 --> 0:06:25,185
将作为安全区域

126
00:06:25,752 --> 0:06:29,022
再说一次CarPlay车载

127
00:06:29,089 --> 0:06:30,824
将在用户可视的区域内显示重要信息

128
00:06:31,959 --> 0:06:34,761
那么这就是我们关于第二屏幕的更新

129
00:06:36,430 --> 0:06:38,665
现在让我们看看最后一个影响

130
00:06:38,732 --> 0:06:42,603
就是改变动态屏幕的尺寸

131
00:06:43,604 --> 0:06:46,340
在iOS 13之前

132
00:06:46,406 --> 0:06:49,176
一直都是固定的

133
00:06:49,476 --> 0:06:51,678
现在CarPlay车载UI的尺寸

134
00:06:51,745 --> 0:06:54,181
可以按照用户需求进行即时变更

135
00:06:54,481 --> 0:06:57,084
通过为该显示屏声明多个可视区域

136
00:06:57,851 --> 0:07:01,522
这对于诸如此类支持可配置

137
00:06:57,851 --> 0:07:01,522
这对于诸如此类支持可配置

138
00:07:01,588 --> 0:07:02,990
水平拆分屏幕的系统来说非常棒

139
00:07:03,056 --> 0:07:04,424
还有较大的纵向屏幕

140
00:07:04,491 --> 0:07:07,995
通常划分为不同的特定情境的区域

141
00:07:08,529 --> 0:07:10,864
CarPlay车载

142
00:07:10,931 --> 0:07:14,768
可以让用户在CarPlay车载

143
00:07:15,836 --> 0:07:19,006
这可以帮助在全屏配置中

144
00:07:19,072 --> 0:07:22,609
而不需要在本地UI中保留

145
00:07:22,676 --> 0:07:24,878
专用于控制退出配置的区域

146
00:07:26,680 --> 0:07:29,783
不仅支持在显示屏的中央控制台中

147
00:07:29,850 --> 0:07:31,785
还支持在仪表板中重新调整尺寸

148
00:07:32,853 --> 0:07:35,656
让我们以刚才讲到的仪表板为例

149
00:07:35,722 --> 0:07:39,193
演示如何在CarPlay车载中

150
00:07:40,194 --> 0:07:41,895
假如这块仪表板

151
00:07:41,962 --> 0:07:44,798
可以允许用户把虚拟转速表

152
00:07:44,865 --> 0:07:47,367
移动到两个优选位置中的一个位置

153
00:07:48,936 --> 0:07:49,970
为此

154
00:07:50,037 --> 0:07:52,372
CarPlay车载图像

155
00:07:52,439 --> 0:07:55,042
根据虚拟转速表所在的位置

156
00:07:56,343 --> 0:07:59,980
为此可以对这块显示屏

157
00:08:00,547 --> 0:08:03,650
让我们声明第一个可视区域

158
00:08:03,717 --> 0:08:06,053
并包含一个

159
00:08:08,088 --> 0:08:09,489
对于较窄的配置

160
00:08:09,556 --> 0:08:13,227
需要使用第二可视区域

161
00:08:14,027 --> 0:08:15,896
车载系统还可以指定

162
00:08:15,963 --> 0:08:18,866
这些配置之间的过渡长度

163
00:08:19,266 --> 0:08:23,270
从而在同一个时间框架中

164
00:08:24,037 --> 0:08:26,373
让我们看看如何转换

165
00:08:28,175 --> 0:08:32,346
用户一开始是在较宽的配置中

166
00:08:32,412 --> 0:08:35,048
可能是一个方向盘按钮

167
00:08:37,049 --> 0:08:40,254
在这个三秒的转换期内

168
00:08:40,320 --> 0:08:43,222
H.264框架中编码图像的尺寸

169
00:08:43,423 --> 0:08:44,591
允许车载系统

170
00:08:44,658 --> 0:08:47,794
同步定位它自己的

171
00:08:48,228 --> 0:08:49,129
那么总的来说

172
00:08:49,997 --> 0:08:52,599
中央控制台和仪表板显示屏

173
00:08:52,666 --> 0:08:54,501
都支持动态地重新调整尺寸

174
00:08:55,435 --> 0:08:57,704
重新调整UI的尺寸可以由用户触发

175
00:08:57,771 --> 0:09:01,141
无论通过本地或CarPlay车

176
00:08:57,771 --> 0:09:01,141
无论通过本地或CarPlay车

177
00:09:02,309 --> 0:09:03,210
车载系统

178
00:09:03,277 --> 0:09:06,146
要声明可视区域之间需要多长的过渡

179
00:09:07,881 --> 0:09:11,485
并且CarPlay车载提供更新

180
00:09:11,552 --> 0:09:15,455
以便车载系统

181
00:09:17,191 --> 0:09:19,793
这就是关于显示屏的全部新功能

182
00:09:20,093 --> 0:09:21,461
感谢大家的聆听

183
00:09:21,762 --> 0:09:24,965
现在我要把舞台交给Tanya

184
00:09:25,632 --> 0:09:26,500
谢谢Tom

185
00:09:26,867 --> 0:09:28,402
我是Tanya Kancheva

186
00:09:28,468 --> 0:09:33,273
我将分享如何在车载系统中

187
00:09:34,041 --> 0:09:35,108
那么当我们谈到在车载系统中

188
00:09:35,175 --> 0:09:38,312
支持Hey Siri时

189
00:09:39,346 --> 0:09:40,547
首先 当然了

190
00:09:40,781 --> 0:09:43,984
驾驶员可以不通过双手操作

191
00:09:44,051 --> 0:09:48,155
完全不需要按动按钮

192
00:09:48,956 --> 0:09:52,793
自从能使用汽车的麦克风

193
00:09:53,093 --> 0:09:57,731
iPhone就可以不用放在眼前了

194
00:09:58,165 --> 0:10:00,133
Siri都仍然可用

195
00:09:58,165 --> 0:10:00,133
Siri都仍然可用

196
00:10:01,802 --> 0:10:03,971
我们还升级了音频处理

197
00:10:04,037 --> 0:10:08,442
从而可以通过按下按钮

198
00:10:08,876 --> 0:10:11,712
你只需要按住方向盘上的

199
00:10:11,778 --> 0:10:12,913
并说出你的需求即可

200
00:10:12,980 --> 0:10:15,716
不需要等待声音触发器发声

201
00:10:16,216 --> 0:10:19,219
Siri会立即返回给你答案

202
00:10:21,321 --> 0:10:25,526
最后我们查看了Siri与Music

203
00:10:25,592 --> 0:10:28,996
并提供一个更加流畅

204
00:10:29,563 --> 0:10:33,934
当你与Siri互动时

205
00:10:37,237 --> 0:10:40,807
这是在CarPlay车载中

206
00:10:41,275 --> 0:10:44,545
其中一些内容你们应该已经很熟悉了

207
00:10:44,778 --> 0:10:47,147
但让我们继续看看细节

208
00:10:48,248 --> 0:10:49,750
要支持Hey Siri

209
00:10:49,816 --> 0:10:53,153
汽车内置麦克风需要一直保持激活

210
00:10:53,787 --> 0:10:56,657
并可进行连续的语音处理

211
00:10:57,624 --> 0:11:00,661
回音取消模块要保持运行

212
00:10:57,624 --> 0:11:00,661
回音取消模块要保持运行

213
00:11:00,727 --> 0:11:03,964
并移除通过车载音响

214
00:11:04,031 --> 0:11:07,100
并减少背景噪音

215
00:11:09,169 --> 0:11:13,040
麦克风数据

216
00:11:13,106 --> 0:11:15,576
在CarPlay车载

217
00:11:15,642 --> 0:11:19,112
可以录制数秒钟的历史音频

218
00:11:19,580 --> 0:11:22,015
缓冲器存储在车载系统内

219
00:11:22,082 --> 0:11:24,952
除非有触发器把它

220
00:11:26,053 --> 0:11:27,521
那么这个触发器是什么？

221
00:11:28,188 --> 0:11:30,090
事实上有两个模块

222
00:11:30,157 --> 0:11:32,793
可以使车载系统

223
00:11:33,360 --> 0:11:37,030
两个模块都会不间断地

224
00:11:37,564 --> 0:11:40,400
其中一个可以当驾驶员

225
00:11:40,467 --> 0:11:42,202
这是关键字检测器

226
00:11:42,636 --> 0:11:46,173
另一个可以当驾驶员开始谈话时触发

227
00:11:46,240 --> 0:11:48,342
这是声音活动检测器

228
00:11:49,076 --> 0:11:52,112
在车载系统中

229
00:11:52,179 --> 0:11:56,617
因为iPhone会决定

230
00:11:58,085 --> 0:12:01,221
现在假如触发了关键字检测器

231
00:11:58,085 --> 0:12:01,221
现在假如触发了关键字检测器

232
00:12:01,421 --> 0:12:05,425
那么车载系统通过通讯插件

233
00:12:06,727 --> 0:12:10,898
iPhone打开一个新的音频流

234
00:12:10,964 --> 0:12:14,468
请求发送一些历史音频数据

235
00:12:15,435 --> 0:12:21,642
所接收音频由iPhone上的一个

236
00:12:21,842 --> 0:12:24,978
当用户说“Hey Siri”时会进行识别

237
00:12:25,779 --> 0:12:30,551
第二个传输检测器在iPhone上

238
00:12:30,784 --> 0:12:35,355
类似于用户没开车时

239
00:12:36,423 --> 0:12:40,360
只有当触发了iPhone上的

240
00:12:41,195 --> 0:12:45,532
Siri才会被激活

241
00:12:47,968 --> 0:12:53,040
现在让我们看看这个架构

242
00:12:53,106 --> 0:12:54,541
通过按一个按钮

243
00:12:55,309 --> 0:13:00,814
正如我们已经看到的那样

244
00:12:55,309 --> 0:13:00,814
正如我们已经看到的那样

245
00:13:00,881 --> 0:13:04,651
会在车载系统内同时处理音频

246
00:13:06,587 --> 0:13:10,490
现在用户按了方向盘上的

247
00:13:10,858 --> 0:13:14,995
那会触发iPhone请求

248
00:13:15,062 --> 0:13:17,965
自用户按下按钮之时起的音频数据

249
00:13:18,532 --> 0:13:22,603
因为按动了按钮

250
00:13:22,970 --> 0:13:26,740
并且因为缓冲音频比实施音频传输快

251
00:13:27,107 --> 0:13:31,812
Siri可以在用户停止谈话后

252
00:13:33,380 --> 0:13:34,214
好的

253
00:13:34,481 --> 0:13:39,720
现在我们已经讨论了从车载系统中

254
00:13:40,320 --> 0:13:44,725
通过已检测的关键字、

255
00:13:45,125 --> 0:13:49,162
让我们看看当Siri激活后

256
00:13:50,797 --> 0:13:53,767
一般来说我们通常会在车里播放音乐

257
00:13:54,301 --> 0:13:55,135
在这种情况下

258
00:13:55,202 --> 0:13:58,071
假如音乐来自iPhone

259
00:13:58,739 --> 0:14:03,277
车载系统将接收音频 混合它

260
00:13:58,739 --> 0:14:03,277
车载系统将接收音频 混合它

261
00:14:03,610 --> 0:14:08,215
以前当CarPlay车载启动Siri时

262
00:14:08,282 --> 0:14:11,852
并且在播放Siri提示言之前

263
00:14:12,653 --> 0:14:14,154
在这个新架构中

264
00:14:14,388 --> 0:14:17,691
媒体播放和Siri提示言分开了

265
00:14:17,991 --> 0:14:20,994
因此可以一直在后台播放音乐

266
00:14:22,029 --> 0:14:23,430
当Siri启动后

267
00:14:23,497 --> 0:14:27,034
会输出一个Siri专用的

268
00:14:27,467 --> 0:14:29,570
将打开Aux Out

269
00:14:30,103 --> 0:14:36,743
然后车载系统将混合两个音频流

270
00:14:36,810 --> 0:14:40,914
并快速播放Siri的提示音

271
00:14:42,516 --> 0:14:46,286
但请不要忘记除了Siri提示音

272
00:14:46,854 --> 0:14:49,590
还可能会有激活的路径导航音

273
00:14:49,656 --> 0:14:53,861
因此混音器需要能混合三种

274
00:14:53,927 --> 0:14:55,162
来自iPhone的平行的音频流

275
00:14:57,064 --> 0:14:57,898
好的

276
00:14:58,232 --> 0:15:01,869
现在我们已经了解了

277
00:14:58,232 --> 0:15:01,869
现在我们已经了解了

278
00:15:02,135 --> 0:15:06,940
让我们快速总结一下

279
00:15:07,941 --> 0:15:09,643
首先是麦克风

280
00:15:09,710 --> 0:15:12,546
它会一直处理车载系统中的音频

281
00:15:13,614 --> 0:15:16,617
然后是回音消除器和降噪模块

282
00:15:16,683 --> 0:15:18,519
以便清理麦克风输入

283
00:15:20,020 --> 0:15:23,357
一个可以当驾驶员谈话时

284
00:15:25,025 --> 0:15:28,629
一个可以当听到Siri关键字时

285
00:15:30,831 --> 0:15:34,301
可以混合来自CarPlay车载的

286
00:15:36,703 --> 0:15:39,072
那么这就是关于Hey Siri的更新

287
00:15:40,841 --> 0:15:42,176
谢谢大家

288
00:15:42,709 --> 0:15:46,380
要获取更多信息请查看

289
00:15:47,080 --> 0:15:49,516
希望大家尽情享受
