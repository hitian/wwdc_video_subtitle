1
00:00:00,506 --> 0:00:05,916
[音乐]

2
00:00:06,416 --> 0:00:08,846
&gt;&gt; 大家好 我是 Neha Agrawal

3
00:00:08,846 --> 0:00:11,426
是一名语音识别软件工程师

4
00:00:12,426 --> 0:00:14,776
2016 年 我们推出了

5
00:00:14,776 --> 0:00:16,436
语音识别框架供开发者使用

6
00:00:16,686 --> 0:00:19,686
以满足他们的语音识别需求

7
00:00:20,326 --> 0:00:22,096
如果你对这一框架

8
00:00:22,096 --> 0:00:24,096
还不了解 我强烈建议你

9
00:00:24,316 --> 0:00:25,876
观看这场关于语音识别 API 的会议

10
00:00:25,876 --> 0:00:28,166
主讲人是我的同事

11
00:00:28,316 --> 0:00:29,246
Henry Mason

12
00:00:31,066 --> 0:00:32,695
本视频中 我们会探讨

13
00:00:32,695 --> 0:00:35,426
这些 API 取得的新进展

14
00:00:35,426 --> 0:00:36,906
我们现在开始

15
00:00:39,216 --> 0:00:42,206
语音识别现已支持 macOS

16
00:00:43,036 --> 0:00:44,706
既支持 AppKit

17
00:00:44,706 --> 0:00:47,716
也支持 Mac 上的 iPad App

18
00:00:48,886 --> 0:00:52,266
而且和 iOS 一样支持五十多种语言

19
00:00:53,816 --> 0:00:55,756
你需要用户授权

20
00:00:55,756 --> 0:00:57,856
访问麦克风

21
00:00:57,976 --> 0:00:59,616
从而录制语音

22
00:01:00,406 --> 0:01:01,736
用户还需要启用 Siri

23
00:01:02,876 --> 0:01:05,596
除了在 macOS 上支持

24
00:01:05,596 --> 0:01:08,366
语音识别外 我们现在还

25
00:01:08,366 --> 0:01:10,056
允许开发者

26
00:01:10,056 --> 0:01:12,026
为重视隐私的 App

27
00:01:12,026 --> 0:01:13,936
在设备本地运行语音识别

28
00:01:14,646 --> 0:01:17,876
支持设备本地运行

29
00:01:17,876 --> 0:01:20,586
用户的数据就不会传到 Apple 的服务器

30
00:01:22,096 --> 0:01:24,156
你的 App 不再需要

31
00:01:24,446 --> 0:01:27,136
依赖网络连接

32
00:01:27,136 --> 0:01:29,196
也不会消耗流量

33
00:01:31,216 --> 0:01:34,026
但同时 要权衡许多因素

34
00:01:34,736 --> 0:01:37,426
在设备本地运行时 识别很准确

35
00:01:37,426 --> 0:01:39,536
在服务器上运行

36
00:01:39,536 --> 0:01:41,416
效果更好 因为可以连续学习

37
00:01:41,666 --> 0:01:43,896
但服务器上的语音识别

38
00:01:43,896 --> 0:01:46,246
会受请求数量和

39
00:01:46,246 --> 0:01:48,196
语音时长的限制

40
00:01:48,976 --> 0:01:50,496
而在设备本地识别

41
00:01:50,876 --> 0:01:52,436
则不会受到这些限制

42
00:01:53,726 --> 0:01:54,776
服务器支持的

43
00:01:54,776 --> 0:01:57,256
语言种类远大于

44
00:01:57,256 --> 0:01:58,536
设备本地识别

45
00:01:59,846 --> 0:02:02,126
而且 如果服务器不可用

46
00:01:59,846 --> 0:02:02,126
而且 如果服务器不可用

47
00:02:02,126 --> 0:02:04,426
且支持设备本地识别

48
00:02:04,426 --> 0:02:06,376
服务模式会自动

49
00:02:06,376 --> 0:02:08,276
变为设备本地识别

50
00:02:09,156 --> 0:02:11,736
所有配备 A9 或更新处理器的

51
00:02:12,156 --> 0:02:13,196
iPhone 和 iPad

52
00:02:13,196 --> 0:02:15,746
以及所有的 Mac 均支持此功能

53
00:02:16,776 --> 0:02:18,086
设备本地识别

54
00:02:18,086 --> 0:02:19,856
现支持超过 10 种语言

55
00:02:20,426 --> 0:02:23,746
接下来 我们来看看如何

56
00:02:23,976 --> 0:02:25,876
用代码实现设备本地语音识别

57
00:02:26,536 --> 0:02:29,016
要识别预先录制的音频

58
00:02:29,386 --> 0:02:30,986
我们首先创建

59
00:02:30,986 --> 0:02:33,066
SFSpeechRecognizer 对象

60
00:02:33,066 --> 0:02:35,096
并检查语音识别

61
00:02:35,096 --> 0:02:36,856
能否用于这一对象

62
00:02:39,206 --> 0:02:40,346
如果语音识别可用

63
00:02:40,346 --> 0:02:42,516
我们就可以

64
00:02:42,516 --> 0:02:44,376
使用音频文件 URL 创建

65
00:02:44,376 --> 0:02:47,026
识别请求 并开始识别

66
00:02:49,676 --> 0:02:51,896
要使用设备本地识别

67
00:02:51,896 --> 0:02:53,616
首先要检查

68
00:02:53,616 --> 0:02:55,416
设备是否支持

69
00:02:55,416 --> 0:02:57,396
本地识别

70
00:02:57,606 --> 0:02:59,446
然后设置请求对象的

71
00:02:59,446 --> 0:03:01,396
requiresOnDeviceRecognition 属性

72
00:02:59,446 --> 0:03:01,396
requiresOnDeviceRecognition 属性

73
00:03:03,136 --> 0:03:04,586
我们看过了这部分代码

74
00:03:04,586 --> 0:03:07,006
接下来看看得到的结果

75
00:03:07,466 --> 0:03:11,466
从 iOS 10 开始

76
00:03:11,466 --> 0:03:13,016
识别结果中

77
00:03:13,016 --> 0:03:14,616
提供了语音转写

78
00:03:14,966 --> 0:03:16,486
不同版本的识别文本

79
00:03:16,786 --> 0:03:19,096
置信水平和时间信息

80
00:03:20,636 --> 0:03:22,146
现在我们要

81
00:03:22,146 --> 0:03:23,616
进一步扩充语音识别结果

82
00:03:26,776 --> 0:03:29,186
语音速率按每分钟词数衡量

83
00:03:29,186 --> 0:03:31,396
一个人说话的快慢程度

84
00:03:33,366 --> 0:03:35,006
平均停顿时长衡量

85
00:03:35,276 --> 0:03:37,336
词与词之间停顿的平均长度

86
00:03:37,906 --> 0:03:41,086
语音分析特征

87
00:03:41,306 --> 0:03:43,196
包含语音特征的

88
00:03:43,196 --> 0:03:44,566
不同参数

89
00:03:46,116 --> 0:03:47,906
语音分析可以

90
00:03:47,906 --> 0:03:49,416
帮助理解四种特征

91
00:03:50,186 --> 0:03:52,726
基频微扰衡量语音中音高的变化

92
00:03:53,446 --> 0:03:55,296
你可以借助语音分析

93
00:03:55,296 --> 0:03:57,066
用百分比的形式

94
00:03:57,066 --> 0:03:59,816
理解语音中基频微扰的程度

95
00:04:01,236 --> 0:04:02,926
振幅微扰衡量语音中

96
00:04:02,926 --> 0:04:04,886
音量大小的变化 你可以

97
00:04:04,886 --> 0:04:06,706
借助语音分析 以分贝为单位

98
00:04:06,706 --> 0:04:11,946
理解语音中振幅微扰的程度

99
00:04:12,096 --> 0:04:13,376
我们来听一些音频样本

100
00:04:13,376 --> 0:04:14,466
来理解高基频微扰

101
00:04:14,466 --> 0:04:16,166
和高振幅微扰

102
00:04:16,166 --> 0:04:17,125
音频是什么样的

103
00:04:17,606 --> 0:04:19,526
首先 我们来听一段

104
00:04:19,526 --> 0:04:20,276
正常语音

105
00:04:20,866 --> 0:04:21,546
&gt;&gt; Apple

106
00:04:23,276 --> 0:04:25,236
&gt;&gt; 现在来听一段修改过的语音

107
00:04:25,956 --> 0:04:26,846
&gt;&gt; Apple

108
00:04:27,926 --> 0:04:29,176
&gt;&gt; 下一项特征是音高

109
00:04:29,966 --> 0:04:31,976
音高衡量的是

110
00:04:31,976 --> 0:04:33,286
音调的高低

111
00:04:33,656 --> 0:04:36,266
一般来说 女性和儿童的音高更高

112
00:04:37,496 --> 0:04:39,426
发音则用来衡量

113
00:04:39,776 --> 0:04:41,766
语音中发音的位置

114
00:04:42,316 --> 0:04:44,956
语音分析特征

115
00:04:44,956 --> 0:04:46,516
因人而异

116
00:04:46,516 --> 0:04:49,926
也随时间和场合变化

117
00:04:50,636 --> 0:04:52,506
例如 如果讲话人较为疲惫

118
00:04:52,506 --> 0:04:54,876
那么语音分析特征

119
00:04:54,876 --> 0:04:56,616
便与不疲惫时有所不同

120
00:04:57,466 --> 0:04:59,346
而且 随着讲话人的

121
00:04:59,346 --> 0:05:00,996
说话对象发生变化

122
00:04:59,346 --> 0:05:00,996
说话对象发生变化

123
00:05:00,996 --> 0:05:01,976
这些特征也会随之改变

124
00:05:04,416 --> 0:05:06,556
这些新的结果是

125
00:05:06,556 --> 0:05:08,436
SFTranscription 对象的一部分

126
00:05:08,436 --> 0:05:10,016
而且会定期提供

127
00:05:10,556 --> 0:05:12,776
我们会在最后 也就是

128
00:05:12,986 --> 0:05:14,586
在 isFinal 标志发送后提供

129
00:05:14,996 --> 0:05:16,586
但也可以在此之前看到

130
00:05:17,306 --> 0:05:19,806
你可以如幻灯片所示

131
00:05:19,806 --> 0:05:21,796
访问 speakingRate 和 averagePauseDuration

132
00:05:23,736 --> 0:05:26,566
要访问语音分析

133
00:05:26,566 --> 0:05:28,446
你要先访问

134
00:05:28,446 --> 0:05:30,346
SFTranscription 的 segment 对象

135
00:05:30,586 --> 0:05:32,256
之后如幻灯片所示

136
00:05:32,256 --> 0:05:32,846
进行访问

137
00:05:34,636 --> 0:05:37,846
总而言之 我们有三项重大进展

138
00:05:38,506 --> 0:05:40,326
你现在可以在 macOS 中编写

139
00:05:40,656 --> 0:05:42,366
使用语音识别 API 的 App

140
00:05:43,546 --> 0:05:45,066
语音识别可以在设备本地运行

141
00:05:45,066 --> 0:05:47,606
更好地保护隐私

142
00:05:48,386 --> 0:05:50,696
最后 你可以访问

143
00:05:50,696 --> 0:05:52,686
语音分析特征

144
00:05:52,686 --> 0:05:55,136
从而更好地理解语音特征

145
00:05:57,176 --> 0:06:01,006
若要了解更多信息 请访问本会议的网站

146
00:05:57,176 --> 0:06:01,006
若要了解更多信息 请访问本会议的网站

147
00:06:01,006 --> 0:06:01,976
感谢观看
