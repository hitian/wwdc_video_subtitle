1
00:00:00,506 --> 0:00:05,955
[ Music ]

2
00:00:06,456 --> 0:00:08,176
&gt;&gt; Hello, I'm Yuval Kossovsky

3
00:00:08,176 --> 0:00:09,396
and I'd like to welcome you to

4
00:00:09,396 --> 0:00:10,636
the Indoor Maps Program.

5
00:00:11,296 --> 0:00:12,466
Perhaps, you are the owner of a

6
00:00:12,466 --> 0:00:14,476
large hospital, office tower,

7
00:00:14,526 --> 0:00:16,326
stadium or museum and are

8
00:00:16,326 --> 0:00:17,926
looking to add indoor maps and

9
00:00:17,926 --> 0:00:19,916
positioning to your own consumer

10
00:00:19,916 --> 0:00:21,396
or enterprise apps.

11
00:00:21,906 --> 0:00:23,946
Or perhaps you are the owner of

12
00:00:23,946 --> 0:00:25,976
an airport, shopping mall or

13
00:00:25,976 --> 0:00:27,446
other facility with large

14
00:00:27,446 --> 0:00:29,346
numbers of public visitors and

15
00:00:29,346 --> 0:00:30,546
you'd like your indoor map and

16
00:00:30,546 --> 0:00:32,125
locations to be part of the

17
00:00:32,125 --> 0:00:34,016
Apple Maps' indoor experience.

18
00:00:34,476 --> 0:00:35,906
This session will have something

19
00:00:35,966 --> 0:00:37,616
of interest to each of you.

20
00:00:38,076 --> 0:00:39,766
Outdoor location services have

21
00:00:39,766 --> 0:00:41,516
become embedded into our cities,

22
00:00:41,666 --> 0:00:43,606
our travel, our daily commutes,

23
00:00:43,766 --> 0:00:44,856
and even our social

24
00:00:44,856 --> 0:00:45,776
interactivity.

25
00:00:46,066 --> 0:00:47,246
And people are beginning to

26
00:00:47,246 --> 0:00:48,936
expect a location experience

27
00:00:49,006 --> 0:00:50,736
everywhere, including the

28
00:00:50,736 --> 0:00:51,526
indoors.

29
00:00:52,066 --> 0:00:53,816
In addition to a digital version

30
00:00:53,816 --> 0:00:55,626
of the well-known You-Are-Here

31
00:00:55,626 --> 0:00:57,526
map, there are many compelling

32
00:00:57,526 --> 0:00:59,546
consumer, operations and

33
00:00:59,546 --> 0:01:01,446
enterprise use cases that have

34
00:00:59,546 --> 0:01:01,446
enterprise use cases that have

35
00:01:01,446 --> 0:01:03,016
indoor maps and indoor

36
00:01:03,016 --> 0:01:04,536
positioning at their core.

37
00:01:05,116 --> 0:01:07,036
Air travel, for example, can be

38
00:01:07,036 --> 0:01:08,686
incredibly stressful when you

39
00:01:08,686 --> 0:01:10,376
don't know where to park, where

40
00:01:10,376 --> 0:01:12,166
the security line is, where the

41
00:01:12,166 --> 0:01:13,886
gates are, or how long it will

42
00:01:13,886 --> 0:01:15,476
take to get from where you are

43
00:01:15,676 --> 0:01:16,896
to where you want to go.

44
00:01:17,546 --> 0:01:19,246
A map updated in real time that

45
00:01:19,246 --> 0:01:20,756
shows you where your gate is,

46
00:01:20,826 --> 0:01:22,636
where you are and how much free

47
00:01:22,636 --> 0:01:24,336
time you have for shopping or a

48
00:01:24,336 --> 0:01:26,216
quick bite before your flight

49
00:01:26,216 --> 0:01:27,486
would make for a much more

50
00:01:27,486 --> 0:01:28,316
pleasant journey.

51
00:01:29,186 --> 0:01:30,806
Looking at the operation side of

52
00:01:30,806 --> 0:01:32,446
the building, a staff member

53
00:01:32,446 --> 0:01:33,786
might need to locate a piece of

54
00:01:33,786 --> 0:01:35,136
equipment for routine

55
00:01:35,136 --> 0:01:36,736
maintenance or to service an

56
00:01:36,736 --> 0:01:37,256
outage.

57
00:01:37,706 --> 0:01:39,216
Using indoor maps and indoor

58
00:01:39,216 --> 0:01:40,816
positioning, the equipment

59
00:01:40,816 --> 0:01:42,556
report can be tagged with an

60
00:01:42,556 --> 0:01:44,706
accurate latitude, longitude and

61
00:01:44,706 --> 0:01:45,386
floor level.

62
00:01:45,776 --> 0:01:47,686
Then the nearest technician with

63
00:01:47,686 --> 0:01:49,286
the right skills to resolve the

64
00:01:49,286 --> 0:01:51,306
issue can be guided directly to

65
00:01:51,306 --> 0:01:52,976
the location to begin work,

66
00:01:53,166 --> 0:01:55,276
providing an incredible boost in

67
00:01:55,276 --> 0:01:56,696
operations efficiency.

68
00:01:56,956 --> 0:01:58,636
Finally, consider that first

69
00:01:58,636 --> 0:02:00,326
responders have only moments to

70
00:01:58,636 --> 0:02:00,326
responders have only moments to

71
00:02:00,326 --> 0:02:01,896
study a building layout before

72
00:02:01,896 --> 0:02:03,586
deciding on a plan of action.

73
00:02:04,126 --> 0:02:05,736
Typically, the only available

74
00:02:05,736 --> 0:02:07,416
indoor maps are on paper and are

75
00:02:07,416 --> 0:02:08,156
not current.

76
00:02:08,675 --> 0:02:10,346
Using electronically maintained

77
00:02:10,346 --> 0:02:12,646
indoor maps to show the location

78
00:02:12,646 --> 0:02:14,516
of the incidents, as well as the

79
00:02:14,516 --> 0:02:16,156
location of the responders

80
00:02:16,156 --> 0:02:17,766
inside the buildings, can

81
00:02:17,766 --> 0:02:19,666
greatly reduce response times,

82
00:02:19,816 --> 0:02:21,396
and in some cases, even save

83
00:02:21,396 --> 0:02:22,066
lives.

84
00:02:22,406 --> 0:02:24,206
These three scenarios are just a

85
00:02:24,206 --> 0:02:26,196
few examples of what can be done

86
00:02:26,196 --> 0:02:27,726
with indoor maps and indoor

87
00:02:27,726 --> 0:02:29,356
positioning through the Apple

88
00:02:29,356 --> 0:02:30,656
Indoor Maps Program.

89
00:02:31,346 --> 0:02:33,276
The Indoor Maps Program enables

90
00:02:33,276 --> 0:02:35,296
organizations with large public

91
00:02:35,296 --> 0:02:37,336
and private spaces to create

92
00:02:37,336 --> 0:02:39,316
standard space indoor maps,

93
00:02:39,536 --> 0:02:41,346
enable indoor positioning and

94
00:02:41,346 --> 0:02:43,456
create stunning indoor maps in

95
00:02:43,456 --> 0:02:45,206
their own apps and websites.

96
00:02:45,596 --> 0:02:47,196
This session will discuss the

97
00:02:47,196 --> 0:02:48,816
overall workflow for

98
00:02:48,816 --> 0:02:50,606
accomplishing these tasks and

99
00:02:50,636 --> 0:02:52,206
provide some guidance in the

100
00:02:52,206 --> 0:02:54,276
form of best practices for

101
00:02:54,276 --> 0:02:55,936
success at each step.

102
00:02:56,796 --> 0:02:58,696
At the core of the program is

103
00:02:58,696 --> 0:03:00,536
the Indoor Mapping Data Format,

104
00:02:58,696 --> 0:03:00,536
the Indoor Mapping Data Format,

105
00:03:00,626 --> 0:03:02,346
or IMDF.

106
00:03:03,266 --> 0:03:05,396
This is Apple specification for

107
00:03:05,396 --> 0:03:07,596
modeling indoor spaces and is

108
00:03:07,596 --> 0:03:10,166
represented as a set of GeoJSON

109
00:03:10,166 --> 0:03:10,746
files.

110
00:03:11,376 --> 0:03:13,006
Many of your favorite mapping in

111
00:03:13,006 --> 0:03:15,206
GIS platforms are already

112
00:03:15,206 --> 0:03:16,776
supporting the creation and

113
00:03:16,776 --> 0:03:18,846
editing of IMDF as it has

114
00:03:18,846 --> 0:03:20,496
quickly become the de facto

115
00:03:20,496 --> 0:03:22,276
exchange standard for indoor

116
00:03:22,276 --> 0:03:22,596
data.

117
00:03:23,496 --> 0:03:24,886
Let's take a deeper look at the

118
00:03:24,886 --> 0:03:26,366
Indoor Maps Program.

119
00:03:27,046 --> 0:03:28,436
Building and property owners

120
00:03:28,436 --> 0:03:30,286
start by converting their CAD,

121
00:03:30,376 --> 0:03:33,916
BIM or GIS files to IMDF using

122
00:03:33,916 --> 0:03:35,356
industry standard tools.

123
00:03:35,746 --> 0:03:37,776
Then they can use that IMDF map

124
00:03:37,936 --> 0:03:39,486
and developer tools from Apple

125
00:03:39,656 --> 0:03:41,456
to display indoor maps in their

126
00:03:41,456 --> 0:03:43,226
own consumer and enterprise

127
00:03:43,226 --> 0:03:43,766
apps.

128
00:03:44,246 --> 0:03:46,576
In this simple case, displaying

129
00:03:46,576 --> 0:03:48,276
the IMDF in an app is something

130
00:03:48,276 --> 0:03:50,106
that any developer can do easily

131
00:03:50,106 --> 0:03:52,426
by themselves using MapKit and

132
00:03:52,426 --> 0:03:53,816
MapKit JS tools.

133
00:03:54,186 --> 0:03:55,126
Because building and

134
00:03:55,126 --> 0:03:57,316
understanding IMDF can be a bit

135
00:03:57,316 --> 0:03:58,946
more complicated, there is the

136
00:03:58,946 --> 0:04:01,246
IMDF Sandbox, a tool for

137
00:03:58,946 --> 0:04:01,246
IMDF Sandbox, a tool for

138
00:04:01,246 --> 0:04:03,046
visualization, archive

139
00:04:03,046 --> 0:04:04,856
inspection, editing and

140
00:04:04,856 --> 0:04:06,956
experimentation with an IMDF

141
00:04:06,956 --> 0:04:07,376
archive.

142
00:04:08,356 --> 0:04:10,176
Companies that own large public

143
00:04:10,176 --> 0:04:11,876
and private spaces, such as

144
00:04:11,876 --> 0:04:13,676
airports, shopping centers,

145
00:04:13,676 --> 0:04:16,446
arenas, hospitals, universities

146
00:04:16,446 --> 0:04:17,846
and private office buildings,

147
00:04:18,016 --> 0:04:19,596
are welcome to register their

148
00:04:19,596 --> 0:04:21,326
organization for the Indoor Maps

149
00:04:21,326 --> 0:04:24,166
Program, create IMDF maps using

150
00:04:24,166 --> 0:04:25,616
industry standard tools,

151
00:04:25,916 --> 0:04:28,106
validate those IMDF maps in the

152
00:04:28,106 --> 0:04:30,896
Sandbox, enable Apple indoor

153
00:04:30,896 --> 0:04:33,026
positioning and then use MapKit

154
00:04:33,026 --> 0:04:35,466
and MapKit JS to display indoor

155
00:04:35,466 --> 0:04:37,276
maps and indoor positioning in

156
00:04:37,276 --> 0:04:38,596
their apps and websites.

157
00:04:39,176 --> 0:04:40,736
Highly trafficked locations,

158
00:04:40,736 --> 0:04:42,176
such as airports and shopping

159
00:04:42,176 --> 0:04:43,796
centers, may also want the

160
00:04:43,796 --> 0:04:45,166
public indoor maps of their

161
00:04:45,166 --> 0:04:46,896
buildings to be included in

162
00:04:46,896 --> 0:04:47,806
Apple Maps.

163
00:04:48,506 --> 0:04:50,106
Any participant in the Indoor

164
00:04:50,106 --> 0:04:52,416
Maps Program can activate indoor

165
00:04:52,416 --> 0:04:54,016
positioning for their building

166
00:04:54,146 --> 0:04:56,226
and use the IMDF maps in their

167
00:04:56,226 --> 0:04:57,416
apps and websites.

168
00:04:57,876 --> 0:04:59,396
Let's go into more detail about

169
00:04:59,396 --> 0:05:00,606
the process for joining the

170
00:04:59,396 --> 0:05:00,606
the process for joining the

171
00:05:00,606 --> 0:05:02,746
Indoor Maps Program, managing

172
00:05:02,746 --> 0:05:04,396
your organization's account and

173
00:05:04,396 --> 0:05:05,336
claiming your building

174
00:05:05,336 --> 0:05:06,186
locations.

175
00:05:08,166 --> 0:05:09,526
Navigate your browser to

176
00:05:09,526 --> 0:05:12,326
register.apple.com/indoor to

177
00:05:12,326 --> 0:05:14,106
learn more about the program and

178
00:05:14,106 --> 0:05:16,336
get links to tools, information

179
00:05:16,336 --> 0:05:17,376
and documentation.

180
00:05:17,796 --> 0:05:19,546
Click on Get Started to begin

181
00:05:19,546 --> 0:05:21,136
enrolling your organization.

182
00:05:21,736 --> 0:05:23,496
When an organization enrolls for

183
00:05:23,496 --> 0:05:25,246
the Indoor Maps Program at Apple

184
00:05:25,246 --> 0:05:27,206
Business Register, an in-depth

185
00:05:27,206 --> 0:05:28,606
check is done on their business

186
00:05:28,606 --> 0:05:29,386
information.

187
00:05:29,836 --> 0:05:31,396
The individuals performing the

188
00:05:31,396 --> 0:05:33,136
sign up must have emails

189
00:05:33,136 --> 0:05:34,786
connected to the organizational

190
00:05:34,786 --> 0:05:36,786
domain, and all of the primary

191
00:05:36,786 --> 0:05:39,076
contacts must be employees or

192
00:05:39,076 --> 0:05:40,486
registered agents of the

193
00:05:40,486 --> 0:05:41,036
company.

194
00:05:41,706 --> 0:05:43,166
Once the organization is

195
00:05:43,166 --> 0:05:44,946
validated and approved, the

196
00:05:44,946 --> 0:05:46,686
administrator is able to manage

197
00:05:46,686 --> 0:05:48,056
their team members through the

198
00:05:48,056 --> 0:05:49,376
controls on the right.

199
00:05:49,896 --> 0:05:51,216
Tapping or clicking on team

200
00:05:51,216 --> 0:05:52,826
members reveals the list of

201
00:05:52,826 --> 0:05:54,806
members, and tapping on the plus

202
00:05:54,806 --> 0:05:57,126
sign reveals a dialog for both

203
00:05:57,126 --> 0:05:58,406
individuals and entire

204
00:05:58,406 --> 0:06:00,696
organizations to participate in

205
00:05:58,406 --> 0:06:00,696
organizations to participate in

206
00:06:00,696 --> 0:06:02,006
this organization.

207
00:06:02,516 --> 0:06:05,576
The invitees can be assigned any

208
00:06:05,576 --> 0:06:07,786
number of five different roles

209
00:06:08,076 --> 0:06:10,026
and given access to the entire

210
00:06:10,026 --> 0:06:12,546
catalog of venues or selected

211
00:06:12,646 --> 0:06:14,186
individual locations.

212
00:06:14,996 --> 0:06:17,436
This granular control enables an

213
00:06:17,436 --> 0:06:19,736
organization to easily outsource

214
00:06:19,776 --> 0:06:22,636
IMDF mapmaking and survey to

215
00:06:22,636 --> 0:06:24,306
partners on a venue-by-venue

216
00:06:24,306 --> 0:06:26,076
basis or across the

217
00:06:26,076 --> 0:06:26,916
organization.

218
00:06:27,586 --> 0:06:29,366
System integrators wishing to

219
00:06:29,366 --> 0:06:31,816
make IMDF to survey for indoor

220
00:06:31,816 --> 0:06:34,166
positioning or build indoor apps

221
00:06:34,166 --> 0:06:35,996
for their clients should get

222
00:06:35,996 --> 0:06:37,766
invited to an organization,

223
00:06:37,996 --> 0:06:39,516
rather than try to claim a

224
00:06:39,516 --> 0:06:40,896
client's buildings on their

225
00:06:40,896 --> 0:06:42,006
behalf.

226
00:06:42,006 --> 0:06:43,516
And that is team management.

227
00:06:44,516 --> 0:06:46,196
Claiming locations for an

228
00:06:46,196 --> 0:06:47,626
organization is easy.

229
00:06:48,116 --> 0:06:49,566
Keep in mind that the claims can

230
00:06:49,566 --> 0:06:50,926
only be made for your own

231
00:06:50,926 --> 0:06:52,896
properties, not on behalf of

232
00:06:52,896 --> 0:06:53,396
others.

233
00:06:53,856 --> 0:06:55,436
Click on Indoor Maps under

234
00:06:55,436 --> 0:06:57,636
Connected Services, tap the plus

235
00:06:57,636 --> 0:06:59,446
button and select your location.

236
00:06:59,806 --> 0:07:01,456
Depending on the categorization

237
00:06:59,806 --> 0:07:01,456
Depending on the categorization

238
00:07:01,456 --> 0:07:02,766
of the building, you'll be

239
00:07:02,766 --> 0:07:04,376
presented with different options

240
00:07:04,376 --> 0:07:05,376
for how to proceed.

241
00:07:06,036 --> 0:07:07,236
Buildings that are private

242
00:07:07,236 --> 0:07:09,116
locations are not eligible to

243
00:07:09,116 --> 0:07:10,666
have their indoor maps display

244
00:07:10,666 --> 0:07:11,586
in Apple Maps.

245
00:07:11,996 --> 0:07:13,986
Properties such as airports will

246
00:07:13,986 --> 0:07:15,336
be asked for permission to

247
00:07:15,336 --> 0:07:17,166
display their indoor maps in

248
00:07:17,166 --> 0:07:18,066
Apple Maps.

249
00:07:18,756 --> 0:07:20,136
Once the location claim is

250
00:07:20,136 --> 0:07:22,606
approved, you can upload an IMDF

251
00:07:22,766 --> 0:07:24,176
and the validator will begin

252
00:07:24,176 --> 0:07:25,356
analyzing the file

253
00:07:25,356 --> 0:07:26,136
automatically.

254
00:07:26,686 --> 0:07:28,086
After a few minutes, you'll

255
00:07:28,086 --> 0:07:29,696
receive an email indicating that

256
00:07:29,696 --> 0:07:31,266
validation is complete.

257
00:07:31,706 --> 0:07:32,756
There will be a link to the

258
00:07:32,756 --> 0:07:34,486
validation report, where you can

259
00:07:34,486 --> 0:07:35,956
see any errors that blocked

260
00:07:35,956 --> 0:07:37,936
acceptance of the file or any

261
00:07:37,936 --> 0:07:39,246
warnings which indicate

262
00:07:39,246 --> 0:07:40,696
conditions that need further

263
00:07:40,696 --> 0:07:41,506
examination.

264
00:07:42,176 --> 0:07:43,846
You can use the embedded link to

265
00:07:43,846 --> 0:07:46,016
the IMDF Sandbox to view the

266
00:07:46,096 --> 0:07:48,466
IMDF file, make quick edits if

267
00:07:48,466 --> 0:07:48,906
needed.

268
00:07:49,386 --> 0:07:51,516
Once an IMDF is error free in

269
00:07:51,516 --> 0:07:53,266
the validator, it will move to

270
00:07:53,266 --> 0:07:55,286
georeferencing and evaluation.

271
00:07:55,646 --> 0:07:57,016
To ensure accurate indoor

272
00:07:57,016 --> 0:07:59,316
positioning, the IMDF must have

273
00:07:59,316 --> 0:08:01,646
walkable areas for survey and be

274
00:07:59,316 --> 0:08:01,646
walkable areas for survey and be

275
00:08:01,646 --> 0:08:03,056
aligned with the Apple satellite

276
00:08:03,056 --> 0:08:03,626
imagery.

277
00:08:04,396 --> 0:08:06,056
The indoor team will manually

278
00:08:06,056 --> 0:08:07,766
check the georeferencing of your

279
00:08:07,766 --> 0:08:10,076
IMDF and do a cursory check for

280
00:08:10,076 --> 0:08:12,476
defects in the IMDF that cannot

281
00:08:12,476 --> 0:08:14,116
be surfaced in the validator.

282
00:08:14,666 --> 0:08:16,236
If any changes are made to the

283
00:08:16,236 --> 0:08:18,466
file, they will be saved into a

284
00:08:18,546 --> 0:08:20,116
new IMDF, which will be made

285
00:08:20,116 --> 0:08:21,806
available under Download

286
00:08:21,806 --> 0:08:24,276
Georeference to IMDF, along with

287
00:08:24,276 --> 0:08:26,136
a report indicating what work

288
00:08:26,136 --> 0:08:26,656
was done.

289
00:08:27,076 --> 0:08:28,726
Let's review the best practices

290
00:08:28,726 --> 0:08:30,426
for joining and participating in

291
00:08:30,426 --> 0:08:32,096
the Apple Indoor Maps Program.

292
00:08:32,895 --> 0:08:35,106
While anyone can make an IMDF

293
00:08:35,106 --> 0:08:36,826
map and display it in their app

294
00:08:36,826 --> 0:08:38,576
and website using MapKit and

295
00:08:38,576 --> 0:08:40,696
MapKit JS, the Indoor Maps

296
00:08:40,696 --> 0:08:42,385
Program and enabling Apple

297
00:08:42,385 --> 0:08:44,356
indoor positioning is for owners

298
00:08:44,356 --> 0:08:45,526
of large properties.

299
00:08:45,986 --> 0:08:47,496
Some measures of large include

300
00:08:47,496 --> 0:08:49,606
50 square meters, 5 million

301
00:08:49,606 --> 0:08:51,686
annual visitors, or entire

302
00:08:51,686 --> 0:08:52,666
office buildings.

303
00:08:52,856 --> 0:08:54,536
The individuals enrolling must

304
00:08:54,536 --> 0:08:56,116
be part of the organization and

305
00:08:56,116 --> 0:08:57,826
must provide enough information

306
00:08:57,826 --> 0:08:59,606
to verify the organization

307
00:08:59,606 --> 0:09:00,266
details.

308
00:08:59,606 --> 0:09:00,266
details.

309
00:09:00,656 --> 0:09:02,436
If there's an existing account,

310
00:09:02,656 --> 0:09:04,236
the current account admins will

311
00:09:04,236 --> 0:09:06,456
be notified of the new enrollees

312
00:09:06,656 --> 0:09:07,676
and asked to invite them

313
00:09:07,676 --> 0:09:08,296
directly.

314
00:09:08,686 --> 0:09:10,346
This ensures the organization

315
00:09:10,346 --> 0:09:11,746
maintains control of all

316
00:09:11,746 --> 0:09:12,426
members.

317
00:09:13,276 --> 0:09:15,066
Some locations are eligible for

318
00:09:15,066 --> 0:09:16,416
display in Apple Maps.

319
00:09:16,556 --> 0:09:18,566
However, the indoor map will

320
00:09:18,566 --> 0:09:20,556
remain private unless permission

321
00:09:20,556 --> 0:09:21,146
is given.

322
00:09:22,146 --> 0:09:24,006
IMDF is the basis for the map

323
00:09:24,006 --> 0:09:25,976
used to display in your app and

324
00:09:25,976 --> 0:09:28,126
website and to enable indoor

325
00:09:28,126 --> 0:09:28,896
positioning.

326
00:09:29,596 --> 0:09:31,916
To create an IMDF, work with

327
00:09:31,916 --> 0:09:33,286
your facilities team to

328
00:09:33,286 --> 0:09:34,716
investigate the offerings

329
00:09:34,716 --> 0:09:36,466
available from companies, like

330
00:09:36,466 --> 0:09:39,096
Safe Software, Autodesk, Esri,

331
00:09:39,336 --> 0:09:41,256
and other GIS and BIM tool

332
00:09:41,256 --> 0:09:42,086
platforms.

333
00:09:42,866 --> 0:09:44,216
Let's take a deeper look at

334
00:09:44,216 --> 0:09:44,886
IMDF.

335
00:09:45,876 --> 0:09:48,116
To understand how IMDF is

336
00:09:48,116 --> 0:09:49,756
constructed, we should first

337
00:09:49,756 --> 0:09:51,186
look at the general components

338
00:09:51,186 --> 0:09:52,326
of a building floor plan.

339
00:09:53,086 --> 0:09:54,866
An indoor map like a regular map

340
00:09:54,866 --> 0:09:56,456
is comprised of many layers.

341
00:09:56,916 --> 0:09:58,346
Each of these layers may contain

342
00:09:58,346 --> 0:09:58,976
several features.

343
00:09:59,696 --> 0:10:01,006
Let's break down this building

344
00:09:59,696 --> 0:10:01,006
Let's break down this building

345
00:10:01,006 --> 0:10:01,936
map, for example.

346
00:10:02,416 --> 0:10:03,986
Simplistically, the base of an

347
00:10:03,986 --> 0:10:05,376
indoor map is the building

348
00:10:05,376 --> 0:10:07,466
ground footprint, or the size

349
00:10:07,466 --> 0:10:08,486
and shape of the physical

350
00:10:08,486 --> 0:10:09,356
building plus the

351
00:10:09,356 --> 0:10:11,266
GeoCoordinates, where it sits on

352
00:10:11,266 --> 0:10:11,776
the earth.

353
00:10:12,266 --> 0:10:13,926
Indoor locations are still on

354
00:10:13,926 --> 0:10:14,716
the earth.

355
00:10:14,716 --> 0:10:15,866
And to handle the movement of

356
00:10:15,866 --> 0:10:16,906
people in and out of the

357
00:10:16,906 --> 0:10:18,696
building, an indoor data model

358
00:10:18,696 --> 0:10:20,176
has to account for this fact.

359
00:10:20,606 --> 0:10:22,186
Georeferencing of the building

360
00:10:22,186 --> 0:10:23,006
is the solution.

361
00:10:23,236 --> 0:10:25,086
The next step is to add a level.

362
00:10:25,876 --> 0:10:27,806
Again, simplistically, we can

363
00:10:27,806 --> 0:10:29,886
use the ground floor or ordinal

364
00:10:29,886 --> 0:10:31,226
zero for our example.

365
00:10:32,106 --> 0:10:34,036
The level is entirely covered by

366
00:10:34,226 --> 0:10:36,126
some form of what we call a

367
00:10:36,126 --> 0:10:38,526
unit, for example, a room, a

368
00:10:38,616 --> 0:10:40,726
walkway, an elevator or an

369
00:10:40,726 --> 0:10:41,396
escalator.

370
00:10:41,826 --> 0:10:43,416
Anything that occupies space on

371
00:10:43,416 --> 0:10:44,856
the level is defined with

372
00:10:44,856 --> 0:10:46,996
geometry and a category of some

373
00:10:46,996 --> 0:10:47,466
kind.

374
00:10:47,966 --> 0:10:49,716
Rooms typically have doors or

375
00:10:49,716 --> 0:10:51,346
what we call openings.

376
00:10:51,716 --> 0:10:53,336
And then within the units, there

377
00:10:53,336 --> 0:10:55,216
are also other objects, such as

378
00:10:55,216 --> 0:10:56,006
kiosks.

379
00:10:56,286 --> 0:10:57,846
They're typically in the walkway

380
00:10:57,846 --> 0:10:59,496
unit of a shopping center or

381
00:10:59,496 --> 0:10:59,906
mall.

382
00:11:00,586 --> 0:11:02,066
Next, there are labels which are

383
00:11:02,066 --> 0:11:03,676
applied to the units, such as

384
00:11:03,676 --> 0:11:04,986
the name of a business that

385
00:11:04,986 --> 0:11:06,056
occupies a room.

386
00:11:06,746 --> 0:11:07,946
Icons are used to mark the

387
00:11:07,946 --> 0:11:09,856
location of amenities of

388
00:11:09,856 --> 0:11:13,276
interest, such as an elevator or

389
00:11:13,276 --> 0:11:13,836
a restroom.

390
00:11:13,946 --> 0:11:15,796
At the Jurassic Table

391
00:11:15,796 --> 0:11:17,296
restaurant, there is also a

392
00:11:17,296 --> 0:11:19,836
delimited area that acts as a

393
00:11:19,836 --> 0:11:21,876
virtual boundary, which extends

394
00:11:21,876 --> 0:11:23,186
outside of the walls of the

395
00:11:23,186 --> 0:11:24,156
actual unit.

396
00:11:24,586 --> 0:11:26,216
This could be post security in

397
00:11:26,216 --> 0:11:28,286
an airport or the food court in

398
00:11:28,286 --> 0:11:28,716
a mall.

399
00:11:29,366 --> 0:11:30,376
And these are some of the

400
00:11:30,376 --> 0:11:32,016
constructs that make a good

401
00:11:32,016 --> 0:11:35,306
indoor map format, such as IMDF.

402
00:11:35,456 --> 0:11:37,496
Underlying the format are rules

403
00:11:37,496 --> 0:11:39,096
on how to consistently capture

404
00:11:39,096 --> 0:11:40,976
information about the physical

405
00:11:40,976 --> 0:11:43,156
spaces and the business purpose

406
00:11:43,206 --> 0:11:45,366
of those spaces into an easy to

407
00:11:45,366 --> 0:11:46,556
understand hierarchy.

408
00:11:47,076 --> 0:11:48,266
Let's take a look at some of the

409
00:11:48,266 --> 0:11:50,056
required features and some

410
00:11:50,056 --> 0:11:52,086
optional elements that make up

411
00:11:52,086 --> 0:11:53,236
an IMDF archive.

412
00:11:53,826 --> 0:11:56,086
There are three core files that

413
00:11:56,086 --> 0:11:57,616
provide the base information of

414
00:11:57,616 --> 0:11:59,806
the venue, the manifest, which

415
00:11:59,806 --> 0:12:01,556
has some administrative detail,

416
00:11:59,806 --> 0:12:01,556
has some administrative detail,

417
00:12:01,976 --> 0:12:03,466
the address, which provides the

418
00:12:03,466 --> 0:12:05,476
postal address, and the venue

419
00:12:05,476 --> 0:12:07,086
layer that describes the overall

420
00:12:07,086 --> 0:12:08,246
shape of the location.

421
00:12:08,896 --> 0:12:10,536
The property is then extended by

422
00:12:10,536 --> 0:12:12,756
the building layer, and its

423
00:12:12,756 --> 0:12:14,346
associated footprint layers

424
00:12:14,696 --> 0:12:15,926
which bring details to the

425
00:12:15,926 --> 0:12:16,816
physical building.

426
00:12:17,376 --> 0:12:19,336
Working our way deeper in, the

427
00:12:19,336 --> 0:12:20,876
levels within the building are

428
00:12:20,876 --> 0:12:21,496
defined.

429
00:12:22,396 --> 0:12:23,926
The level is then entirely

430
00:12:23,926 --> 0:12:25,846
covered in units, which are

431
00:12:25,846 --> 0:12:27,666
associated with openings, such

432
00:12:27,666 --> 0:12:28,606
as doorways.

433
00:12:29,296 --> 0:12:31,326
The level also has logical area

434
00:12:31,326 --> 0:12:33,666
groupings, like sections and

435
00:12:33,666 --> 0:12:35,876
trigger regions like geofences.

436
00:12:36,436 --> 0:12:39,706
Then kiosks and fixtures are

437
00:12:39,706 --> 0:12:40,246
placed.

438
00:12:41,556 --> 0:12:43,846
Amenities and their associated

439
00:12:43,846 --> 0:12:45,486
data are assigned to the units,

440
00:12:45,736 --> 0:12:47,416
and finally, anchors are used

441
00:12:47,416 --> 0:12:49,446
for positioning references and

442
00:12:49,446 --> 0:12:51,096
unit addresses with additional

443
00:12:51,096 --> 0:12:52,636
data blocks, such as the

444
00:12:52,636 --> 0:12:54,876
occupant, providing the occupant

445
00:12:54,876 --> 0:12:56,446
name and phone number and

446
00:12:56,446 --> 0:12:57,296
related data.

447
00:12:57,986 --> 0:12:59,516
And that is how the hierarchy is

448
00:12:59,516 --> 0:13:00,066
set up.

449
00:12:59,516 --> 0:13:00,066
set up.

450
00:13:00,626 --> 0:13:02,126
You can learn more by reading

451
00:13:02,126 --> 0:13:03,266
the Indoor Mapping Data

452
00:13:03,266 --> 0:13:04,966
Specification in detail.

453
00:13:05,116 --> 0:13:07,206
But what is IMDF to the

454
00:13:07,206 --> 0:13:08,176
developer's eye?

455
00:13:09,046 --> 0:13:11,126
An IMDF is an archive made up of

456
00:13:11,126 --> 0:13:13,146
multiple GeoJSON files and the

457
00:13:13,146 --> 0:13:15,076
multiple files we discussed.

458
00:13:16,096 --> 0:13:17,646
This is a GeoJSON file.

459
00:13:17,946 --> 0:13:19,786
And as you can see here, there's

460
00:13:19,786 --> 0:13:22,386
a unique UUID provided to the

461
00:13:22,386 --> 0:13:24,726
specific feature type of level.

462
00:13:25,256 --> 0:13:27,106
The public can access this

463
00:13:27,106 --> 0:13:28,396
building so the restriction

464
00:13:28,396 --> 0:13:31,246
property is set to null and it

465
00:13:31,246 --> 0:13:32,066
is indoors.

466
00:13:32,506 --> 0:13:33,946
This is level one in the

467
00:13:33,946 --> 0:13:34,486
building.

468
00:13:34,656 --> 0:13:36,066
And what you see printed on the

469
00:13:36,066 --> 0:13:37,236
elevator button is L1.

470
00:13:37,236 --> 0:13:40,296
Importantly, we see that this

471
00:13:40,296 --> 0:13:42,196
level is associated to a single

472
00:13:42,196 --> 0:13:44,446
building ID and it has a good

473
00:13:44,446 --> 0:13:46,596
geometrical shape as described

474
00:13:46,596 --> 0:13:46,906
here.

475
00:13:47,696 --> 0:13:49,736
All in all, a comprehensive set

476
00:13:49,736 --> 0:13:52,006
of information in a simple text

477
00:13:52,006 --> 0:13:52,456
file.

478
00:13:53,356 --> 0:13:54,626
Let's review some of the

479
00:13:54,626 --> 0:13:55,976
important elements in

480
00:13:55,976 --> 0:13:57,796
understanding and crafting an

481
00:13:57,796 --> 0:13:59,466
Indoor Mapping Data Format

482
00:13:59,466 --> 0:13:59,946
archive.

483
00:14:00,866 --> 0:14:02,516
It is important to understand

484
00:14:02,516 --> 0:14:04,396
how the layers relate and where

485
00:14:04,396 --> 0:14:05,966
the data for each element is

486
00:14:05,966 --> 0:14:06,706
surfaced.

487
00:14:06,996 --> 0:14:08,826
It is important to ensure that

488
00:14:08,876 --> 0:14:10,966
the IMDF is complete, even from

489
00:14:10,966 --> 0:14:12,926
proof of concept deliveries and

490
00:14:12,926 --> 0:14:14,656
that the units cover the entire

491
00:14:14,656 --> 0:14:15,226
building.

492
00:14:15,916 --> 0:14:17,226
Everything on the level is a

493
00:14:17,226 --> 0:14:19,506
unit, including walkways which

494
00:14:19,506 --> 0:14:20,956
have their own category.

495
00:14:21,106 --> 0:14:23,166
Speaking of categories, they are

496
00:14:23,166 --> 0:14:25,296
critical to a good map and good

497
00:14:25,296 --> 0:14:26,386
rendering behavior.

498
00:14:27,676 --> 0:14:29,226
Openings are important for both

499
00:14:29,226 --> 0:14:31,316
location accuracy and proper

500
00:14:31,316 --> 0:14:33,086
routing and should be included

501
00:14:33,086 --> 0:14:34,496
to make it easier for those with

502
00:14:34,496 --> 0:14:36,696
mobility and site challenges.

503
00:14:37,156 --> 0:14:38,766
Occupants should have unique

504
00:14:38,766 --> 0:14:41,026
addresses and IDs for tracking

505
00:14:41,116 --> 0:14:42,476
and updates of names.

506
00:14:42,556 --> 0:14:45,396
Finally, when making the IMDF,

507
00:14:45,476 --> 0:14:46,946
consider the indoor survey.

508
00:14:47,456 --> 0:14:49,086
Large spaces are hard to get

509
00:14:49,086 --> 0:14:50,346
accurate orientation.

510
00:14:50,806 --> 0:14:52,296
Even if your map doesn't need

511
00:14:52,296 --> 0:14:54,046
the information, including

512
00:14:54,046 --> 0:14:55,936
notable landmarks or orienting

513
00:14:55,936 --> 0:14:57,586
information like columns, will

514
00:14:57,586 --> 0:14:59,146
make it much easier for getting

515
00:14:59,146 --> 0:15:00,946
proper calibration during the

516
00:14:59,146 --> 0:15:00,946
proper calibration during the

517
00:15:00,946 --> 0:15:02,896
indoor positioning survey, and

518
00:15:02,896 --> 0:15:04,936
consequently better accuracy

519
00:15:04,936 --> 0:15:05,316
after.

520
00:15:05,796 --> 0:15:08,086
And that's creating the IMDF.

521
00:15:08,186 --> 0:15:10,026
Next, let's look at validation.

522
00:15:10,946 --> 0:15:12,776
As I mentioned earlier, when an

523
00:15:12,846 --> 0:15:14,556
IMDF is uploaded into the

524
00:15:14,556 --> 0:15:16,356
organization's account, it is

525
00:15:16,356 --> 0:15:18,246
electronically validated and a

526
00:15:18,246 --> 0:15:19,856
report is provided with a

527
00:15:19,856 --> 0:15:21,156
detailed analysis.

528
00:15:21,426 --> 0:15:22,716
While this may be easy for

529
00:15:22,716 --> 0:15:24,866
well-schooled GIS professionals

530
00:15:24,866 --> 0:15:26,486
to consume, we thought there

531
00:15:26,486 --> 0:15:28,126
might be an easier way to work

532
00:15:28,126 --> 0:15:29,666
with this sort of information.

533
00:15:30,136 --> 0:15:31,826
The IMDF Sandbox is a

534
00:15:31,826 --> 0:15:33,616
browser-based tool for

535
00:15:33,616 --> 0:15:36,556
visualizing IMDF, searching the

536
00:15:36,556 --> 0:15:38,676
IMDF file, observing the

537
00:15:38,676 --> 0:15:40,726
validations and making simple

538
00:15:40,766 --> 0:15:41,316
edits.

539
00:15:41,316 --> 0:15:43,626
I have a sample IMDF archive

540
00:15:43,626 --> 0:15:44,906
data set opened here.

541
00:15:45,086 --> 0:15:46,446
First of all, you can see the

542
00:15:46,446 --> 0:15:46,906
map.

543
00:15:47,106 --> 0:15:48,846
This is rendering the IMDF data

544
00:15:48,846 --> 0:15:50,406
to show you how it looks.

545
00:15:51,266 --> 0:15:52,696
There's a level picker for

546
00:15:52,696 --> 0:15:55,876
switching between levels and a

547
00:15:55,876 --> 0:15:57,296
compass to show you the

548
00:15:57,296 --> 0:15:58,066
orientation.

549
00:15:58,596 --> 0:16:02,066
On the left, you'll find a

550
00:15:58,596 --> 0:16:02,066
On the left, you'll find a

551
00:16:02,066 --> 0:16:03,576
directory that will help you

552
00:16:03,576 --> 0:16:05,186
browse and navigate the data

553
00:16:05,406 --> 0:16:07,006
with quick access to all the

554
00:16:07,006 --> 0:16:08,556
businesses and services.

555
00:16:16,316 --> 0:16:18,016
Or browse the data by building

556
00:16:18,326 --> 0:16:18,976
or by level.

557
00:16:28,826 --> 0:16:31,726
At the top, there's a search bar

558
00:16:31,726 --> 0:16:32,666
that lets you search for

559
00:16:32,716 --> 0:16:34,636
anything and everything within

560
00:16:34,636 --> 0:16:35,436
this data set.

561
00:16:42,236 --> 0:16:43,816
At the top of the panel at the

562
00:16:43,816 --> 0:16:45,586
Home, you'll also see a link to

563
00:16:45,586 --> 0:16:47,656
all the validation errors and

564
00:16:47,656 --> 0:16:49,266
warnings triggered by this data

565
00:16:49,266 --> 0:16:49,646
set.

566
00:16:50,126 --> 0:16:51,666
The validation engine is the

567
00:16:51,666 --> 0:16:54,816
same tool in use when an IMDF is

568
00:16:54,816 --> 0:16:56,496
uploaded to the Indoor Maps

569
00:16:56,496 --> 0:16:58,286
Program, but the results are

570
00:16:58,286 --> 0:17:00,116
interpreted and visualized by

571
00:16:58,286 --> 0:17:00,116
interpreted and visualized by

572
00:17:00,116 --> 0:17:00,996
the Sandbox.

573
00:17:01,386 --> 0:17:02,676
In this case, there are no

574
00:17:02,676 --> 0:17:04,636
errors, but just warnings.

575
00:17:05,236 --> 0:17:06,675
Warnings are present because the

576
00:17:06,675 --> 0:17:08,685
validator identifies a scenario

577
00:17:08,945 --> 0:17:10,736
that could be an error or could

578
00:17:10,736 --> 0:17:11,386
be ignored.

579
00:17:11,766 --> 0:17:13,226
Depending on your business use

580
00:17:13,226 --> 0:17:15,136
case, it is important to have

581
00:17:15,136 --> 0:17:16,756
someone with an understanding of

582
00:17:16,756 --> 0:17:19,016
the IMDF specification and the

583
00:17:19,016 --> 0:17:20,766
business use case review

584
00:17:20,766 --> 0:17:22,136
warnings generated by the

585
00:17:22,136 --> 0:17:24,266
validator to make a decision on

586
00:17:24,266 --> 0:17:25,195
their importance.

587
00:17:25,626 --> 0:17:27,596
Let's take a look at how the

588
00:17:27,656 --> 0:17:29,516
IMDF Sandbox can be used to

589
00:17:29,516 --> 0:17:31,216
discover errors and do some

590
00:17:31,216 --> 0:17:31,966
light editing.

591
00:17:32,816 --> 0:17:34,246
I've introduced a few errors

592
00:17:34,246 --> 0:17:35,756
into my sample data to show you

593
00:17:35,756 --> 0:17:36,576
how this works.

594
00:17:36,986 --> 0:17:38,616
When I first load the IMDF

595
00:17:38,616 --> 0:17:40,396
archive, the Sandbox shows me

596
00:17:40,396 --> 0:17:40,966
errors.

597
00:17:41,266 --> 0:17:42,416
The warnings are shown in the

598
00:17:42,416 --> 0:17:43,066
other tab.

599
00:17:43,616 --> 0:17:45,316
In order for my IMDF to be

600
00:17:45,316 --> 0:17:46,736
accepted into the Indoor Maps

601
00:17:46,736 --> 0:17:48,616
Program, it cannot have any

602
00:17:48,616 --> 0:17:49,076
errors.

603
00:17:49,346 --> 0:17:51,036
So, let's take a closer look and

604
00:17:51,036 --> 0:17:51,906
get these resolved.

605
00:17:52,156 --> 0:17:53,616
First, we can see that there are

606
00:17:53,616 --> 0:17:54,866
overlapping units.

607
00:17:55,286 --> 0:17:56,986
In IMDF, units should never

608
00:17:56,986 --> 0:17:57,746
overlap.

609
00:17:57,866 --> 0:17:58,996
So this is an error.

610
00:17:59,436 --> 0:18:01,266
Taking a closer look, the

611
00:17:59,436 --> 0:18:01,266
Taking a closer look, the

612
00:18:01,266 --> 0:18:02,776
Sandbox tells us that there are

613
00:18:02,776 --> 0:18:04,476
two instances of this error in

614
00:18:04,476 --> 0:18:05,266
this data set.

615
00:18:05,566 --> 0:18:06,846
By clicking one or the other,

616
00:18:07,046 --> 0:18:08,716
the map zooms to that particular

617
00:18:08,716 --> 0:18:10,726
location and highlights which

618
00:18:10,726 --> 0:18:11,936
units overlap.

619
00:18:12,236 --> 0:18:13,986
Here, it is the blue unit and

620
00:18:14,126 --> 0:18:16,486
the yellow unit overlapping with

621
00:18:16,486 --> 0:18:18,166
the overlapping areas shown in

622
00:18:18,166 --> 0:18:18,766
orange.

623
00:18:19,286 --> 0:18:20,956
The Sandbox provides me with an

624
00:18:20,956 --> 0:18:22,826
easy option to remove the

625
00:18:22,826 --> 0:18:24,836
overlap by simply removing the

626
00:18:24,836 --> 0:18:26,966
overlapping area from one or the

627
00:18:26,966 --> 0:18:27,426
other.

628
00:18:27,896 --> 0:18:29,246
I have chosen to remove the

629
00:18:29,246 --> 0:18:30,806
overlap from the blue unit,

630
00:18:30,956 --> 0:18:32,576
because then both units are nice

631
00:18:32,576 --> 0:18:33,276
and rectangular.

632
00:18:33,576 --> 0:18:34,676
And now, it is fixed.

633
00:18:35,506 --> 0:18:36,736
Let's take a look at the other

634
00:18:36,736 --> 0:18:38,206
overlapping units error.

635
00:18:38,476 --> 0:18:40,066
It seems this elevator is too

636
00:18:40,066 --> 0:18:40,426
large.

637
00:18:40,586 --> 0:18:41,936
So I'm going to remove that

638
00:18:41,936 --> 0:18:43,666
overlap from the elevator unit.

639
00:18:43,956 --> 0:18:45,646
And now, both errors have been

640
00:18:45,646 --> 0:18:46,246
fixed.

641
00:18:46,716 --> 0:18:48,336
There is now one other error I

642
00:18:48,336 --> 0:18:50,036
need to quickly resolve with the

643
00:18:50,036 --> 0:18:51,906
unit being outside the reference

644
00:18:51,906 --> 0:18:52,356
level.

645
00:18:52,686 --> 0:18:54,086
You can see the orange area

646
00:18:54,086 --> 0:18:55,856
outside the level looks to be

647
00:18:55,856 --> 0:18:57,606
some sort of drawing error that

648
00:18:57,606 --> 0:18:58,856
was picked up when the file was

649
00:18:58,856 --> 0:19:00,046
digitized.

650
00:18:58,856 --> 0:19:00,046
digitized.

651
00:19:00,046 --> 0:19:01,386
I removed that area from the

652
00:19:01,386 --> 0:19:03,636
level and the entire file is now

653
00:19:03,636 --> 0:19:04,856
free from errors.

654
00:19:05,966 --> 0:19:07,176
Because all of the work in the

655
00:19:07,176 --> 0:19:08,896
Sandbox is done locally in the

656
00:19:08,896 --> 0:19:10,826
browser, I will have to click on

657
00:19:10,826 --> 0:19:13,276
Download the IMDF at the top

658
00:19:13,276 --> 0:19:14,666
right of the screen and save a

659
00:19:14,666 --> 0:19:16,356
copy in order to keep these

660
00:19:16,356 --> 0:19:18,456
changes for use in register and

661
00:19:18,456 --> 0:19:19,986
adding back into my content

662
00:19:19,986 --> 0:19:20,876
management system.

663
00:19:21,646 --> 0:19:23,876
To recap, best practices for

664
00:19:23,876 --> 0:19:25,226
IMDF validation.

665
00:19:25,906 --> 0:19:27,426
The same validation tools are

666
00:19:27,426 --> 0:19:28,626
available when uploading your

667
00:19:28,626 --> 0:19:30,956
files to the Indoor Maps Program

668
00:19:31,146 --> 0:19:32,936
and the IMDF Sandbox.

669
00:19:33,316 --> 0:19:34,836
They check the accuracy and

670
00:19:34,836 --> 0:19:36,986
integrity of your IMDF to the

671
00:19:36,986 --> 0:19:38,966
limit of the business use case.

672
00:19:39,396 --> 0:19:40,746
Warnings are surfaced when a

673
00:19:40,746 --> 0:19:42,586
condition can apply to multiple

674
00:19:42,586 --> 0:19:43,416
use cases.

675
00:19:43,916 --> 0:19:46,206
After validation, the IMDF is

676
00:19:46,206 --> 0:19:47,796
checked manually for accurate

677
00:19:47,796 --> 0:19:49,176
placement on the earth or

678
00:19:49,176 --> 0:19:51,056
georeferencing to ensure

679
00:19:51,056 --> 0:19:52,946
accurate indoor positioning when

680
00:19:52,946 --> 0:19:54,526
indoor positioning is enabled.

681
00:19:55,026 --> 0:19:56,936
With IMDF Sandbox, you can

682
00:19:56,936 --> 0:19:59,586
easily look at complex IMDFs and

683
00:19:59,586 --> 0:20:01,746
see the details, identifying

684
00:19:59,586 --> 0:20:01,746
see the details, identifying

685
00:20:01,746 --> 0:20:03,676
fixed errors and then save the

686
00:20:03,676 --> 0:20:03,976
files.

687
00:20:04,766 --> 0:20:06,416
All of this work is done locally

688
00:20:06,416 --> 0:20:08,066
in your browser and is not

689
00:20:08,066 --> 0:20:09,136
shared with Apple.

690
00:20:09,626 --> 0:20:11,536
The IMDF Sandbox is available

691
00:20:11,536 --> 0:20:14,036
for anyone with an Apple ID and

692
00:20:14,036 --> 0:20:16,056
not just building owners in the

693
00:20:16,056 --> 0:20:17,356
Indoor Maps Program.

694
00:20:17,866 --> 0:20:20,656
And that is IMDF validation.

695
00:20:21,056 --> 0:20:22,526
So, now, we know how to join the

696
00:20:22,526 --> 0:20:24,796
Indoor Maps Program, create an

697
00:20:24,796 --> 0:20:27,166
IMDF and validate it.

698
00:20:27,886 --> 0:20:29,746
The next step is to enable Apple

699
00:20:29,746 --> 0:20:30,726
indoor positioning.

700
00:20:31,706 --> 0:20:33,406
But first, we need to understand

701
00:20:33,566 --> 0:20:34,816
just how Apple indoor

702
00:20:34,816 --> 0:20:35,966
positioning works.

703
00:20:36,556 --> 0:20:38,606
Imagine a still pond and a drop

704
00:20:38,606 --> 0:20:40,196
of rain falls on the surface of

705
00:20:40,196 --> 0:20:40,776
the water.

706
00:20:41,236 --> 0:20:42,416
The ripples caused by the

707
00:20:42,416 --> 0:20:43,616
raindrop are much like the

708
00:20:43,616 --> 0:20:45,066
signal coming from an access

709
00:20:45,066 --> 0:20:45,496
point.

710
00:20:45,736 --> 0:20:47,566
With one drop, one set of

711
00:20:47,566 --> 0:20:48,096
ripples.

712
00:20:48,096 --> 0:20:50,126
But with multiple raindrops, you

713
00:20:50,126 --> 0:20:51,666
get many ripples which produce

714
00:20:51,666 --> 0:20:53,156
waves that intersect with each

715
00:20:53,156 --> 0:20:54,806
other, lay a grid over the

716
00:20:54,806 --> 0:20:57,236
waves, and inside each box,

717
00:20:57,236 --> 0:20:58,526
there will be a unique texture

718
00:20:58,526 --> 0:21:00,326
pattern of ripples or what we

719
00:20:58,526 --> 0:21:00,326
pattern of ripples or what we

720
00:21:00,326 --> 0:21:01,746
call the fingerprint.

721
00:21:02,306 --> 0:21:04,296
The IMDF map provides the

722
00:21:04,296 --> 0:21:06,366
latitude, longitude and floor

723
00:21:06,366 --> 0:21:07,956
coordinates for each box in the

724
00:21:07,956 --> 0:21:09,936
grid, allowing the location

725
00:21:09,936 --> 0:21:11,476
service to create a pairing

726
00:21:11,626 --> 0:21:13,096
between the coordinates and the

727
00:21:13,096 --> 0:21:13,776
fingerprint.

728
00:21:14,256 --> 0:21:15,936
When your iPhone or iPad is

729
00:21:15,936 --> 0:21:17,296
entering the building, the

730
00:21:17,296 --> 0:21:18,946
fingerprint is downloaded to the

731
00:21:18,946 --> 0:21:20,416
device from the core location

732
00:21:20,416 --> 0:21:21,036
servers.

733
00:21:21,396 --> 0:21:23,166
Once this is done, while the

734
00:21:23,166 --> 0:21:24,906
device Wi-Fi radio must be

735
00:21:24,906 --> 0:21:26,706
active, it no longer needs a

736
00:21:26,706 --> 0:21:28,026
network connection for

737
00:21:28,026 --> 0:21:29,276
positioning to work.

738
00:21:29,616 --> 0:21:31,196
When an app calls location

739
00:21:31,196 --> 0:21:33,216
accuracy best, the device

740
00:21:33,216 --> 0:21:34,376
passively looks at the

741
00:21:34,376 --> 0:21:36,406
fingerprint, does an on-device

742
00:21:36,406 --> 0:21:38,166
pattern match, derives the

743
00:21:38,166 --> 0:21:39,606
coordinates and plots the

744
00:21:39,606 --> 0:21:40,606
location dots.

745
00:21:41,116 --> 0:21:42,986
Local sensors are then used to

746
00:21:42,986 --> 0:21:44,826
keep the dot up to date until a

747
00:21:44,826 --> 0:21:46,436
threshold at which point the

748
00:21:46,436 --> 0:21:47,826
device looks at the fingerprint

749
00:21:47,826 --> 0:21:48,156
again.

750
00:21:48,716 --> 0:21:50,076
Apple indoor positioning is

751
00:21:50,076 --> 0:21:52,366
incredibly fast, low power and

752
00:21:52,366 --> 0:21:53,426
private.

753
00:21:53,426 --> 0:21:56,216
In short, an indoor map plus

754
00:21:56,216 --> 0:21:58,746
Wi-Fi gives you the blue dot.

755
00:21:59,336 --> 0:22:01,156
The specific steps to enable

756
00:21:59,336 --> 0:22:01,156
The specific steps to enable

757
00:22:01,156 --> 0:22:03,076
indoor positioning are, with an

758
00:22:03,166 --> 0:22:05,086
IMDF already loaded into your

759
00:22:05,086 --> 0:22:07,206
account, collect the Wi-Fi using

760
00:22:07,206 --> 0:22:09,026
the survey app, upload the

761
00:22:09,026 --> 0:22:10,576
surveys back to the core

762
00:22:10,576 --> 0:22:12,396
location servers for analysis

763
00:22:12,396 --> 0:22:14,236
and activation, and then test

764
00:22:14,236 --> 0:22:16,196
positioning in the survey app as

765
00:22:16,196 --> 0:22:17,426
a reference for quality.

766
00:22:17,606 --> 0:22:19,466
Let's take a quick look at a

767
00:22:19,466 --> 0:22:21,376
demonstration of surveying and

768
00:22:21,376 --> 0:22:22,316
testing positioning.

769
00:22:23,376 --> 0:22:24,986
In the survey process, you drop

770
00:22:24,986 --> 0:22:26,876
points on a screen as visual

771
00:22:26,876 --> 0:22:28,026
markers of where you are

772
00:22:28,026 --> 0:22:29,296
standing in the real world.

773
00:22:29,806 --> 0:22:30,986
This is how the positioning

774
00:22:30,986 --> 0:22:32,736
algorithm is calibrated to your

775
00:22:32,736 --> 0:22:33,396
location.

776
00:22:34,426 --> 0:22:35,846
Here, you can see the surveyor

777
00:22:35,846 --> 0:22:37,756
has oriented himself in the room

778
00:22:38,106 --> 0:22:39,736
and on the screen and then

779
00:22:39,736 --> 0:22:40,696
presses record.

780
00:22:41,396 --> 0:22:42,546
The surveyor then moves the

781
00:22:42,546 --> 0:22:44,196
crosshair to the next location

782
00:22:44,196 --> 0:22:45,846
five to eight meters out to a

783
00:22:45,846 --> 0:22:47,046
point he can verify.

784
00:22:47,216 --> 0:22:48,836
And when in that spot, taps on

785
00:22:48,836 --> 0:22:50,496
the screen, registering the

786
00:22:50,496 --> 0:22:50,896
point.

787
00:22:51,296 --> 0:22:52,846
Notice his feet crossed the grid

788
00:22:52,846 --> 0:22:54,286
lines on the floor as he taps on

789
00:22:54,286 --> 0:22:55,876
the screen and calibrates the

790
00:22:55,876 --> 0:22:56,336
survey.

791
00:22:57,256 --> 0:22:59,206
At corners, the surveyor makes

792
00:22:59,206 --> 0:23:00,546
right angle turns in place,

793
00:22:59,206 --> 0:23:00,546
right angle turns in place,

794
00:23:00,726 --> 0:23:02,426
rotates the screen, taps and

795
00:23:02,426 --> 0:23:03,056
walks.

796
00:23:03,416 --> 0:23:05,336
The area colored in represents

797
00:23:05,336 --> 0:23:06,936
the Wi-Fi signal captured.

798
00:23:07,296 --> 0:23:08,726
When the floor is entirely

799
00:23:08,726 --> 0:23:10,416
colored in, the area is

800
00:23:10,416 --> 0:23:11,886
fingerprinted and the data is

801
00:23:11,886 --> 0:23:12,816
ready for upload.

802
00:23:13,346 --> 0:23:14,816
Once the survey data has been

803
00:23:14,816 --> 0:23:16,846
processed, you'll be notified

804
00:23:16,846 --> 0:23:18,206
that the indoor positioning is

805
00:23:18,206 --> 0:23:18,616
ready.

806
00:23:19,106 --> 0:23:21,126
Toggle privacy, location

807
00:23:21,126 --> 0:23:22,846
services to flush the location

808
00:23:22,846 --> 0:23:23,406
cache.

809
00:23:24,056 --> 0:23:25,676
And then you can begin testing

810
00:23:25,886 --> 0:23:27,216
the accuracy of indoor

811
00:23:27,216 --> 0:23:27,876
positioning.

812
00:23:28,846 --> 0:23:30,186
If positioning is working, the

813
00:23:30,186 --> 0:23:31,806
map will display in test mode,

814
00:23:32,126 --> 0:23:33,956
the green areas represent all

815
00:23:33,956 --> 0:23:35,526
the surveys that were uploaded

816
00:23:35,646 --> 0:23:37,186
and successfully processed.

817
00:23:37,396 --> 0:23:39,126
The blue dot is the center point

818
00:23:39,126 --> 0:23:40,936
of the positioning estimate with

819
00:23:40,936 --> 0:23:42,186
the light blue circle being the

820
00:23:42,186 --> 0:23:44,176
range of confidence in accuracy.

821
00:23:44,936 --> 0:23:47,376
Here, you can see the confidence

822
00:23:47,376 --> 0:23:48,946
circle is well within the three

823
00:23:48,946 --> 0:23:50,816
to five meter expectation of

824
00:23:50,816 --> 0:23:52,656
Apple indoor positioning and is

825
00:23:52,656 --> 0:23:54,156
following the tester quite well

826
00:23:54,156 --> 0:23:55,596
in the smaller environment.

827
00:23:55,856 --> 0:23:57,366
Including fixtures such as the

828
00:23:57,366 --> 0:23:59,516
tables in your IMDF will add to

829
00:23:59,516 --> 0:24:00,686
the constraints placed on the

830
00:23:59,516 --> 0:24:00,686
the constraints placed on the

831
00:24:00,686 --> 0:24:02,786
positioning service and enhance

832
00:24:02,786 --> 0:24:03,416
accuracy.

833
00:24:04,166 --> 0:24:05,476
Let's recap how indoor

834
00:24:05,476 --> 0:24:07,156
positioning works and how we

835
00:24:07,156 --> 0:24:07,766
enable it.

836
00:24:08,736 --> 0:24:10,526
Apple indoor positioning uses

837
00:24:10,526 --> 0:24:11,896
Wi-Fi fingerprinting.

838
00:24:12,156 --> 0:24:14,246
It uses any Wi-Fi signal in the

839
00:24:14,246 --> 0:24:16,176
building passively and does not

840
00:24:16,176 --> 0:24:18,006
make any impact on the network.

841
00:24:18,636 --> 0:24:20,206
Indoor positioning is enabled

842
00:24:20,206 --> 0:24:22,276
using the indoor survey app and

843
00:24:22,276 --> 0:24:24,216
the IMDF made available through

844
00:24:24,216 --> 0:24:25,546
the Indoor Maps Program.

845
00:24:26,156 --> 0:24:28,116
Surveying isn't difficult but

846
00:24:28,116 --> 0:24:29,946
the steps have to be followed if

847
00:24:29,946 --> 0:24:30,966
you are to succeed.

848
00:24:31,826 --> 0:24:33,546
Everyone surveying a location

849
00:24:33,686 --> 0:24:35,096
should have the same model of

850
00:24:35,176 --> 0:24:37,626
iPhone and same version of iOS.

851
00:24:37,926 --> 0:24:39,586
Drop pins every five to eight

852
00:24:39,586 --> 0:24:41,586
meters as you walk and continue

853
00:24:41,586 --> 0:24:42,556
in smooth motion.

854
00:24:43,076 --> 0:24:44,696
Keep in the center of walkways

855
00:24:44,696 --> 0:24:46,186
to ensure the walls are factored

856
00:24:46,186 --> 0:24:47,176
in to your positioning

857
00:24:47,176 --> 0:24:47,966
constraints.

858
00:24:48,256 --> 0:24:50,276
Do not use any sort of case on

859
00:24:50,276 --> 0:24:52,306
your iPhone while surveying.

860
00:24:52,656 --> 0:24:54,646
And read the help documentation

861
00:24:54,646 --> 0:24:57,026
for tips on patterns to walk for

862
00:24:57,026 --> 0:24:58,416
enabling specific types of

863
00:24:58,416 --> 0:25:00,316
buildings and positioning use

864
00:24:58,416 --> 0:25:00,316
buildings and positioning use

865
00:25:00,316 --> 0:25:00,826
cases.

866
00:25:01,166 --> 0:25:03,886
Finally, now that we have an

867
00:25:03,886 --> 0:25:06,496
IMDF and indoor positioning, how

868
00:25:06,496 --> 0:25:07,866
do we put this in our apps and

869
00:25:07,866 --> 0:25:08,786
websites?

870
00:25:09,246 --> 0:25:11,606
MapKit and MapKit JS support

871
00:25:11,606 --> 0:25:13,006
decoding and rendering of

872
00:25:13,006 --> 0:25:14,386
GeoJSON files.

873
00:25:14,736 --> 0:25:16,276
You can use these frameworks to

874
00:25:16,276 --> 0:25:18,776
display IMDF data as overlays

875
00:25:18,956 --> 0:25:20,646
and annotations on a map.

876
00:25:21,206 --> 0:25:23,026
Styling your indoor map elements

877
00:25:23,026 --> 0:25:24,546
is critical to how the map is

878
00:25:24,546 --> 0:25:26,086
perceived and used.

879
00:25:26,366 --> 0:25:28,076
Apply styles that match your

880
00:25:28,076 --> 0:25:29,926
app's theme or your company's

881
00:25:29,926 --> 0:25:30,396
brand.

882
00:25:30,686 --> 0:25:33,126
For a rich indoor experience,

883
00:25:33,346 --> 0:25:35,476
you can take advantage of indoor

884
00:25:35,476 --> 0:25:37,186
location by enabling Apple

885
00:25:37,186 --> 0:25:38,996
indoor positioning within your

886
00:25:38,996 --> 0:25:41,146
building and then using APIs

887
00:25:41,146 --> 0:25:43,046
from the core location framework

888
00:25:43,046 --> 0:25:44,806
to display the user location

889
00:25:44,806 --> 0:25:45,536
indoors.

890
00:25:45,796 --> 0:25:47,336
To learn more, check out the

891
00:25:47,336 --> 0:25:49,266
video and sample code for our

892
00:25:49,266 --> 0:25:52,586
WWDC Session Adding Indoor Maps

893
00:25:52,586 --> 0:25:53,976
to your App and Website.

894
00:25:55,356 --> 0:25:56,656
And that's the Indoor Maps

895
00:25:56,656 --> 0:25:57,246
Program.

896
00:25:57,466 --> 0:25:58,806
We look forward to seeing all

897
00:25:58,806 --> 0:25:59,976
the wonderful apps you will

898
00:25:59,976 --> 0:26:00,336
build.

899
00:25:59,976 --> 0:26:00,336
build.

900
00:26:00,726 --> 0:26:02,146
Thank you so much for your time

901
00:26:02,146 --> 0:26:02,576
today.

902
00:26:02,576 --> 0:26:04,796
For more information, visit our

903
00:26:04,796 --> 0:26:05,616
website at

904
00:26:05,616 --> 0:26:08,446
register.apple.com/indoor.
